(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{2429:function(t,s,p){t.exports=p.p+"assets/img/1675321756189.52301fc9.png"},2430:function(t,s,p){t.exports=p.p+"assets/img/1675321855888.7599fadb.png"},2431:function(t,s,p){t.exports=p.p+"assets/img/1675321939572.4f438f61.png"},2432:function(t,s,p){t.exports=p.p+"assets/img/1675322179776.47435499.png"},2433:function(t,s,p){t.exports=p.p+"assets/img/1675322455054.82dfeaa8.png"},2434:function(t,s,p){t.exports=p.p+"assets/img/1675322705950.ad25162f.png"},2435:function(t,s,p){t.exports=p.p+"assets/img/1675322750933.d157eb9a.png"},2436:function(t,s,p){t.exports=p.p+"assets/img/1675322784322.5529bc16.png"},2437:function(t,s,p){t.exports=p.p+"assets/img/1675323181055.3f81c214.png"},2438:function(t,s,p){t.exports=p.p+"assets/img/1675323274464.8b2c812f.png"},2439:function(t,s,p){t.exports=p.p+"assets/img/1675323352955.b6968530.png"},2440:function(t,s,p){t.exports=p.p+"assets/img/1675323382883.4010366d.png"},2441:function(t,s,p){t.exports=p.p+"assets/img/1675323469841.3d3c8eb7.png"},2442:function(t,s,p){t.exports=p.p+"assets/img/1675323509052.f0a4211b.png"},2443:function(t,s,p){t.exports=p.p+"assets/img/1675323670344.807c0943.png"},2444:function(t,s,p){t.exports=p.p+"assets/img/1675325015589.4c3d792d.png"},6013:function(t,s,p){"use strict";p.r(s);var v=p(15),_=Object(v.a)({},(function(){var t=this,s=t.$createElement,v=t._self._c||s;return v("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[v("h2",{attrs:{id:"一-高阶组件"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#一-高阶组件"}},[t._v("#")]),t._v(" 一，高阶组件")]),t._v(" "),v("h3",{attrs:{id:"_1-高阶组件"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_1-高阶组件"}},[t._v("#")]),t._v(" 1，高阶组件")]),t._v(" "),v("p",[t._v("HOC = Higher Order Compoent。高阶组件是类组件编程中一种非常重要的代码逻辑复用技巧。随着Hook的流行，高阶组件用的越来越少了。")]),t._v(" "),v("p",[t._v("vue中的代码复用技巧：")]),t._v(" "),v("ul",[v("li",[t._v("组件")]),t._v(" "),v("li",[t._v("minix")]),t._v(" "),v("li",[t._v("插件")]),t._v(" "),v("li",[t._v("自定义指令")]),t._v(" "),v("li",[t._v("过滤器")]),t._v(" "),v("li",[t._v("Vue原型")])]),t._v(" "),v("p",[t._v("在React中，如果是类组件，可能通过HOC实现代码的复用。")]),t._v(" "),v("p",[t._v("写代码看一下，高阶组件的使用，如下：")]),t._v(" "),v("p",[v("img",{attrs:{src:p(2429),alt:"1675321756189"}})]),t._v(" "),v("p",[t._v("可以使用ES6中的装饰器语法，如下：")]),t._v(" "),v("p",[v("img",{attrs:{src:p(2430),alt:"1675321855888"}})]),t._v(" "),v("p",[t._v("高阶组件可以简写，如下：")]),t._v(" "),v("p",[v("img",{attrs:{src:p(2431),alt:"1675321939572"}})]),t._v(" "),v("p",[t._v("foo就可以叫高阶组件，也叫高阶函数，接收一个组件作为入参，经过一翻装饰（仅仅是装饰），最后返回一个新的组件。对入参组件是不能修改的。")]),t._v(" "),v("p",[t._v("前面返回的新组件是一个类组件，现在这让它返回函数组件，如下：")]),t._v(" "),v("p",[v("img",{attrs:{src:p(2432),alt:"1675322179776"}})]),t._v(" "),v("p",[t._v("高阶组件还有一种定义方法，如下：")]),t._v(" "),v("p",[v("img",{attrs:{src:p(2433),alt:"1675322455054"}})]),t._v(" "),v("p",[t._v("上面的代码可以简写，如下：")]),t._v(" "),v("p",[v("img",{attrs:{src:p(2434),alt:"1675322705950"}})]),t._v(" "),v("p",[t._v("还可以简写，如下：")]),t._v(" "),v("p",[v("img",{attrs:{src:p(2435),alt:"1675322750933"}})]),t._v(" "),v("p",[v("img",{attrs:{src:p(2436),alt:"1675322784322"}})]),t._v(" "),v("p",[t._v("高阶组件的定义方式通常有两种：")]),t._v(" "),v("div",{staticClass:"language-text line-numbers-mode"},[v("pre",{pre:!0,attrs:{class:"language-text"}},[v("code",[t._v("第一种：const hoc = (WC) => props => (&lt;jsx/>)     使用： hoc(DemoA)\n第二步：const hoc = (...arg) => WC => props => (&lt;jsx/>)   使用：hoc(1,2)(DemoA)\n")])]),t._v(" "),v("div",{staticClass:"line-numbers-wrapper"},[v("span",{staticClass:"line-number"},[t._v("1")]),v("br"),v("span",{staticClass:"line-number"},[t._v("2")]),v("br")])]),v("p",[t._v("传参问题，如下：")]),t._v(" "),v("p",[v("img",{attrs:{src:p(2437),alt:"1675323181055"}})]),t._v(" "),v("p",[t._v("可以装饰多次，如下：")]),t._v(" "),v("p",[v("img",{attrs:{src:p(2438),alt:"1675323274464"}})]),t._v(" "),v("p",[t._v("把上面装饰的写法，换成函数调用如下：")]),t._v(" "),v("p",[v("img",{attrs:{src:p(2439),alt:"1675323352955"}})]),t._v(" "),v("p",[v("img",{attrs:{src:p(2440),alt:"1675323382883"}})]),t._v(" "),v("p",[t._v("DemoA组件接收的props，如下：")]),t._v(" "),v("p",[v("img",{attrs:{src:p(2441),alt:"1675323469841"}})]),t._v(" "),v("p",[v("img",{attrs:{src:p(2442),alt:"1675323509052"}})]),t._v(" "),v("p",[t._v("在使用高阶组件时，有可能造成props丢失，如何解决props丢失问题？")]),t._v(" "),v("p",[t._v("答：需要使用props穿透来解决。")]),t._v(" "),v("p",[t._v("想获取所有的props，如下：")]),t._v(" "),v("p",[v("img",{attrs:{src:p(2443),alt:"1675323670344"}})]),t._v(" "),v("p",[t._v("上面的foo和bar都可以叫高阶组件，使用：")]),t._v(" "),v("ul",[v("li",[t._v("在类组件上可以通过  hoc(DemoA)   ， 还可以通过ES6中的装饰器")]),t._v(" "),v("li",[t._v("在函数组件上，只能通过 hoc(DemoA)")])]),t._v(" "),v("h3",{attrs:{id:"_2-高阶组件的应用"}},[v("a",{staticClass:"header-anchor",attrs:{href:"#_2-高阶组件的应用"}},[t._v("#")]),t._v(" 2，高阶组件的应用")]),t._v(" "),v("p",[t._v("高阶组件应用的也非常多，如下：")]),t._v(" "),v("ul",[v("li",[t._v("路由中的withRouter()")]),t._v(" "),v("li",[t._v("Redux中的connect()")]),t._v(" "),v("li",[t._v("Mobx中的inject和observer()")]),t._v(" "),v("li",[t._v("利用高阶组件，可以给每个项目添加公司的视图结构")]),t._v(" "),v("li",[t._v("实现后面管理系统中的水印")]),t._v(" "),v("li",[t._v("实现权限校验")]),t._v(" "),v("li",[t._v("把重复的业务功能封装到高阶组件，如：埋点，DOM操作，BOM操作...")]),t._v(" "),v("li",[t._v(".....")])]),t._v(" "),v("p",[t._v("封装一个高阶组件，可以给不同的页面添加不同的title，如下：")]),t._v(" "),v("p",[v("img",{attrs:{src:p(2444),alt:"1675325015589"}})])])}),[],!1,null,null,null);s.default=_.exports}}]);