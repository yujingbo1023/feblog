(window.webpackJsonp=window.webpackJsonp||[]).push([[238],{6142:function(t,s,a){"use strict";a.r(s);var n=a(15),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h2",{attrs:{id:"_1-什么是模块化开发"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是模块化开发"}},[t._v("#")]),t._v(" 1. 什么是模块化开发")]),t._v(" "),a("p",[a("strong",[t._v("模块化（组件化）指的就是将一个大的功能拆分为一个一个小的模块，通过不同的模块的组合来实现一个大功能。")])]),t._v(" "),a("ul",[a("li",[t._v("在node中一个 js 文件就是一个模块")]),t._v(" "),a("li",[t._v("模块内部代码对于外部来说都是不可见的，可以通过两种方式向外部暴露")]),t._v(" "),a("li",[t._v("优点：1.复用性  2.维护性")])]),t._v(" "),a("p",[a("strong",[t._v("早期使用IIFE解决命名冲突问题，但也有新的问题")])]),t._v(" "),a("ul",[a("li",[t._v("第一，我必须记得每一个模块中返回对象的命名，才能在其他模块使用过程中正确的使用")]),t._v(" "),a("li",[t._v("第二，代码写起来混乱不堪，每个文件中的代码都需要包裹在一个匿名函数中来编写；")]),t._v(" "),a("li",[t._v("第三，在没有合适的规范情况下，每个人、每个公司都可能会任意命名、甚至出现模块名称相同的情况；")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// a.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// let name = "wc";')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// let age = 18;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// function sum(){")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     return 110")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" moduleA "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"wc"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" age "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("110")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        sum\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br")])]),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// b.js")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// let name = "xq";')]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// let age = 28;")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// function sum(){")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//     return 220")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" moduleB "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" name "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"xq"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" age "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("28")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("sum")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("220")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        sum\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br")])]),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- index.html --\x3e")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token doctype"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<!")]),a("span",{pre:!0,attrs:{class:"token doctype-tag"}},[t._v("DOCTYPE")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token name"}},[t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("html")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("lang")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("en"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("head")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("meta")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("charset")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("UTF-8"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("Document"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("title")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("head")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 一个script标签就是一个代码段 --\x3e")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./a.js"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}}),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- b.js中的数据，污染了a.js中的数据 --\x3e")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./b.js"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}}),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n    "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}},[a("span",{pre:!0,attrs:{class:"token language-javascript"}},[t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 下面的代码段可以使用上在的代码段提供的数据")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("moduleA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("moduleA"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("moduleB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("moduleB"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    ")])]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("body")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("html")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br")])]),a("p",[a("strong",[t._v("JavaScript社区为了解决上面的问题，涌现出一系列好用的规范，接下来我们就学习具有代表性的一些规范")])]),t._v(" "),a("ul",[a("li",[t._v("AMD、CMD、CommonJS")]),t._v(" "),a("li",[t._v("JavaScript本身，直到ES6（2015）才推出了自己的模块化方案")]),t._v(" "),a("li",[t._v("我们重点讲解CommonJS和ES6的模块化")])]),t._v(" "),a("h2",{attrs:{id:"_2-commonjs和node"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-commonjs和node"}},[t._v("#")]),t._v(" 2. CommonJS和Node")]),t._v(" "),a("p",[a("strong",[t._v("CommonJS是一个规范，简称为CJS，Node是CommonJS在服务器端一个具有代表性的实现")])]),t._v(" "),a("ul",[a("li",[t._v("CommonJS是规范，Node在服务器端实现了这个规范")]),t._v(" "),a("li",[t._v("Browserify是CommonJS在浏览器中的一种实现")]),t._v(" "),a("li",[t._v("webpack打包工具具备对CommonJS的支持和转换")])]),t._v(" "),a("p",[a("strong",[t._v("CommonJS规范要求")])]),t._v(" "),a("ul",[a("li",[t._v("在Node中每一个js文件都是一个单独的模块")]),t._v(" "),a("li",[t._v("模块中包括CommonJS规范的核心变量：exports、module.exports、require，使用这些变量来方便的进行模块化开发")]),t._v(" "),a("li",[t._v("exports和module.exports可以负责对模块中的内容进行导出")]),t._v(" "),a("li",[t._v("require函数可以帮助我们导入其他模块（自定义模块、系统模块、第三方库模块）中的内容")])]),t._v(" "),a("h2",{attrs:{id:"_3-导出"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-导出"}},[t._v("#")]),t._v(" 3. 导出")]),t._v(" "),a("p",[a("strong",[t._v("exports导出")])]),t._v(" "),a("ul",[a("li",[t._v("exports是一个对象，我们可以在这个对象中添加很多个属性，添加的属性会导出")]),t._v(" "),a("li",[t._v("另外一个文件中可以导入，require通过各种查找方式，最终找到了exports这个对象，将这个exports对象赋值给一个变量")])]),t._v(" "),a("p",[a("strong",[t._v("module.exports导出")])]),t._v(" "),a("ul",[a("li",[t._v("CommonJS中是没有module.exports的概念的")]),t._v(" "),a("li",[t._v("但是为了实现模块的导出，Node中使用的是Module的类，每一个模块都是Module的一个实例，也就是module")]),t._v(" "),a("li",[t._v("所以在Node中真正用于导出的其实根本不是exports，而是module.exports，module才是导出的真正实现者")]),t._v(" "),a("li",[t._v("之所以exports也可以导出，是因为module对象的exports属性是exports对象的一个引用")]),t._v(" "),a("li",[t._v("就是说 module.exports = exports = main中的bar")])]),t._v(" "),a("h2",{attrs:{id:"_4-require函数解析"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-require函数解析"}},[t._v("#")]),t._v(" 4. require函数解析")]),t._v(" "),a("p",[a("strong",[t._v("require是一个函数，可以帮助我们引入一个文件（模块）中导出的对象")])]),t._v(" "),a("ul",[a("li",[t._v("模块在被第一次引入时，模块中的js代码会被运行一次")]),t._v(" "),a("li",[t._v("模块被多次引入时，会缓存，最终只加载（运行）一次")]),t._v(" "),a("li",[t._v("深度优先算法进行加载")])]),t._v(" "),a("p",[a("strong",[t._v("情况一：X是一个Node核心模块，比如path、http")])]),t._v(" "),a("ul",[a("li",[t._v("直接返回核心模块，并且停止查找")])]),t._v(" "),a("p",[a("strong",[t._v("情况一：X是以 ./ 或 ../ 或 /（根目录）开头的")])]),t._v(" "),a("ul",[a("li",[t._v("第一步：将X当做一个文件在对应的目录下查找\n"),a("ul",[a("li",[t._v("如果有后缀名，按照后缀名的格式查找对应的文件")]),t._v(" "),a("li",[t._v("如果没有后缀名，会按照如下顺序\n"),a("ul",[a("li",[t._v("1，直接查找文件X")]),t._v(" "),a("li",[t._v("2，查找X.js文件")]),t._v(" "),a("li",[t._v("3，查找X.json文件")]),t._v(" "),a("li",[t._v("4，查找X.node文件")])])])])]),t._v(" "),a("li",[t._v("第二步：没有找到对应的文件，将X作为一个目录\n"),a("ul",[a("li",[t._v("查找目录下面的index文件\n"),a("ul",[a("li",[t._v("1，查找X/index.js文件")]),t._v(" "),a("li",[t._v("2，查找X/index.json文件")]),t._v(" "),a("li",[t._v("3，查找X/index.node文件")])])])])]),t._v(" "),a("li",[t._v("如果没有找到，那么报错：not found")])]),t._v(" "),a("p",[a("strong",[t._v("情况三：直接是一个X（没有路径），并且X不是一个核心模块")])]),t._v(" "),a("ul",[a("li",[t._v("会在用户电脑上查找这个第三方模块，会在多个地方查找，如果找不到，就报错")])]),t._v(" "),a("h2",{attrs:{id:"_5-commonjs规范缺点"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-commonjs规范缺点"}},[t._v("#")]),t._v(" 5. CommonJS规范缺点")]),t._v(" "),a("p",[a("strong",[t._v("CommonJS加载模块是同步的")])]),t._v(" "),a("ul",[a("li",[t._v("同步的意味着只有等到对应的模块加载完毕，当前模块中的内容才能被运行")]),t._v(" "),a("li",[t._v("在服务器不会有什么问题，因为服务器加载的js文件都是本地文件，加载速度非常快")]),t._v(" "),a("li",[t._v("所以它应用在浏览器，同步的就意味着后续的js代码都无法正常运行，即使是一些简单的DOM操作")]),t._v(" "),a("li",[t._v("所以在浏览器中，我们通常不使用CommonJS规范")]),t._v(" "),a("li",[t._v("早期为了可以在浏览器中使用模块化，通常会采用AMD或CMD")]),t._v(" "),a("li",[t._v("但是目前一方面现代的浏览器已经支持ES Modules，AMD和CMD已经使用非常少了")])]),t._v(" "),a("h2",{attrs:{id:"_6-esmodule用法详解"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_6-esmodule用法详解"}},[t._v("#")]),t._v(" 6. ESModule用法详解")]),t._v(" "),a("p",[a("strong",[t._v("ECMA推出自己的模块化系统，弥补了JavaScript没有模块化一直是它的痛点")])]),t._v(" "),a("ul",[a("li",[t._v("CommonJS、AMD、CMD等，仅仅是JS社区的规范，并不是官方的")]),t._v(" "),a("li",[t._v("采用ES Module将自动采用严格模式：use strict")])]),t._v(" "),a("p",[a("strong",[t._v("ES Module模块采用export和import关键字来实现模块化")])]),t._v(" "),a("ul",[a("li",[t._v("export负责将模块内的内容导出")]),t._v(" "),a("li",[t._v("import负责从其他模块导入内容")])]),t._v(" "),a("p",[a("strong",[t._v("浏览器中演示ES6的模块化开发（需要在服务器端来测试）")])]),t._v(" "),a("div",{staticClass:"language-html line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[t._v("- "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./modules/foo.js"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}}),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n- "),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("main.js"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("type")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("module"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{pre:!0,attrs:{class:"token script"}}),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h3",{attrs:{id:"exports关键字"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#exports关键字"}},[t._v("#")]),t._v(" exports关键字")]),t._v(" "),a("ul",[a("li",[t._v("export关键字将一个模块中的变量、函数、类等导出")]),t._v(" "),a("li",[t._v("方式一：在语句声明的前面直接加上export关键字")]),t._v(" "),a("li",[t._v("方式二：将所有需要导出的标识符，放到export后面的 {}中（这里的 {}里面不是ES6的对象字面量的增强写法，{}也不是表示一个对象的）")]),t._v(" "),a("li",[t._v("方式三：导出时给标识符起一个别名，通过as关键字起别名")])]),t._v(" "),a("h3",{attrs:{id:"import关键字"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#import关键字"}},[t._v("#")]),t._v(" import关键字")]),t._v(" "),a("ul",[a("li",[t._v("import关键字负责从另外一个模块中导入内容")]),t._v(" "),a("li",[t._v("方式一：import {标识符列表} from '模块'，这里的{}也不是一个对象，里面只是存放导入的标识符列表内容")]),t._v(" "),a("li",[t._v("方式二：导入时给标识符起别名，通过as关键字起别名")]),t._v(" "),a("li",[t._v("方式三：通过 * 将模块功能放到一个模块功能对象（a module object）上")])]),t._v(" "),a("h3",{attrs:{id:"export和import结合使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#export和import结合使用"}},[t._v("#")]),t._v(" export和import结合使用")]),t._v(" "),a("ul",[a("li",[t._v("在开发和封装一个功能库时，通常我们希望将暴露的所有接口放到一个文件中，这样方便指定统一的接口规范，也方便阅读")])]),t._v(" "),a("h3",{attrs:{id:"default用法"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#default用法"}},[t._v("#")]),t._v(" default用法")]),t._v(" "),a("p",[a("strong",[t._v("前面我们学习的导出功能都是有名字的导出（named exports）")])]),t._v(" "),a("ul",[a("li",[t._v("在导出export时指定了名字")]),t._v(" "),a("li",[t._v("在导入import时需要知道具体的名字")])]),t._v(" "),a("p",[a("strong",[t._v("另一种导出叫做默认导出（default export）")])]),t._v(" "),a("ul",[a("li",[t._v("默认导出export时可以不需要指定名字")]),t._v(" "),a("li",[t._v("在导入时不需要使用 {}，并且可以自己来指定名字")]),t._v(" "),a("li",[t._v("在一个模块中，只能有一个默认导出（default export）")])]),t._v(" "),a("h3",{attrs:{id:"import函数"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#import函数"}},[t._v("#")]),t._v(" import函数")]),t._v(" "),a("p",[t._v("通过import加载一个模块，是不可以在其放到逻辑代码中的，ES Module在被JS引擎解析时，就必须知道它的依赖关系，这个时候js代码没有任何的运行，所以无法在进行类似于if判断中根据代码的执行情况")]),t._v(" "),a("p",[a("strong",[t._v("确确实实希望动态的来加载某一个模块")])]),t._v(" "),a("ul",[a("li",[t._v("如果根据不同的条件，动态来选择加载模块的路径")]),t._v(" "),a("li",[t._v("使用 import() 函数来动态加载")]),t._v(" "),a("li",[t._v("import函数返回一个Promise，可以通过then获取结果")])])])}),[],!1,null,null,null);s.default=e.exports}}]);