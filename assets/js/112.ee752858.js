(window.webpackJsonp=window.webpackJsonp||[]).push([[112],{5983:function(_,v,t){"use strict";t.r(v);var l=t(15),i=Object(l.a)({},(function(){var _=this,v=_.$createElement,l=_._self._c||v;return l("ContentSlotsDistributor",{attrs:{"slot-key":_.$parent.slotKey}},[l("h2",{attrs:{id:"一-云开发介绍"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#一-云开发介绍"}},[_._v("#")]),_._v(" 一，云开发介绍")]),_._v(" "),l("h3",{attrs:{id:"_1-传统开发模式"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#_1-传统开发模式"}},[_._v("#")]),_._v(" 1，传统开发模式")]),_._v(" "),l("p",[_._v("传统开发项目模型：")]),_._v(" "),l("img",{staticStyle:{zoom:"80%"},attrs:{src:t(755)}}),_._v(" "),l("p",[_._v("特点：")]),_._v(" "),l("ul",[l("li",[_._v("维护服务器成本")]),_._v(" "),l("li",[_._v("对于单纯会前端的人来说，学习后端相关的技术，成本较高")])]),_._v(" "),l("h3",{attrs:{id:"_2-云开发模式"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#_2-云开发模式"}},[_._v("#")]),_._v(" 2，云开发模式")]),_._v(" "),l("p",[_._v("云开发模式：")]),_._v(" "),l("img",{staticStyle:{zoom:"80%"},attrs:{src:t(756)}}),_._v(" "),l("p",[l("strong",[_._v("云开发核心技术")])]),_._v(" "),l("ul",[l("li",[_._v("云数据库")]),_._v(" "),l("li",[_._v("云存储")]),_._v(" "),l("li",[_._v("云函数")])]),_._v(" "),l("p",[l("strong",[_._v("云数据库")])]),_._v(" "),l("ul",[l("li",[_._v("小程序端直接对数据库进行增删改查")]),_._v(" "),l("li",[_._v("类似于MongoDB的文档存储的数据库")])]),_._v(" "),l("p",[l("strong",[_._v("云存储")])]),_._v(" "),l("ul",[l("li",[_._v("在小程序端直接上传、下载、删除文件")]),_._v(" "),l("li",[_._v("自带CDN，提高文件访问速度")]),_._v(" "),l("li",[_._v("可以获取临时链接，支持在小程序外访问")])]),_._v(" "),l("p",[l("strong",[_._v("云函数")])]),_._v(" "),l("ul",[l("li",[_._v("提供了在服务器代码的执行能力")]),_._v(" "),l("li",[_._v("包含微信天然的私有鉴权")]),_._v(" "),l("li",[_._v("更大权限的操作数据库等")]),_._v(" "),l("li",[_._v("进行云调用、HTTP请求等操作")])]),_._v(" "),l("p",[_._v("传统开发与云开发对比：")]),_._v(" "),l("img",{staticStyle:{zoom:"80%"},attrs:{src:t(757)}}),_._v(" "),l("h3",{attrs:{id:"_3-创建项目与项目目录结构分析"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#_3-创建项目与项目目录结构分析"}},[_._v("#")]),_._v(" 3，创建项目与项目目录结构分析")]),_._v(" "),l("ul",[l("li",[_._v("直接课堂演示")])]),_._v(" "),l("h3",{attrs:{id:"_4-环境的配额与项目初始化"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#_4-环境的配额与项目初始化"}},[_._v("#")]),_._v(" 4，环境的配额与项目初始化")]),_._v(" "),l("p",[l("strong",[_._v("什么是环境")])]),_._v(" "),l("ul",[l("li",[_._v("一个环境对应一整套独立的云开发资源，包括数据库、存储空间、云函数等资源。")]),_._v(" "),l("li",[_._v("各个环境是相互独立的，用户开通云开发后即创建了一个环境，默认可拥有最多两个环境。")])]),_._v(" "),l("p",[l("strong",[_._v("什么是配额")])]),_._v(" "),l("ul",[l("li",[_._v("就是云开发的配置，之前有免费的，现在开始收费了")]),_._v(" "),l("li",[_._v("可以根据自己的业务量选择对应的更高配额")]),_._v(" "),l("li",[_._v("参考：https://developers.weixin.qq.com/miniprogram/dev/wxcloud/billing/quota.html")])]),_._v(" "),l("p",[l("strong",[_._v("项目初始化")])]),_._v(" "),l("ul",[l("li",[_._v("在小程序端开始使用云能力前，需先调用 wx.cloud.init 方法完成云能力初始化")]),_._v(" "),l("li",[_._v("env:  必填，默认选择的环境")]),_._v(" "),l("li",[_._v("traceUser：非必填，是否在将用户访问记录到用户管理中，在控制台中可见")])]),_._v(" "),l("h3",{attrs:{id:"_4-云数据库"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#_4-云数据库"}},[_._v("#")]),_._v(" 4，云数据库")]),_._v(" "),l("p",[l("strong",[_._v("云开发提供了一个文档型数据库，类似于MongoDB，里面存放的是一条条JSON格式的对象")])]),_._v(" "),l("ul",[l("li",[_._v("数据库 database")]),_._v(" "),l("li",[_._v("集合 collection")]),_._v(" "),l("li",[_._v("文档document")])]),_._v(" "),l("p",[l("strong",[_._v("操作数据库：")])]),_._v(" "),l("ul",[l("li",[_._v("控制台操作")]),_._v(" "),l("li",[_._v("代码操作")]),_._v(" "),l("li",[_._v("云函数中操作")])]),_._v(" "),l("h3",{attrs:{id:"_5-操作数据库"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#_5-操作数据库"}},[_._v("#")]),_._v(" 5，操作数据库")]),_._v(" "),l("p",[l("strong",[_._v("添加数据")])]),_._v(" "),l("ul",[l("li",[_._v("add")])]),_._v(" "),l("p",[l("strong",[_._v("修改数据")])]),_._v(" "),l("ul",[l("li",[_._v("update：更新（增加）某一个字段")]),_._v(" "),l("li",[_._v("set: 使用新对象替换原来对象")])]),_._v(" "),l("p",[l("strong",[_._v("删除数据")])]),_._v(" "),l("ul",[l("li",[_._v("remove")])]),_._v(" "),l("p",[l("strong",[_._v("查询数据")])]),_._v(" "),l("ul",[l("li",[_._v("方式一：通过ID查询精确的某一条数据，使用doc查询ID")]),_._v(" "),l("li",[_._v("方式二：根据条件查询满足条件的数据，使用where作为条件")]),_._v(" "),l("li",[_._v("方式三：通过指令过滤数据，使用db.command的指令")]),_._v(" "),l("li",[_._v("方式四：通过正则表达式匹配符合的数据，使用db. RegExp创建正则规则")]),_._v(" "),l("li",[_._v("方式五：获取整个集合的数据（小程序端一次性最多20条，云函数中可以获取100条），直接调用get")]),_._v(" "),l("li",[_._v("方式六：过滤、分页、排序查询数据，使用field、skip、limit、orderBy")])]),_._v(" "),l("h3",{attrs:{id:"_6-云存储"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#_6-云存储"}},[_._v("#")]),_._v(" 6，云存储")]),_._v(" "),l("p",[l("strong",[_._v("云存储用于将文件存储到云端")])]),_._v(" "),l("ul",[l("li",[_._v("云存储提供高可用、高稳定、强安全的云端存储服务")]),_._v(" "),l("li",[_._v("持任意数量和形式的非结构化数据存储，如视频和图片")]),_._v(" "),l("li",[_._v("并在控制台进行可视化管理")])]),_._v(" "),l("p",[l("strong",[_._v("云存储对应的操作：")])]),_._v(" "),l("ul",[l("li",[_._v("上传文件\n"),l("ul",[l("li",[_._v("本地文上传到云存储中")])])]),_._v(" "),l("li",[_._v("获取文件的临时链接，在外网可以访问\n"),l("ul",[l("li",[_._v("在小程序以外的地方访问（比如浏览器、手机端），可以通过获取临时链接，该链接可以在小程序以外访问，文件链接有效期为两个小时")])])]),_._v(" "),l("li",[_._v("下载文件\n"),l("ul",[l("li",[_._v("把云存储中的文件下载到本地")])])]),_._v(" "),l("li",[_._v("文件删除\n"),l("ul",[l("li",[_._v("将文件从云存储中删除掉，这样可以省略空间")])])])]),_._v(" "),l("h3",{attrs:{id:"_7-云函数与云调用"}},[l("a",{staticClass:"header-anchor",attrs:{href:"#_7-云函数与云调用"}},[_._v("#")]),_._v(" 7，云函数与云调用")]),_._v(" "),l("p",[l("strong",[_._v("云函数即在云端（服务器端）运行的函数")])]),_._v(" "),l("ul",[l("li",[_._v("开发者无需购买、搭建服务器，只需编写函数代码并部署到云端即可在小程序端调用")]),_._v(" "),l("li",[_._v("云函数之间也可互相调用")]),_._v(" "),l("li",[_._v("一个云函数可由多个文件组成，占用一定量的CPU 内存等计算资源")]),_._v(" "),l("li",[_._v("云函数完全独立，可分别部署在不同的地区")])]),_._v(" "),l("p",[l("strong",[_._v("注意点")])]),_._v(" "),l("ul",[l("li",[_._v("一个云函数的写法与我们之前写的的 JS函数一样，代码运行在云端 Node.js 中")]),_._v(" "),l("li",[_._v("当云函数被小程序端调用时，写的代码会被放在Node.js 运行环境中执行")]),_._v(" "),l("li",[_._v("云函数中，我们可以：进行网络请求，操作云数据库，操作云存储等")]),_._v(" "),l("li",[_._v("云函数的独特优势在于与微信登录鉴权的无缝整合")])]),_._v(" "),l("p",[l("strong",[_._v("使用步骤")])]),_._v(" "),l("ul",[l("li",[l("ol",[l("li",[_._v("创建一个云函数")])])]),_._v(" "),l("li",[l("ol",{attrs:{start:"2"}},[l("li",[_._v("编写云函数的代码逻辑")])])]),_._v(" "),l("li",[l("ol",{attrs:{start:"3"}},[l("li",[_._v("将云函数上传到云端")])])]),_._v(" "),l("li",[l("ol",{attrs:{start:"4"}},[l("li",[_._v("小程序中对云函数调用")])])])]),_._v(" "),l("p",[l("strong",[_._v("云函数中操作数据库")])]),_._v(" "),l("ul",[l("li",[_._v("云函数中对数据库的操作限制更少，所以我们常常会在云函数中进行数据库操作")]),_._v(" "),l("li",[_._v("可以根据条件一次性删除多条数据")]),_._v(" "),l("li",[_._v("对数据请求的个数没有严格的限制")])]),_._v(" "),l("p",[l("strong",[_._v("云函数中发送网络请求")])]),_._v(" "),l("ul",[l("li",[_._v("可以使用axios库发生网络请求")])]),_._v(" "),l("p",[l("strong",[_._v("云函数生成小程序码")])]),_._v(" "),l("ul",[l("li",[_._v("对于使用云开发生成小程序码，相对于自己搭建服务器简单很少，因为它拥有天然的鉴权功能")]),_._v(" "),l("li",[_._v("参考：https://developers.weixin.qq.com/miniprogram/dev/api-backend/open-api/qr-code/wxacode.createQRCode.html")])])])}),[],!1,null,null,null);v.default=i.exports},755:function(_,v,t){_.exports=t.p+"assets/img/1667387686752.15e5c4c4.png"},756:function(_,v,t){_.exports=t.p+"assets/img/1667387950567.249fa108.png"},757:function(_,v,t){_.exports=t.p+"assets/img/1667388019201.d9c350c9.png"}}]);