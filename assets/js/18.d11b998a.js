(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{3050:function(t,s,a){t.exports=a.p+"assets/img/15.d0c10014.png"},3051:function(t,s,a){t.exports=a.p+"assets/img/16.f274da87.png"},3052:function(t,s,a){t.exports=a.p+"assets/img/17.31d548b8.png"},3053:function(t,s,a){t.exports=a.p+"assets/img/18.4306c111.png"},3054:function(t,s,a){t.exports=a.p+"assets/img/19.ee539376.png"},3055:function(t,s,a){t.exports=a.p+"assets/img/20.bccddca9.png"},3056:function(t,s,a){t.exports=a.p+"assets/img/27.f0af678d.png"},3057:function(t,s,a){t.exports=a.p+"assets/img/28.d91d726d.png"},3058:function(t,s,a){t.exports=a.p+"assets/img/1667790344398.247bf237.png"},3059:function(t,s,a){t.exports=a.p+"assets/img/1667790416310.b0585cf1.png"},3060:function(t,s,a){t.exports=a.p+"assets/img/1667790462168.d6817134.png"},3061:function(t,s,a){t.exports=a.p+"assets/img/1667790525194.d156fd72.png"},3062:function(t,s,a){t.exports=a.p+"assets/img/1667790644837.bb3754db.png"},3063:function(t,s,a){t.exports=a.p+"assets/img/1667790670615.00ef7395.png"},3064:function(t,s,a){t.exports=a.p+"assets/img/003.c30115f4.png"},3065:function(t,s,a){t.exports=a.p+"assets/img/1667790788207.04d5de87.png"},3066:function(t,s,a){t.exports=a.p+"assets/img/1667790855801.7d44a55d.png"},3067:function(t,s,a){t.exports=a.p+"assets/img/1667790944825.966848ed.png"},3068:function(t,s,a){t.exports=a.p+"assets/img/1667791034547.b9c11e16.png"},3069:function(t,s,a){t.exports=a.p+"assets/img/1667791087111.7da6572c.png"},3070:function(t,s,a){t.exports=a.p+"assets/img/1667791236783.0f1aedb6.png"},3071:function(t,s,a){t.exports=a.p+"assets/img/1667791277146.c322e27e.png"},3072:function(t,s,a){t.exports=a.p+"assets/img/1667791290450.58b95c06.png"},3073:function(t,s,a){t.exports=a.p+"assets/img/1667791400329.73ba3e35.png"},3074:function(t,s,a){t.exports=a.p+"assets/img/1667791438944.241c8ed0.png"},3075:function(t,s,a){t.exports=a.p+"assets/img/1667791455999.3b9978f2.png"},3076:function(t,s,a){t.exports=a.p+"assets/img/1667791469279.42b330f9.png"},3077:function(t,s,a){t.exports=a.p+"assets/img/1667791555621.0589f2e4.png"},3078:function(t,s,a){t.exports=a.p+"assets/img/1667791726400.0cb4ec0c.png"},3079:function(t,s,a){t.exports=a.p+"assets/img/1667791787029.d20bcbf5.png"},3080:function(t,s,a){t.exports=a.p+"assets/img/1667791892914.dc6e18e1.png"},3081:function(t,s,a){t.exports=a.p+"assets/img/1667791984343.590eec31.png"},3082:function(t,s,a){t.exports=a.p+"assets/img/1667868662663.1dffab27.png"},3083:function(t,s,a){t.exports=a.p+"assets/img/1667868787903.ffd254f2.png"},3084:function(t,s,a){t.exports=a.p+"assets/img/1667868896042.b747eed5.png"},3085:function(t,s,a){t.exports=a.p+"assets/img/1667868937554.3413ea34.png"},3086:function(t,s,a){t.exports=a.p+"assets/img/1667869124749.64917e08.png"},3087:function(t,s,a){t.exports=a.p+"assets/img/1667869171541.be3e8505.png"},3088:function(t,s,a){t.exports=a.p+"assets/img/1667869201205.d7ed939f.png"},3089:function(t,s,a){t.exports=a.p+"assets/img/1667869247224.934d9bf8.png"},3090:function(t,s,a){t.exports=a.p+"assets/img/1667869415319.0a07ba2c.png"},3091:function(t,s,a){t.exports=a.p+"assets/img/1667869465532.62ba28eb.png"},3092:function(t,s,a){t.exports=a.p+"assets/img/1667869532294.d04ae966.png"},3093:function(t,s,a){t.exports=a.p+"assets/img/1667869565078.2a498bed.png"},3094:function(t,s,a){t.exports=a.p+"assets/img/1667869731888.8a2d9a46.png"},3095:function(t,s,a){t.exports=a.p+"assets/img/1667869764147.8a38dd0d.png"},3096:function(t,s,a){t.exports=a.p+"assets/img/1667869791331.f474d895.png"},3097:function(t,s,a){t.exports=a.p+"assets/img/1667869814550.6feda451.png"},3098:function(t,s,a){t.exports=a.p+"assets/img/1667869894197.8b7c9c98.png"},3099:function(t,s,a){t.exports=a.p+"assets/img/1667869985148.6612ddc7.png"},3100:function(t,s,a){t.exports=a.p+"assets/img/1667870110070.e9c7dfba.png"},3101:function(t,s,a){t.exports=a.p+"assets/img/1667870137958.17c9f7e1.png"},3102:function(t,s,a){t.exports=a.p+"assets/img/1667870179949.82007e2d.png"},3103:function(t,s,a){t.exports=a.p+"assets/img/1667870202870.e284d300.png"},3104:function(t,s,a){t.exports=a.p+"assets/img/1667870262753.2476a30a.png"},3105:function(t,s,a){t.exports=a.p+"assets/img/1667870660573.54117486.png"},3106:function(t,s,a){t.exports=a.p+"assets/img/1667870458126.4dcd83c4.png"},3107:function(t,s,a){t.exports=a.p+"assets/img/1667870489280.f78a4e8e.png"},3108:function(t,s,a){t.exports=a.p+"assets/img/1667870537121.817d3a15.png"},3109:function(t,s,a){t.exports=a.p+"assets/img/1667870685893.082a1e4e.png"},3110:function(t,s,a){t.exports=a.p+"assets/img/1667870709697.a59ada18.png"},3111:function(t,s,a){t.exports=a.p+"assets/img/1667870729142.9defaa03.png"},3112:function(t,s,a){t.exports=a.p+"assets/img/1667870775551.45abafe9.png"},3113:function(t,s,a){t.exports=a.p+"assets/img/1667870800862.1b70b2fc.png"},3114:function(t,s,a){t.exports=a.p+"assets/img/1667870858478.1417755d.png"},3115:function(t,s,a){t.exports=a.p+"assets/img/1667873866999.d572ad5a.png"},3116:function(t,s,a){t.exports=a.p+"assets/img/1667873882818.d91bc0f7.png"},3117:function(t,s,a){t.exports=a.p+"assets/img/1667873901623.f3a785d5.png"},3118:function(t,s,a){t.exports=a.p+"assets/img/1667872304102.0f1b1c49.png"},3119:function(t,s,a){t.exports=a.p+"assets/img/1667872457716.830a3b0a.png"},3120:function(t,s,a){t.exports=a.p+"assets/img/1667872557308.309c439d.png"},3121:function(t,s,a){t.exports=a.p+"assets/img/1667872663733.f29fec17.png"},3122:function(t,s,a){t.exports=a.p+"assets/img/1667872828621.1f2cff08.png"},3123:function(t,s,a){t.exports=a.p+"assets/img/1667872710093.b88f0d3a.png"},3124:function(t,s,a){t.exports=a.p+"assets/img/1667872863677.5ba86fad.png"},3125:function(t,s,a){t.exports=a.p+"assets/img/1667872776438.66716226.png"},3126:function(t,s,a){t.exports=a.p+"assets/img/1667873033928.206cb1f9.png"},3127:function(t,s,a){t.exports=a.p+"assets/img/1667873065863.62eaff3f.png"},3128:function(t,s,a){t.exports=a.p+"assets/img/1667873149792.5f7fb83e.png"},3129:function(t,s,a){t.exports=a.p+"assets/img/1667873219869.af5413d0.png"},3130:function(t,s,a){t.exports=a.p+"assets/img/1667873248529.da91144e.png"},3131:function(t,s,a){t.exports=a.p+"assets/img/1667873344217.d63a414b.png"},3132:function(t,s,a){t.exports=a.p+"assets/img/1667873466700.36a3578e.png"},3133:function(t,s,a){t.exports=a.p+"assets/img/1667873509735.b7b78600.png"},3134:function(t,s,a){t.exports=a.p+"assets/img/1667873567603.bc7e611c.png"},3135:function(t,s,a){t.exports=a.p+"assets/img/1667873584831.44eecfae.png"},3136:function(t,s,a){t.exports=a.p+"assets/img/1667873639632.743d0adc.png"},3137:function(t,s,a){t.exports=a.p+"assets/img/1667873692490.3d57d11a.png"},3138:function(t,s,a){t.exports=a.p+"assets/img/1667873721432.3cea04b9.png"},6038:function(t,s,a){"use strict";a.r(s);var n=a(15),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"一-vuex状态管理"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#一-vuex状态管理"}},[t._v("#")]),t._v(" 一, vuex状态管理")]),t._v(" "),n("h3",{attrs:{id:"_1-1-为什么要使用vuex"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-为什么要使用vuex"}},[t._v("#")]),t._v(" 1.1, 为什么要使用Vuex")]),t._v(" "),n("p",[n("strong",[t._v("Vue应用程序的状态(state)管理器。它采用集中式存储管理应用的所有组件的状态，并以相应的规则保证状态以一种可预测的方式发生变化。")])]),t._v(" "),n("ul",[n("li",[t._v("把“状态”换成“数据”。")]),t._v(" "),n("li",[t._v("如果你的项目中，需要用到在各个子组件中共享数据，则你就需要用到vuex。")])]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3050)}}),t._v(" "),n("h3",{attrs:{id:"_1-2-示例"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-示例"}},[t._v("#")]),t._v(" 1.2，示例")]),t._v(" "),n("p",[n("strong",[t._v("设置如下组件：")])]),t._v(" "),n("ul",[n("li",[t._v("一个vue实例，充当根组件")]),t._v(" "),n("li",[t._v("子组件AddNumber")]),t._v(" "),n("li",[t._v("子组件SubNumber")])]),t._v(" "),n("p",[n("strong",[t._v("希望在两个子组件AddNumber和subNumer之间共同维护和使用数据项:counter")])]),t._v(" "),n("ul",[n("li",[t._v("在vue实例中：显示 counter的值")]),t._v(" "),n("li",[t._v("在子组件AddNumber中：显示 counter的值；添加counter的值")]),t._v(" "),n("li",[t._v("在子组件subNumber中：显示 counter的值；减少counter的值")]),t._v(" "),n("li",[t._v("由于上面的需要，我们需要在三个地方共同使用同一数据项counter，所以我们需要用到 vuex")])]),t._v(" "),n("p",[n("strong",[t._v("第一步：先引入vue.js，再引入vuex.js")])]),t._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 引入Vue.js --\x3e")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./libs/vue.js"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token script"}}),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("\x3c!-- 引入Vuex.js --\x3e")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("src")]),n("span",{pre:!0,attrs:{class:"token attr-value"}},[n("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("./libs/vuex.js"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),n("span",{pre:!0,attrs:{class:"token script"}}),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("script")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br")])]),n("p",[n("strong",[t._v("第二步：实例化vuex中的store对象")])]),t._v(" "),n("ul",[n("li",[t._v("实例化一个对象，就是通过new的方式去创建一个对象")])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 创建一个仓库  需要传入一个配置对象")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" store "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vuex"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Store")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// state是状态  是集中管理的状态")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 状态是响应式的")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 组件中的data中的状态也是状态式")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("state")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("counter")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 修改状态的唯一途径")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("mutations")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 每一个mutations就是一个函数")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 第1个参数是仓库中的state")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// payload 是commit mutation时，传递的参数")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" payload")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// state.counter++;")]),t._v("\n            state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("counter "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+=")]),t._v(" payload\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sub")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("state")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("counter"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("--")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 放异步代码，如果有异步操作，代码需要写在actions中")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("actions")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 类似于组件中的计算属性")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 根据已有状态计算出一个新的状态")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("getters")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br")])]),n("p",[n("strong",[t._v("第三步：注入到Vue实例中")])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" vm "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("el")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#app"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     store"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vuex也是一个插件，需要挂载到根组件上，就意味着，它的子子孙孙，都可以使用这个仓库了")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("components")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         AddCounter"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n         SubCounter\n     "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\n         "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br")])]),n("p",[n("strong",[t._v("第四步：定义两个组件并在App中使用之")])]),t._v(" "),n("div",{staticClass:"language-js line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" AddCounter "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Vue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("extend")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("template")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('\n        <div>\n            <p>我是addcounter组件</p>\n            <p>在addcounter组件中使用仓库中的数据：{{$store.state.counter}}</p>\n            <button @click="add">加1</button>\n        </div>\n    ')]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("methods")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("add")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n             "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 这样是粗暴地修改状态 极力不推荐")]),t._v("\n             "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 如果其它组件也这样修改状态，状态不好追踪了")]),t._v("\n             "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// this.$store.state.counter++;")]),t._v("\n\n             "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 需要commit一个mutation，通过mutation去修改状态")]),t._v("\n             "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$store"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("commit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"add"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n         "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("let")]),t._v(" SubCounter "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Vue"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("extend")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("template")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('\n        <div>\n            <p>我是subcounter组件</p>\n            <p>在subcounter组件中使用仓库中的数据：{{$store.state.counter}}</p>\n            <button @click="sub">减1</button>\n        </div>\n    ')]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("methods")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n         "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("sub")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n             "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// this.$store.state.counter--;")]),t._v("\n\n             "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("$store"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("commit")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sub"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n         "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n     "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br"),n("span",{staticClass:"line-number"},[t._v("3")]),n("br"),n("span",{staticClass:"line-number"},[t._v("4")]),n("br"),n("span",{staticClass:"line-number"},[t._v("5")]),n("br"),n("span",{staticClass:"line-number"},[t._v("6")]),n("br"),n("span",{staticClass:"line-number"},[t._v("7")]),n("br"),n("span",{staticClass:"line-number"},[t._v("8")]),n("br"),n("span",{staticClass:"line-number"},[t._v("9")]),n("br"),n("span",{staticClass:"line-number"},[t._v("10")]),n("br"),n("span",{staticClass:"line-number"},[t._v("11")]),n("br"),n("span",{staticClass:"line-number"},[t._v("12")]),n("br"),n("span",{staticClass:"line-number"},[t._v("13")]),n("br"),n("span",{staticClass:"line-number"},[t._v("14")]),n("br"),n("span",{staticClass:"line-number"},[t._v("15")]),n("br"),n("span",{staticClass:"line-number"},[t._v("16")]),n("br"),n("span",{staticClass:"line-number"},[t._v("17")]),n("br"),n("span",{staticClass:"line-number"},[t._v("18")]),n("br"),n("span",{staticClass:"line-number"},[t._v("19")]),n("br"),n("span",{staticClass:"line-number"},[t._v("20")]),n("br"),n("span",{staticClass:"line-number"},[t._v("21")]),n("br"),n("span",{staticClass:"line-number"},[t._v("22")]),n("br"),n("span",{staticClass:"line-number"},[t._v("23")]),n("br"),n("span",{staticClass:"line-number"},[t._v("24")]),n("br"),n("span",{staticClass:"line-number"},[t._v("25")]),n("br"),n("span",{staticClass:"line-number"},[t._v("26")]),n("br"),n("span",{staticClass:"line-number"},[t._v("27")]),n("br"),n("span",{staticClass:"line-number"},[t._v("28")]),n("br"),n("span",{staticClass:"line-number"},[t._v("29")]),n("br"),n("span",{staticClass:"line-number"},[t._v("30")]),n("br"),n("span",{staticClass:"line-number"},[t._v("31")]),n("br"),n("span",{staticClass:"line-number"},[t._v("32")]),n("br"),n("span",{staticClass:"line-number"},[t._v("33")]),n("br"),n("span",{staticClass:"line-number"},[t._v("34")]),n("br"),n("span",{staticClass:"line-number"},[t._v("35")]),n("br")])]),n("p",[n("strong",[t._v("第五步：使用store中的数据")])]),t._v(" "),n("ul",[n("li",[t._v("一旦你在vue的实例中注入了store，则在所有的子组件及 vue的实例中，你都可以通过：this.$store.state. 数据名 去获取数据")]),t._v(" "),n("li",[t._v("类似于我们把router注入到vue实例中，我们就可以通过this.$router 和 this.$route操作路由。")])]),t._v(" "),n("div",{staticClass:"language-html line-numbers-mode"},[n("pre",{pre:!0,attrs:{class:"language-html"}},[n("code",[t._v(" "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("在addcounter组件中使用仓库中的数据：{{$store.state.counter}}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n "),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("在subcounter组件中使用仓库中的数据：{{$store.state.counter}}"),n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token tag"}},[n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("</")]),t._v("p")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])]),t._v(" "),n("div",{staticClass:"line-numbers-wrapper"},[n("span",{staticClass:"line-number"},[t._v("1")]),n("br"),n("span",{staticClass:"line-number"},[t._v("2")]),n("br")])]),n("ul",[n("li",[t._v("可以通过：this.$store.state. 数据名 = 值  去修改数据，但是，vuex反对这么做")])]),t._v(" "),n("p",[n("strong",[t._v("你可以有两种方法去使用数据")])]),t._v(" "),n("ul",[n("li",[t._v("获取：this.$store.state. 数据名")]),t._v(" "),n("li",[t._v("修改：在组件内部通过this.$commit方法触发事件，执行mutations当中的对应的方法")])]),t._v(" "),n("h2",{attrs:{id:"二-在vue脚手架中使用vuex"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#二-在vue脚手架中使用vuex"}},[t._v("#")]),t._v(" 二, 在vue脚手架中使用vuex")]),t._v(" "),n("p",[n("strong",[t._v("设置如下组件：")])]),t._v(" "),n("ul",[n("li",[t._v("一个vue实例，充当根组件")]),t._v(" "),n("li",[t._v("子组件AddNumber。")]),t._v(" "),n("li",[t._v("子组件subNumber。")])]),t._v(" "),n("p",[n("strong",[t._v("希望在两个子组件AddNumber和subNumer之间共同维护和使用数据项:counter")])]),t._v(" "),n("ul",[n("li",[t._v("在vue实例中：显示 counter的值")]),t._v(" "),n("li",[t._v("在子组件AddNumber中：显示 counter的值；添加counter的值")]),t._v(" "),n("li",[t._v("在子组件subNumber中：显示 counter的值；减少counter的值")])]),t._v(" "),n("h2",{attrs:{id:"三-vuex的四个概念"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#三-vuex的四个概念"}},[t._v("#")]),t._v(" 三, vuex的四个概念")]),t._v(" "),n("ul",[n("li",[t._v("state: 放数据。在组件之间共享")]),t._v(" "),n("li",[t._v("mutations: 修改数据 修改数据的唯一途径")]),t._v(" "),n("li",[t._v("getters: 从state中的数据中，取出一部分来，依据数据项产生新的结果。类似于vue实例中的computed（计算属性）。")]),t._v(" "),n("li",[t._v("actions: 在对数据实现异步操作时，要用的")])]),t._v(" "),n("h3",{attrs:{id:"_3-1-store"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-store"}},[t._v("#")]),t._v(" 3.1, store")]),t._v(" "),n("ul",[n("li",[t._v("每一个 Vuex 应用的核心就是 store（仓库）")]),t._v(" "),n("li",[t._v("store是一个容器，包含着vue应用的状态(state)")])]),t._v(" "),n("p",[n("strong",[t._v("两大特点")])]),t._v(" "),n("ul",[n("li",[t._v("Vuex 的状态存储是响应式的。当 Vue 组件从 store 中读取状态的时候，若 store 中的状态发生变化，那么相应的组件也会相应地得到高效更新")]),t._v(" "),n("li",[t._v("你不能直接更改 store 中的状态。改变 store 中的状态的唯一途径就是显式地提交(commit) mutations。这样使得我们可以方便地跟踪每一个状态的变化")])]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3051)}}),t._v(" "),n("p",[n("strong",[t._v("在组件中应该如何去获取保存在vuex. 中的数据")])]),t._v(" "),n("ul",[n("li",[t._v("方法一：this.$store.state.xxx")]),t._v(" "),n("li",[t._v("方法二：变通一下，在组件内部用一个计算属性来获取数据")]),t._v(" "),n("li",[t._v("方法三：mapState")])]),t._v(" "),n("p",[n("strong",[t._v("mapState")])]),t._v(" "),n("ul",[n("li",[t._v("this.$store.state.count写起来比较麻烦。在vuex中提供一个便捷的写法：mapState。")]),t._v(" "),n("li",[t._v("它的作用：是把写在vuex.store.state中的数据直接映射到组件中计算属性中。")])]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3052)}}),t._v(" "),n("h3",{attrs:{id:"_3-2-getters"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-getters"}},[t._v("#")]),t._v(" 3.2, getters")]),t._v(" "),n("p",[n("strong",[t._v("有时希望在state中的数据基础上，派生出一些其它的数据，此时可以使用getters")])]),t._v(" "),n("p",[n("strong",[t._v("在组件中使用getters")])]),t._v(" "),n("ul",[n("li",[t._v("方法一：this.$store.getters.failedNumber")]),t._v(" "),n("li",[t._v("方法二 ：mapGetters")]),t._v(" "),n("li",[t._v("与mapState类似，它的作用也是用来帮助我们去简化代码。我们如果直接定义一个计算属性也是可以的。")])]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3053)}}),t._v(" "),n("h3",{attrs:{id:"_3-3-mutations"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-mutations"}},[t._v("#")]),t._v(" 3.3, mutations")]),t._v(" "),n("p",[n("strong",[t._v("作用是：它是唯一的用来修改数据的工具")])]),t._v(" "),n("p",[n("strong",[t._v("在组件中使用的方式")])]),t._v(" "),n("ul",[n("li",[t._v("方法一:this.$store.commit")]),t._v(" "),n("li",[t._v("方法二：mapMutations")])]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3054)}}),t._v(" "),n("h3",{attrs:{id:"_3-4-actions"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-actions"}},[t._v("#")]),t._v(" 3.4, actions")]),t._v(" "),n("p",[n("strong",[t._v("在mutations中，如果操作是异步的，在控制台中并不能追踪到")])]),t._v(" "),n("ul",[n("li",[t._v("可以把异步操作写在actions中")]),t._v(" "),n("li",[t._v("虽然把异步操作写在actions中，但是改变状态的唯一方式是不变，还是通过mutations")])]),t._v(" "),n("p",[n("strong",[t._v("action与mutations的区别")])]),t._v(" "),n("ul",[n("li",[t._v("actions 提交的是 mutations，而不是直接变更状态。")]),t._v(" "),n("li",[t._v("actions 可以包含任意异步操作。")]),t._v(" "),n("li",[t._v("action 函数接受一个与 store 实例具有相同方法和属性的 context 对象，可以通过context.commit提交，也可以通过context.state获取state。")])]),t._v(" "),n("p",[n("strong",[t._v("在组件中使用actions")])]),t._v(" "),n("ul",[n("li",[t._v("方法一: this.$store.dispatch(“actions名”)")]),t._v(" "),n("li",[t._v("方法二：mapActions")])]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3055)}}),t._v(" "),n("h2",{attrs:{id:"四-vuex版本的todomvc"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#四-vuex版本的todomvc"}},[t._v("#")]),t._v(" 四, Vuex版本的TodoMVC")]),t._v(" "),n("p",[n("strong",[t._v("目标")])]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3056)}}),t._v(" "),n("h3",{attrs:{id:"_4-1-分析"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-1-分析"}},[t._v("#")]),t._v(" 4.1, 分析")]),t._v(" "),n("p",[n("strong",[t._v("状态：")])]),t._v(" "),n("ul",[n("li",[t._v("准备两个数据项。放在vuex中，供组件去使用")]),t._v(" "),n("li",[t._v('todos：[{text:"学习vuex, So easy~", done:false}, {text:"学习React, So easy~", done:false}]')]),t._v(" "),n("li",[t._v("visibilty:，筛选的条件 :all completed active")])]),t._v(" "),n("p",[n("strong",[t._v("功能：")])]),t._v(" "),n("ul",[n("li",[t._v("显示todos数据")]),t._v(" "),n("li",[t._v("添加一条todos数据")]),t._v(" "),n("li",[t._v("删除todos数据")]),t._v(" "),n("li",[t._v("修改某一项的状态：完成，没有完成之间切换")]),t._v(" "),n("li",[t._v("批量修改状态: 全部完成，全部未完成")]),t._v(" "),n("li",[t._v("统计没有完成的数量")]),t._v(" "),n("li",[t._v("批量删除已经完成的")]),t._v(" "),n("li",[t._v("三种状态的筛选")]),t._v(" "),n("li",[t._v("编辑todos的内容")]),t._v(" "),n("li",[t._v("本地存储")])]),t._v(" "),n("p",[n("strong",[t._v("组件：")])]),t._v(" "),n("ul",[n("li",[t._v("在脚手架工具的基础上，额外设置两个组件")])]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3057)}}),t._v(" "),n("h3",{attrs:{id:"_4-2-准备静态资源"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-2-准备静态资源"}},[t._v("#")]),t._v(" 4.2, 准备静态资源")]),t._v(" "),n("p",[t._v("第一步：准备静态资源，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3058)}}),t._v(" "),n("p",[t._v("第二步：把App.vue中的template的内容用todo.html的内容来代替")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3059)}}),t._v(" "),n("p",[t._v("第三步：在main.js中引入对应的css")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3060)}}),t._v(" "),n("h3",{attrs:{id:"_4-3-创建并引入仓库"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-3-创建并引入仓库"}},[t._v("#")]),t._v(" 4.3, 创建并引入仓库")]),t._v(" "),n("p",[t._v("在项目中安装vuex，如下：")]),t._v(" "),n("ul",[n("li",[t._v("npm i vuex@3.6.2")])]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3061)}}),t._v(" "),n("p",[t._v("创建仓库，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3062)}}),t._v(" "),n("p",[t._v("在main.js中去引入")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3063)}}),t._v(" "),n("h3",{attrs:{id:"_4-4-拆分组件-显示todo数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-4-拆分组件-显示todo数据"}},[t._v("#")]),t._v(" 4.4, 拆分组件(显示todo数据)")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3064)}}),t._v(" "),n("p",[t._v("创建ListTodo，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3065)}}),t._v(" "),n("p",[t._v("在app.vue组件中，使用Listtodo组件，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3066)}}),t._v(" "),n("p",[t._v("把仓库中的todo数据，映射到app.vue组件中，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3067)}}),t._v(" "),n("p",[t._v("有多个todo, 就循环出多少个ListTodo组件，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3068)}}),t._v(" "),n("p",[t._v("通App.vue这个父组件给ListTodo这个子组件进行数据传递，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3069)}}),t._v(" "),n("p",[t._v("在子组件中，设置props接收之，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3070)}}),t._v(" "),n("p",[t._v("修改仓库中的状态，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3071)}}),t._v(" "),n("p",[t._v("效果如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3072)}}),t._v(" "),n("h3",{attrs:{id:"_4-5-添加一条todos数据-addtodo组件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-5-添加一条todos数据-addtodo组件"}},[t._v("#")]),t._v(" 4.5, 添加一条todos数据（AddTodo组件）")]),t._v(" "),n("p",[t._v("抽离AddTodo组件，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3073)}}),t._v(" "),n("p",[t._v("在app.vue中使用，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3074)}}),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3075)}}),t._v(" "),n("p",[t._v("效果如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3076)}}),t._v(" "),n("p",[n("strong",[t._v("下面就要具体去实现添加一条todo的功能")])]),t._v(" "),n("ul",[n("li",[t._v("本质上需去vuex.store.state.todos中加一条记录，这里就是涉及修改vuex中的数据，必须要用mutations")]),t._v(" "),n("li",[t._v("所以，我们应该先去vuex中去创建好一个mutations，如下：")])]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3077)}}),t._v(" "),n("p",[t._v("把这个方法直接映射到addTodo组件的methods中，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3078)}}),t._v(" "),n("h3",{attrs:{id:"_4-6-删除一条todos数据"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-6-删除一条todos数据"}},[t._v("#")]),t._v(" 4.6, 删除一条todos数据")]),t._v(" "),n("p",[t._v("需求：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3079)}}),t._v(" "),n("p",[t._v("删除操作也是要去修改数据，则对应的也要建立一个mutations。如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3080)}}),t._v(" "),n("p",[t._v("这个删除操作是在listTodo组件中完成的。在 listTodo组件中给删除的按钮绑定事件，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3081)}}),t._v(" "),n("h3",{attrs:{id:"_4-7-修改某一项的状态-完成-没有完成之间切换"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-7-修改某一项的状态-完成-没有完成之间切换"}},[t._v("#")]),t._v(" 4.7, 修改某一项的状态：完成，没有完成之间切换")]),t._v(" "),n("p",[t._v("说白了，就是修改vuex中每个todo的状态（done），如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3082)}}),t._v(" "),n("p",[t._v("这个操作，本质就是要去修改某一个todo项的done属性。所以也需要在mutations中去写好对应的方法。如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3083)}}),t._v(" "),n("p",[t._v("在ListTodo，映射成方法，这个工作是在ListTodo组件完成的，我们去给按钮加change事件。如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3084)}}),t._v(" "),n("p",[t._v("浏览器测试之，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3085)}}),t._v(" "),n("h3",{attrs:{id:"_4-8-批量修改状态-全部完成-全部未完成"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-8-批量修改状态-全部完成-全部未完成"}},[t._v("#")]),t._v(" 4.8, 批量修改状态: 全部完成，全部未完成")]),t._v(" "),n("p",[t._v("首先，我们要去判断当前情况下，是否所有的任务已经全部完成。如果全部完成，则它应该要处于check状态。现在，我们需要在原始数据的基础，加工得到一个新数据：是否全部完成。所以，应该要在vuex.store中的加一个getters，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3086)}}),t._v(" "),n("p",[t._v("在app.vue中使用之，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3087)}}),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3088)}}),t._v(" "),n("p",[t._v("浏览器测试之，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3089)}}),t._v(" "),n("p",[t._v("现在只是实现了：根据是否全部完成来设置input的checked。下面，我们还要给它加change事件:")]),t._v(" "),n("ol",[n("li",[t._v("如果当前是处于checked ，则点击事件发生，要全部改成done:false")]),t._v(" "),n("li",[t._v("如果当前是没有选中，则点击事件发生，要全部改成done:true")])]),t._v(" "),n("p",[t._v("上面的操作，也是要修改vuex中仓库的数据，则对应地要去建立mutations，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3090)}}),t._v(" "),n("p",[t._v("在app.vue使用之，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3091)}}),t._v(" "),n("p",[t._v("使用toggleAllTodo，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3092)}}),t._v(" "),n("p",[t._v("浏览器测试之，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3093)}}),t._v(" "),n("h3",{attrs:{id:"_4-9-统计没有完成的数量"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-9-统计没有完成的数量"}},[t._v("#")]),t._v(" 4.9, 统计没有完成的数量")]),t._v(" "),n("p",[t._v("统计没有完成的数量，说白了，就是数一数，todos中todo的done是false个数，不需要对数据进行修改，只是在原始数据的基础上，加工得到新数据。去vuex.store中设置一个 Getters，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3094)}}),t._v(" "),n("p",[t._v("把它map到app.vue组件中，成为一个计算属性。如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3095)}}),t._v(" "),n("p",[t._v("使用之，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3096)}}),t._v(" "),n("p",[t._v("测试之，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3097)}}),t._v(" "),n("h3",{attrs:{id:"_4-10-批量删除已经完成的"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-10-批量删除已经完成的"}},[t._v("#")]),t._v(" 4.10, 批量删除已经完成的")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3098)}}),t._v(" "),n("p",[t._v("这个按钮，只有在“完成了数量>0”的情况下才可见。")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3099)}}),t._v(" "),n("ul",[n("li",[t._v("todos.length是所有任务的数量")]),t._v(" "),n("li",[t._v("unDoneNumber: 还没有完成的数量")]),t._v(" "),n("li",[t._v("当Todos.length >unDoneNumber 说明，有一部分是已经完成了的。此时应该要显示这个按钮")])]),t._v(" "),n("p",[t._v("下面，接给它添加点击事件，点击之后，要把已经完成的任务从整个的todos当中删除掉。由于这里涉及修改数据 ，我们需要去建立 一个mutations。如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3100)}}),t._v(" "),n("p",[t._v("下面，把这个功能映射到app.vue组件的methods 中。如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3101)}}),t._v(" "),n("p",[t._v("给按钮加点击事件，调用这个方法，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3102)}}),t._v(" "),n("p",[t._v("浏览器测试之，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3103)}}),t._v(" "),n("h3",{attrs:{id:"_4-11-三种状态的筛选"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-11-三种状态的筛选"}},[t._v("#")]),t._v(" 4.11, 三种状态的筛选")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3104)}}),t._v(" "),n("p",[t._v("这个操作不会更改数据，只是在原数据的基础上进行筛选，得到新数据。所以，我们去创建getters，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3105)}}),t._v(" "),n("p",[t._v("每次点击不同的按钮，就相当于是要去修改visibility，所以，我们要去设置一个mutations，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3106)}}),t._v(" "),n("p",[t._v("把上面的changeVisibility映射到app.vue组件的方法中去。如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3107)}}),t._v(" "),n("p",[t._v("使用之，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3108)}}),t._v(" "),n("p",[t._v("浏览器测试之，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3109)}}),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3110)}}),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3111)}}),t._v(" "),n("p",[t._v("最重要的一点：现在的数据的来源不是整个的todos，而是根据当前条件过滤的数据，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3112)}}),t._v(" "),n("p",[t._v("使用之，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3113)}}),t._v(" "),n("p",[t._v("浏览器测试之，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3114)}}),t._v(" "),n("p",[t._v("点击样式进行切换，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3115)}}),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3116)}}),t._v(" "),n("p",[t._v("浏览器测试之，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3117)}}),t._v(" "),n("h3",{attrs:{id:"_4-12-编辑todos的内容"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-12-编辑todos的内容"}},[t._v("#")]),t._v(" 4.12, 编辑todos的内容")]),t._v(" "),n("p",[t._v("当我们在todo的内容上双击时，则会处于编辑状态:")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3118)}}),t._v(" "),n("p",[t._v("开启编辑状态：加一个editing这个类.")]),t._v(" "),n("ul",[n("li",[t._v("在listtodo中，设置双击加一个类的效果")]),t._v(" "),n("li",[t._v("给listTodo这个组件加一个isEdit数据项，用它来表示当前是否处于编辑状态")])]),t._v(" "),n("p",[t._v("并不是说所有的状态都放在vuex中比较好，如果一个状态只有在一个组件中使用，好么不需要放到vuex中，我们直接把isEdit状态放到组件中，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3119)}}),t._v(" "),n("p",[t._v("对文件框和整个的li，它们在编辑状态会有不同的样式：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3120)}}),t._v(" "),n("p",[t._v("在浏览器中测试之，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3121)}}),t._v(" "),n("p",[t._v("当双击todo时，需要启动编辑，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3122)}}),t._v(" "),n("p",[t._v("对输入框来说，初始值就是当前的todo的text，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3123)}}),t._v(" "),n("p",[t._v("测试之，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3124)}}),t._v(" "),n("p",[t._v("当失去焦点，或者是回车时，都应该结束编辑")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3125)}}),t._v(" "),n("p",[t._v("但，结束编辑时，应该去修改数据。我们应该定义 一个mutations去处理这种情况。如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3126)}}),t._v(" "),n("p",[t._v("下面，我们把这个mutations映射到listTodo组件的methods中去。如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3127)}}),t._v(" "),n("p",[t._v("修改输入框的代码，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3128)}}),t._v(" "),n("p",[t._v("修改finishEdit方法，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3129)}}),t._v(" "),n("p",[t._v("浏览器测试之，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3130)}}),t._v(" "),n("h3",{attrs:{id:"_4-13-本地存储"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_4-13-本地存储"}},[t._v("#")]),t._v(" 4.13, 本地存储")]),t._v(" "),n("p",[t._v("新建一个模块:")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3131)}}),t._v(" "),n("p",[t._v("当数据变发生变动，就需要存储数据，在vuex中改变数据的唯一途径就是mutation，所以，只要触发mutaion，说明就要修改数据了，所以说，在每 个mutation中，就需要保存数据了，在store/index.js中引入这个模块，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3132)}}),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3133)}}),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3134)}}),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3135)}}),t._v(" "),n("p",[t._v("浏览器测试之，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3136)}}),t._v(" "),n("p",[t._v("需要在localStorage中取数据，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3137)}}),t._v(" "),n("p",[t._v("浏览器测试之，如下：")]),t._v(" "),n("img",{staticStyle:{zoom:"80%"},attrs:{src:a(3138)}})])}),[],!1,null,null,null);s.default=e.exports}}]);