<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>13-React项目实战 | 码路教育</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/feblog/favicon.ico">
    <meta name="description" content="码路大前端课程">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/feblog/assets/css/0.styles.669bb7eb.css" as="style"><link rel="preload" href="/feblog/assets/js/app.51e0e5f0.js" as="script"><link rel="preload" href="/feblog/assets/js/28.9ddac576.js" as="script"><link rel="preload" href="/feblog/assets/js/1.485e4e25.js" as="script"><link rel="preload" href="/feblog/assets/js/4.28e0859f.js" as="script"><link rel="prefetch" href="/feblog/assets/js/10.917929da.js"><link rel="prefetch" href="/feblog/assets/js/100.b74c3c70.js"><link rel="prefetch" href="/feblog/assets/js/101.e23fc3f5.js"><link rel="prefetch" href="/feblog/assets/js/102.49a47bac.js"><link rel="prefetch" href="/feblog/assets/js/103.2f0fda80.js"><link rel="prefetch" href="/feblog/assets/js/104.5cde2432.js"><link rel="prefetch" href="/feblog/assets/js/105.0115ff48.js"><link rel="prefetch" href="/feblog/assets/js/106.a45ce9cb.js"><link rel="prefetch" href="/feblog/assets/js/107.d8b7386a.js"><link rel="prefetch" href="/feblog/assets/js/108.69b0a870.js"><link rel="prefetch" href="/feblog/assets/js/109.c6393bb9.js"><link rel="prefetch" href="/feblog/assets/js/11.6054d677.js"><link rel="prefetch" href="/feblog/assets/js/110.f2e3b9e8.js"><link rel="prefetch" href="/feblog/assets/js/111.40e1a489.js"><link rel="prefetch" href="/feblog/assets/js/112.8d56b7bf.js"><link rel="prefetch" href="/feblog/assets/js/113.98214060.js"><link rel="prefetch" href="/feblog/assets/js/114.4a97a66a.js"><link rel="prefetch" href="/feblog/assets/js/115.57cf1cf1.js"><link rel="prefetch" href="/feblog/assets/js/116.afe91e0d.js"><link rel="prefetch" href="/feblog/assets/js/117.b026e542.js"><link rel="prefetch" href="/feblog/assets/js/118.9a817209.js"><link rel="prefetch" href="/feblog/assets/js/119.ff02580d.js"><link rel="prefetch" href="/feblog/assets/js/12.698049e6.js"><link rel="prefetch" href="/feblog/assets/js/120.311920af.js"><link rel="prefetch" href="/feblog/assets/js/121.d24ee917.js"><link rel="prefetch" href="/feblog/assets/js/122.2db77c9e.js"><link rel="prefetch" href="/feblog/assets/js/123.1688cbc0.js"><link rel="prefetch" href="/feblog/assets/js/124.8a2fdefd.js"><link rel="prefetch" href="/feblog/assets/js/125.c35bac0c.js"><link rel="prefetch" href="/feblog/assets/js/126.7849c3e4.js"><link rel="prefetch" href="/feblog/assets/js/127.6165e139.js"><link rel="prefetch" href="/feblog/assets/js/128.55e67331.js"><link rel="prefetch" href="/feblog/assets/js/129.38aec961.js"><link rel="prefetch" href="/feblog/assets/js/13.ef800922.js"><link rel="prefetch" href="/feblog/assets/js/130.0ca52b7b.js"><link rel="prefetch" href="/feblog/assets/js/131.c9054903.js"><link rel="prefetch" href="/feblog/assets/js/132.45ce00d0.js"><link rel="prefetch" href="/feblog/assets/js/133.67b09727.js"><link rel="prefetch" href="/feblog/assets/js/134.268f3116.js"><link rel="prefetch" href="/feblog/assets/js/135.c5e4f0ba.js"><link rel="prefetch" href="/feblog/assets/js/136.6e942c82.js"><link rel="prefetch" href="/feblog/assets/js/137.14e612d1.js"><link rel="prefetch" href="/feblog/assets/js/138.a2ed982a.js"><link rel="prefetch" href="/feblog/assets/js/139.c5ef6fca.js"><link rel="prefetch" href="/feblog/assets/js/14.ed63de37.js"><link rel="prefetch" href="/feblog/assets/js/140.3b49c910.js"><link rel="prefetch" href="/feblog/assets/js/141.8d876e5d.js"><link rel="prefetch" href="/feblog/assets/js/142.0031267c.js"><link rel="prefetch" href="/feblog/assets/js/143.a468c7a6.js"><link rel="prefetch" href="/feblog/assets/js/144.f5e595b4.js"><link rel="prefetch" href="/feblog/assets/js/145.b8a3b344.js"><link rel="prefetch" href="/feblog/assets/js/146.e5957b7f.js"><link rel="prefetch" href="/feblog/assets/js/147.20d99137.js"><link rel="prefetch" href="/feblog/assets/js/148.1ea9d8fc.js"><link rel="prefetch" href="/feblog/assets/js/149.a6caea88.js"><link rel="prefetch" href="/feblog/assets/js/15.8a58ae5d.js"><link rel="prefetch" href="/feblog/assets/js/150.e22ce19f.js"><link rel="prefetch" href="/feblog/assets/js/151.81f46155.js"><link rel="prefetch" href="/feblog/assets/js/152.0bf88c43.js"><link rel="prefetch" href="/feblog/assets/js/153.453f5ba4.js"><link rel="prefetch" href="/feblog/assets/js/154.ba075558.js"><link rel="prefetch" href="/feblog/assets/js/155.0211f546.js"><link rel="prefetch" href="/feblog/assets/js/156.bea165ee.js"><link rel="prefetch" href="/feblog/assets/js/157.8812e544.js"><link rel="prefetch" href="/feblog/assets/js/158.b54b56db.js"><link rel="prefetch" href="/feblog/assets/js/159.04aef30f.js"><link rel="prefetch" href="/feblog/assets/js/16.3b869097.js"><link rel="prefetch" href="/feblog/assets/js/160.863e6471.js"><link rel="prefetch" href="/feblog/assets/js/161.acb97298.js"><link rel="prefetch" href="/feblog/assets/js/162.954ab48b.js"><link rel="prefetch" href="/feblog/assets/js/163.416e651f.js"><link rel="prefetch" href="/feblog/assets/js/164.09e57b25.js"><link rel="prefetch" href="/feblog/assets/js/165.f4970273.js"><link rel="prefetch" href="/feblog/assets/js/166.6f75b3ce.js"><link rel="prefetch" href="/feblog/assets/js/167.465ee437.js"><link rel="prefetch" href="/feblog/assets/js/168.faa982af.js"><link rel="prefetch" href="/feblog/assets/js/169.67b72388.js"><link rel="prefetch" href="/feblog/assets/js/17.8a0d2eed.js"><link rel="prefetch" href="/feblog/assets/js/170.ca0566ed.js"><link rel="prefetch" href="/feblog/assets/js/171.7caa1d29.js"><link rel="prefetch" href="/feblog/assets/js/172.6951d071.js"><link rel="prefetch" href="/feblog/assets/js/173.adcf6c1a.js"><link rel="prefetch" href="/feblog/assets/js/174.4f560e48.js"><link rel="prefetch" href="/feblog/assets/js/175.94be778e.js"><link rel="prefetch" href="/feblog/assets/js/176.4c2ee7dd.js"><link rel="prefetch" href="/feblog/assets/js/177.6a0c0a66.js"><link rel="prefetch" href="/feblog/assets/js/178.422cc4e0.js"><link rel="prefetch" href="/feblog/assets/js/179.f0fa409c.js"><link rel="prefetch" href="/feblog/assets/js/18.d11b998a.js"><link rel="prefetch" href="/feblog/assets/js/180.4c38675a.js"><link rel="prefetch" href="/feblog/assets/js/181.5cee6857.js"><link rel="prefetch" href="/feblog/assets/js/182.7d65d453.js"><link rel="prefetch" href="/feblog/assets/js/183.15df777b.js"><link rel="prefetch" href="/feblog/assets/js/184.2f0d20a7.js"><link rel="prefetch" href="/feblog/assets/js/185.9b247b03.js"><link rel="prefetch" href="/feblog/assets/js/186.e5e215fa.js"><link rel="prefetch" href="/feblog/assets/js/187.2d962ffd.js"><link rel="prefetch" href="/feblog/assets/js/188.adb6749e.js"><link rel="prefetch" href="/feblog/assets/js/189.e6ec5a7c.js"><link rel="prefetch" href="/feblog/assets/js/19.22a985e4.js"><link rel="prefetch" href="/feblog/assets/js/190.d4df43b0.js"><link rel="prefetch" href="/feblog/assets/js/191.0f9138f4.js"><link rel="prefetch" href="/feblog/assets/js/192.3518349f.js"><link rel="prefetch" href="/feblog/assets/js/193.a7ea2266.js"><link rel="prefetch" href="/feblog/assets/js/194.99b6b2a5.js"><link rel="prefetch" href="/feblog/assets/js/195.8e1b9c03.js"><link rel="prefetch" href="/feblog/assets/js/196.f65a2459.js"><link rel="prefetch" href="/feblog/assets/js/197.47ad7331.js"><link rel="prefetch" href="/feblog/assets/js/198.a8a38c30.js"><link rel="prefetch" href="/feblog/assets/js/199.2d2de8c0.js"><link rel="prefetch" href="/feblog/assets/js/20.7287eeb8.js"><link rel="prefetch" href="/feblog/assets/js/200.70e4bbcb.js"><link rel="prefetch" href="/feblog/assets/js/201.08fb26b4.js"><link rel="prefetch" href="/feblog/assets/js/202.4eb1d1a3.js"><link rel="prefetch" href="/feblog/assets/js/203.4c7cb450.js"><link rel="prefetch" href="/feblog/assets/js/204.69ce63be.js"><link rel="prefetch" href="/feblog/assets/js/205.d241c77b.js"><link rel="prefetch" href="/feblog/assets/js/206.e52ca885.js"><link rel="prefetch" href="/feblog/assets/js/207.8fbca6f4.js"><link rel="prefetch" href="/feblog/assets/js/208.0b6eacf1.js"><link rel="prefetch" href="/feblog/assets/js/209.e45efd84.js"><link rel="prefetch" href="/feblog/assets/js/21.3e789650.js"><link rel="prefetch" href="/feblog/assets/js/210.8f006a96.js"><link rel="prefetch" href="/feblog/assets/js/211.de5acbad.js"><link rel="prefetch" href="/feblog/assets/js/212.070f851c.js"><link rel="prefetch" href="/feblog/assets/js/213.bb4ab4e9.js"><link rel="prefetch" href="/feblog/assets/js/214.2bef203f.js"><link rel="prefetch" href="/feblog/assets/js/215.3c06ab52.js"><link rel="prefetch" href="/feblog/assets/js/216.3f2416b7.js"><link rel="prefetch" href="/feblog/assets/js/217.420eb8db.js"><link rel="prefetch" href="/feblog/assets/js/218.9aea3413.js"><link rel="prefetch" href="/feblog/assets/js/219.0fdda031.js"><link rel="prefetch" href="/feblog/assets/js/22.41f5f36d.js"><link rel="prefetch" href="/feblog/assets/js/220.713c7161.js"><link rel="prefetch" href="/feblog/assets/js/221.462d0636.js"><link rel="prefetch" href="/feblog/assets/js/222.64b9708b.js"><link rel="prefetch" href="/feblog/assets/js/223.68689766.js"><link rel="prefetch" href="/feblog/assets/js/224.b3cecf08.js"><link rel="prefetch" href="/feblog/assets/js/225.4c3994d4.js"><link rel="prefetch" href="/feblog/assets/js/226.feddff08.js"><link rel="prefetch" href="/feblog/assets/js/227.2cce5656.js"><link rel="prefetch" href="/feblog/assets/js/228.c830c5e9.js"><link rel="prefetch" href="/feblog/assets/js/229.527870e5.js"><link rel="prefetch" href="/feblog/assets/js/23.37b3c159.js"><link rel="prefetch" href="/feblog/assets/js/230.2916203a.js"><link rel="prefetch" href="/feblog/assets/js/231.9598980e.js"><link rel="prefetch" href="/feblog/assets/js/232.fd995d31.js"><link rel="prefetch" href="/feblog/assets/js/233.a9c88a10.js"><link rel="prefetch" href="/feblog/assets/js/234.9d20588f.js"><link rel="prefetch" href="/feblog/assets/js/235.ae447641.js"><link rel="prefetch" href="/feblog/assets/js/236.25bb92c8.js"><link rel="prefetch" href="/feblog/assets/js/237.f701a6b4.js"><link rel="prefetch" href="/feblog/assets/js/238.5cfac79e.js"><link rel="prefetch" href="/feblog/assets/js/239.6dcae85b.js"><link rel="prefetch" href="/feblog/assets/js/24.625f5224.js"><link rel="prefetch" href="/feblog/assets/js/240.5fec69a2.js"><link rel="prefetch" href="/feblog/assets/js/241.f9b6ee57.js"><link rel="prefetch" href="/feblog/assets/js/242.bf48cf57.js"><link rel="prefetch" href="/feblog/assets/js/243.87f1a268.js"><link rel="prefetch" href="/feblog/assets/js/244.4ae52fa2.js"><link rel="prefetch" href="/feblog/assets/js/245.1c870eca.js"><link rel="prefetch" href="/feblog/assets/js/246.fcc03245.js"><link rel="prefetch" href="/feblog/assets/js/247.f83fbe17.js"><link rel="prefetch" href="/feblog/assets/js/248.6b0f026e.js"><link rel="prefetch" href="/feblog/assets/js/249.7887fbba.js"><link rel="prefetch" href="/feblog/assets/js/25.81d42f85.js"><link rel="prefetch" href="/feblog/assets/js/250.e6f68eb2.js"><link rel="prefetch" href="/feblog/assets/js/251.8a169886.js"><link rel="prefetch" href="/feblog/assets/js/252.14c2e2ab.js"><link rel="prefetch" href="/feblog/assets/js/253.39f09c09.js"><link rel="prefetch" href="/feblog/assets/js/254.6fd0da63.js"><link rel="prefetch" href="/feblog/assets/js/255.75445af7.js"><link rel="prefetch" href="/feblog/assets/js/256.dbe1d9df.js"><link rel="prefetch" href="/feblog/assets/js/257.3872809a.js"><link rel="prefetch" href="/feblog/assets/js/258.50b0a4fa.js"><link rel="prefetch" href="/feblog/assets/js/259.74366e37.js"><link rel="prefetch" href="/feblog/assets/js/26.302ec89b.js"><link rel="prefetch" href="/feblog/assets/js/260.3eff5350.js"><link rel="prefetch" href="/feblog/assets/js/261.710a3f97.js"><link rel="prefetch" href="/feblog/assets/js/262.7c5fe7b8.js"><link rel="prefetch" href="/feblog/assets/js/263.e3202f51.js"><link rel="prefetch" href="/feblog/assets/js/264.f0130090.js"><link rel="prefetch" href="/feblog/assets/js/265.6de22cc3.js"><link rel="prefetch" href="/feblog/assets/js/266.78de00af.js"><link rel="prefetch" href="/feblog/assets/js/267.9624b0ed.js"><link rel="prefetch" href="/feblog/assets/js/268.8d00fd00.js"><link rel="prefetch" href="/feblog/assets/js/269.b18c2757.js"><link rel="prefetch" href="/feblog/assets/js/27.f7d018f4.js"><link rel="prefetch" href="/feblog/assets/js/270.af1f2f3f.js"><link rel="prefetch" href="/feblog/assets/js/271.f2f3b5ef.js"><link rel="prefetch" href="/feblog/assets/js/272.7bde4622.js"><link rel="prefetch" href="/feblog/assets/js/273.986af963.js"><link rel="prefetch" href="/feblog/assets/js/274.54ca2b10.js"><link rel="prefetch" href="/feblog/assets/js/275.f0dd17d0.js"><link rel="prefetch" href="/feblog/assets/js/276.9f797151.js"><link rel="prefetch" href="/feblog/assets/js/277.aa14e8e7.js"><link rel="prefetch" href="/feblog/assets/js/278.6b2862fa.js"><link rel="prefetch" href="/feblog/assets/js/279.bf62db3f.js"><link rel="prefetch" href="/feblog/assets/js/280.fbb75004.js"><link rel="prefetch" href="/feblog/assets/js/281.bf23825e.js"><link rel="prefetch" href="/feblog/assets/js/282.7ab8738b.js"><link rel="prefetch" href="/feblog/assets/js/283.483251ec.js"><link rel="prefetch" href="/feblog/assets/js/284.e4ab277a.js"><link rel="prefetch" href="/feblog/assets/js/285.69736e0a.js"><link rel="prefetch" href="/feblog/assets/js/286.7be5f926.js"><link rel="prefetch" href="/feblog/assets/js/287.39c3ba52.js"><link rel="prefetch" href="/feblog/assets/js/288.66023719.js"><link rel="prefetch" href="/feblog/assets/js/289.727e722b.js"><link rel="prefetch" href="/feblog/assets/js/29.095a92de.js"><link rel="prefetch" href="/feblog/assets/js/290.12cb0275.js"><link rel="prefetch" href="/feblog/assets/js/291.87badb48.js"><link rel="prefetch" href="/feblog/assets/js/292.cb3199db.js"><link rel="prefetch" href="/feblog/assets/js/293.e29b658d.js"><link rel="prefetch" href="/feblog/assets/js/294.5cc7baf3.js"><link rel="prefetch" href="/feblog/assets/js/295.7d9f8759.js"><link rel="prefetch" href="/feblog/assets/js/296.96f16cbc.js"><link rel="prefetch" href="/feblog/assets/js/297.1dde7dbe.js"><link rel="prefetch" href="/feblog/assets/js/298.5e16cbf6.js"><link rel="prefetch" href="/feblog/assets/js/299.c744a968.js"><link rel="prefetch" href="/feblog/assets/js/3.97e1c075.js"><link rel="prefetch" href="/feblog/assets/js/30.4013a413.js"><link rel="prefetch" href="/feblog/assets/js/300.2cff2e56.js"><link rel="prefetch" href="/feblog/assets/js/301.e8fcadbb.js"><link rel="prefetch" href="/feblog/assets/js/302.139fc43d.js"><link rel="prefetch" href="/feblog/assets/js/303.8073cc42.js"><link rel="prefetch" href="/feblog/assets/js/304.cdd54e48.js"><link rel="prefetch" href="/feblog/assets/js/305.3eeb5d0f.js"><link rel="prefetch" href="/feblog/assets/js/306.409287d8.js"><link rel="prefetch" href="/feblog/assets/js/307.76103d8a.js"><link rel="prefetch" href="/feblog/assets/js/308.74367a29.js"><link rel="prefetch" href="/feblog/assets/js/309.e6fdeea9.js"><link rel="prefetch" href="/feblog/assets/js/31.439a5282.js"><link rel="prefetch" href="/feblog/assets/js/310.1e0068d3.js"><link rel="prefetch" href="/feblog/assets/js/311.a4f38499.js"><link rel="prefetch" href="/feblog/assets/js/312.2f7cbaba.js"><link rel="prefetch" href="/feblog/assets/js/313.bb08201c.js"><link rel="prefetch" href="/feblog/assets/js/314.d6ef1298.js"><link rel="prefetch" href="/feblog/assets/js/315.f04c191b.js"><link rel="prefetch" href="/feblog/assets/js/316.4eeffd9d.js"><link rel="prefetch" href="/feblog/assets/js/317.c2dafb06.js"><link rel="prefetch" href="/feblog/assets/js/318.dd4844df.js"><link rel="prefetch" href="/feblog/assets/js/319.a3f9a149.js"><link rel="prefetch" href="/feblog/assets/js/32.3c5ab230.js"><link rel="prefetch" href="/feblog/assets/js/320.6a5eae12.js"><link rel="prefetch" href="/feblog/assets/js/321.7451f4f5.js"><link rel="prefetch" href="/feblog/assets/js/322.38ed7b52.js"><link rel="prefetch" href="/feblog/assets/js/323.b1ab34c8.js"><link rel="prefetch" href="/feblog/assets/js/324.8fb87523.js"><link rel="prefetch" href="/feblog/assets/js/325.c6dc4a7c.js"><link rel="prefetch" href="/feblog/assets/js/326.f6cc7544.js"><link rel="prefetch" href="/feblog/assets/js/327.0c6d69b3.js"><link rel="prefetch" href="/feblog/assets/js/328.a22750f8.js"><link rel="prefetch" href="/feblog/assets/js/329.5ba32951.js"><link rel="prefetch" href="/feblog/assets/js/33.2319aaaf.js"><link rel="prefetch" href="/feblog/assets/js/34.990b14c3.js"><link rel="prefetch" href="/feblog/assets/js/35.b4045abf.js"><link rel="prefetch" href="/feblog/assets/js/36.771dcbbd.js"><link rel="prefetch" href="/feblog/assets/js/37.33c87efd.js"><link rel="prefetch" href="/feblog/assets/js/38.422f31a0.js"><link rel="prefetch" href="/feblog/assets/js/39.acb4a3cb.js"><link rel="prefetch" href="/feblog/assets/js/40.82d731e6.js"><link rel="prefetch" href="/feblog/assets/js/41.559a1fe9.js"><link rel="prefetch" href="/feblog/assets/js/42.6172a66e.js"><link rel="prefetch" href="/feblog/assets/js/43.9318521a.js"><link rel="prefetch" href="/feblog/assets/js/44.c5134fa2.js"><link rel="prefetch" href="/feblog/assets/js/45.deef2319.js"><link rel="prefetch" href="/feblog/assets/js/46.9f6bd75c.js"><link rel="prefetch" href="/feblog/assets/js/47.cb0bb5e9.js"><link rel="prefetch" href="/feblog/assets/js/48.fef19c8c.js"><link rel="prefetch" href="/feblog/assets/js/49.0e41c1fb.js"><link rel="prefetch" href="/feblog/assets/js/5.17e70765.js"><link rel="prefetch" href="/feblog/assets/js/50.4ad062df.js"><link rel="prefetch" href="/feblog/assets/js/51.fcb398c1.js"><link rel="prefetch" href="/feblog/assets/js/52.15f0cffc.js"><link rel="prefetch" href="/feblog/assets/js/53.a5966c3d.js"><link rel="prefetch" href="/feblog/assets/js/54.57afbfd6.js"><link rel="prefetch" href="/feblog/assets/js/55.a0a22a47.js"><link rel="prefetch" href="/feblog/assets/js/56.d24d348a.js"><link rel="prefetch" href="/feblog/assets/js/57.92685dd2.js"><link rel="prefetch" href="/feblog/assets/js/58.1409be13.js"><link rel="prefetch" href="/feblog/assets/js/59.2a8dd6c5.js"><link rel="prefetch" href="/feblog/assets/js/6.b681c72a.js"><link rel="prefetch" href="/feblog/assets/js/60.a6ecd669.js"><link rel="prefetch" href="/feblog/assets/js/61.8da7eac7.js"><link rel="prefetch" href="/feblog/assets/js/62.dc39addf.js"><link rel="prefetch" href="/feblog/assets/js/63.57e0b896.js"><link rel="prefetch" href="/feblog/assets/js/64.fe4ad0c9.js"><link rel="prefetch" href="/feblog/assets/js/65.77469a81.js"><link rel="prefetch" href="/feblog/assets/js/66.b1329033.js"><link rel="prefetch" href="/feblog/assets/js/67.6b8c64ca.js"><link rel="prefetch" href="/feblog/assets/js/68.9ea95925.js"><link rel="prefetch" href="/feblog/assets/js/69.4531d2d8.js"><link rel="prefetch" href="/feblog/assets/js/7.c2cd89b4.js"><link rel="prefetch" href="/feblog/assets/js/70.cea0d065.js"><link rel="prefetch" href="/feblog/assets/js/71.a3af13dc.js"><link rel="prefetch" href="/feblog/assets/js/72.f2185f2b.js"><link rel="prefetch" href="/feblog/assets/js/73.412d366f.js"><link rel="prefetch" href="/feblog/assets/js/74.ac8b43a5.js"><link rel="prefetch" href="/feblog/assets/js/75.4dbb1c2f.js"><link rel="prefetch" href="/feblog/assets/js/76.71fefee5.js"><link rel="prefetch" href="/feblog/assets/js/77.032a0f4c.js"><link rel="prefetch" href="/feblog/assets/js/78.e15f8912.js"><link rel="prefetch" href="/feblog/assets/js/79.26447acc.js"><link rel="prefetch" href="/feblog/assets/js/8.20850346.js"><link rel="prefetch" href="/feblog/assets/js/80.6273b2f4.js"><link rel="prefetch" href="/feblog/assets/js/81.fbcec065.js"><link rel="prefetch" href="/feblog/assets/js/82.b7e4b0b1.js"><link rel="prefetch" href="/feblog/assets/js/83.ce83e000.js"><link rel="prefetch" href="/feblog/assets/js/84.10b646b8.js"><link rel="prefetch" href="/feblog/assets/js/85.a50fb953.js"><link rel="prefetch" href="/feblog/assets/js/86.960ac343.js"><link rel="prefetch" href="/feblog/assets/js/87.1126004b.js"><link rel="prefetch" href="/feblog/assets/js/88.bfb8b654.js"><link rel="prefetch" href="/feblog/assets/js/89.d7f803c8.js"><link rel="prefetch" href="/feblog/assets/js/9.cd028ea2.js"><link rel="prefetch" href="/feblog/assets/js/90.d24ae29e.js"><link rel="prefetch" href="/feblog/assets/js/91.3b282da2.js"><link rel="prefetch" href="/feblog/assets/js/92.3c2b76eb.js"><link rel="prefetch" href="/feblog/assets/js/93.26985fe4.js"><link rel="prefetch" href="/feblog/assets/js/94.a968f2d8.js"><link rel="prefetch" href="/feblog/assets/js/95.5ae5ffc7.js"><link rel="prefetch" href="/feblog/assets/js/96.149a7f6d.js"><link rel="prefetch" href="/feblog/assets/js/97.67a2ccaa.js"><link rel="prefetch" href="/feblog/assets/js/98.be3e383a.js"><link rel="prefetch" href="/feblog/assets/js/99.f964ff95.js">
    <link rel="stylesheet" href="/feblog/assets/css/0.styles.669bb7eb.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-1aefc0b4><div data-v-1aefc0b4><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-1aefc0b4 data-v-1aefc0b4><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-25ba6db2 data-v-1aefc0b4 data-v-1aefc0b4><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>码路教育</h3> <p class="description" data-v-25ba6db2 data-v-25ba6db2>码路大前端课程</p> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>码路教育</span>
            
          <span data-v-25ba6db2>2022 - </span>
          2023
        </a></span></div></div> <div class="hide" data-v-1aefc0b4><header class="navbar" data-v-1aefc0b4><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/feblog/" class="home-link router-link-active"><img src="/feblog/logo.png" alt="码路教育" class="logo"> <span class="site-name">码路教育</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/feblog/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      前端基础
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/feblog/basic/css/01.html" class="nav-link"><i class="undefined"></i>
  一，HTML/CSS
</a></li><li class="dropdown-item"><!----> <a href="/feblog/basic/mobile/01.html" class="nav-link"><i class="undefined"></i>
  二，移动端开发
</a></li><li class="dropdown-item"><!----> <a href="/feblog/basic/gitbasic/01.html" class="nav-link"><i class="undefined"></i>
  三，Git基础操作
</a></li><li class="dropdown-item"><!----> <a href="/feblog/basic/js/01/01.html" class="nav-link"><i class="undefined"></i>
  四，JS基础
</a></li><li class="dropdown-item"><!----> <a href="/feblog/basic/dom/01.html" class="nav-link"><i class="undefined"></i>
  五，DOM/BOM
</a></li><li class="dropdown-item"><!----> <a href="/feblog/basic/jsplus/01.html" class="nav-link"><i class="undefined"></i>
  六，JS高级
</a></li><li class="dropdown-item"><!----> <a href="/feblog/basic/less/01.html" class="nav-link"><i class="undefined"></i>
  七，LESS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      前端工程化与网络
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/feblog/network/node/01.html" class="nav-link"><i class="undefined"></i>
  一，node
</a></li><li class="dropdown-item"><!----> <a href="/feblog/network/webpack/01.html" class="nav-link"><i class="undefined"></i>
  二，webpack
</a></li><li class="dropdown-item"><!----> <a href="/feblog/network/ajax/01.html" class="nav-link"><i class="undefined"></i>
  三，ajax
</a></li><li class="dropdown-item"><!----> <a href="/feblog/network/program/" class="nav-link"><i class="undefined"></i>
  四，实战案例
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      前端框架
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/feblog/Framework/vue2/01.html" class="nav-link"><i class="undefined"></i>
  一，vue2基础
</a></li><li class="dropdown-item"><!----> <a href="/feblog/Framework/vue2plus/" class="nav-link"><i class="undefined"></i>
  二，vue2高级
</a></li><li class="dropdown-item"><!----> <a href="/feblog/Framework/vue3/" class="nav-link"><i class="undefined"></i>
  三，vue3
</a></li><li class="dropdown-item"><!----> <a href="/feblog/Framework/mini/" class="nav-link"><i class="undefined"></i>
  四，小程序
</a></li><li class="dropdown-item"><!----> <a href="/feblog/Framework/react/" class="nav-link router-link-active"><i class="undefined"></i>
  五，react基础
</a></li><li class="dropdown-item"><!----> <a href="/feblog/Framework/reactplus/" class="nav-link"><i class="undefined"></i>
  六，react高级
</a></li><li class="dropdown-item"><!----> <a href="/feblog/Framework/project/" class="nav-link"><i class="undefined"></i>
  七，项目列表
</a></li><li class="dropdown-item"><!----> <a href="/feblog/Framework/bushu/" class="nav-link"><i class="undefined"></i>
  八，项目部署
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      其他
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/feblog/other/baguwen/" class="nav-link"><i class="undefined"></i>
  一，八股文与就业
</a></li><li class="dropdown-item"><!----> <a href="http://47.94.210.129/iterview_book/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  二，企业真题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/feblog/other/zuoye/" class="nav-link"><i class="undefined"></i>
  三，码路作业
</a></li><li class="dropdown-item"><!----> <a href="/feblog/other/everyday/" class="nav-link"><i class="undefined"></i>
  四，每日一题
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-1aefc0b4></div> <aside class="sidebar" data-v-1aefc0b4><div class="personal-info-wrapper" data-v-39576ba9 data-v-1aefc0b4><img src="/feblog/avatar.png" alt="author-avatar" class="personal-img" data-v-39576ba9> <h3 class="name" data-v-39576ba9>
    码路教育
  </h3> <div class="num" data-v-39576ba9><div data-v-39576ba9><h3 data-v-39576ba9>319</h3> <h6 data-v-39576ba9>Articles</h6></div> <div data-v-39576ba9><h3 data-v-39576ba9>4</h3> <h6 data-v-39576ba9>Tags</h6></div></div> <ul class="social-links" data-v-39576ba9></ul> <hr data-v-39576ba9></div> <nav class="nav-links"><div class="nav-item"><a href="/feblog/" class="nav-link"><i class="iconfont reco-home"></i>
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      前端基础
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/feblog/basic/css/01.html" class="nav-link"><i class="undefined"></i>
  一，HTML/CSS
</a></li><li class="dropdown-item"><!----> <a href="/feblog/basic/mobile/01.html" class="nav-link"><i class="undefined"></i>
  二，移动端开发
</a></li><li class="dropdown-item"><!----> <a href="/feblog/basic/gitbasic/01.html" class="nav-link"><i class="undefined"></i>
  三，Git基础操作
</a></li><li class="dropdown-item"><!----> <a href="/feblog/basic/js/01/01.html" class="nav-link"><i class="undefined"></i>
  四，JS基础
</a></li><li class="dropdown-item"><!----> <a href="/feblog/basic/dom/01.html" class="nav-link"><i class="undefined"></i>
  五，DOM/BOM
</a></li><li class="dropdown-item"><!----> <a href="/feblog/basic/jsplus/01.html" class="nav-link"><i class="undefined"></i>
  六，JS高级
</a></li><li class="dropdown-item"><!----> <a href="/feblog/basic/less/01.html" class="nav-link"><i class="undefined"></i>
  七，LESS
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      前端工程化与网络
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/feblog/network/node/01.html" class="nav-link"><i class="undefined"></i>
  一，node
</a></li><li class="dropdown-item"><!----> <a href="/feblog/network/webpack/01.html" class="nav-link"><i class="undefined"></i>
  二，webpack
</a></li><li class="dropdown-item"><!----> <a href="/feblog/network/ajax/01.html" class="nav-link"><i class="undefined"></i>
  三，ajax
</a></li><li class="dropdown-item"><!----> <a href="/feblog/network/program/" class="nav-link"><i class="undefined"></i>
  四，实战案例
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      前端框架
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/feblog/Framework/vue2/01.html" class="nav-link"><i class="undefined"></i>
  一，vue2基础
</a></li><li class="dropdown-item"><!----> <a href="/feblog/Framework/vue2plus/" class="nav-link"><i class="undefined"></i>
  二，vue2高级
</a></li><li class="dropdown-item"><!----> <a href="/feblog/Framework/vue3/" class="nav-link"><i class="undefined"></i>
  三，vue3
</a></li><li class="dropdown-item"><!----> <a href="/feblog/Framework/mini/" class="nav-link"><i class="undefined"></i>
  四，小程序
</a></li><li class="dropdown-item"><!----> <a href="/feblog/Framework/react/" class="nav-link router-link-active"><i class="undefined"></i>
  五，react基础
</a></li><li class="dropdown-item"><!----> <a href="/feblog/Framework/reactplus/" class="nav-link"><i class="undefined"></i>
  六，react高级
</a></li><li class="dropdown-item"><!----> <a href="/feblog/Framework/project/" class="nav-link"><i class="undefined"></i>
  七，项目列表
</a></li><li class="dropdown-item"><!----> <a href="/feblog/Framework/bushu/" class="nav-link"><i class="undefined"></i>
  八，项目部署
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-message"></i>
      其他
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/feblog/other/baguwen/" class="nav-link"><i class="undefined"></i>
  一，八股文与就业
</a></li><li class="dropdown-item"><!----> <a href="http://47.94.210.129/iterview_book/" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="undefined"></i>
  二，企业真题
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="/feblog/other/zuoye/" class="nav-link"><i class="undefined"></i>
  三，码路作业
</a></li><li class="dropdown-item"><!----> <a href="/feblog/other/everyday/" class="nav-link"><i class="undefined"></i>
  四，每日一题
</a></li></ul></div></div> <!----></nav> <ul class="sidebar-links"><li><a href="/feblog/Framework/react/" aria-current="page" class="sidebar-link">React18精讲</a></li><li><a href="/feblog/Framework/react/01.html" class="sidebar-link">01-React初识</a></li><li><a href="/feblog/Framework/react/02.html" class="sidebar-link">02-JSX</a></li><li><a href="/feblog/Framework/react/03.html" class="sidebar-link">03-状态</a></li><li><a href="/feblog/Framework/react/04.html" class="sidebar-link">04-条件渲染</a></li><li><a href="/feblog/Framework/react/05.html" class="sidebar-link">05-表单绑定，列表渲染</a></li><li><a href="/feblog/Framework/react/06.html" class="sidebar-link">06-类组件的生命周期（非常重要）</a></li><li><a href="/feblog/Framework/react/07.html" class="sidebar-link">07-状态提升</a></li><li><a href="/feblog/Framework/react/08.html" class="sidebar-link">08-封装一个组件</a></li><li><a href="/feblog/Framework/react/09.html" class="sidebar-link">09-上下文</a></li><li><a href="/feblog/Framework/react/10.html" class="sidebar-link">10-高阶组件</a></li><li><a href="/feblog/Framework/react/11.html" class="sidebar-link">11-Ref和Ref转发</a></li><li><a href="/feblog/Framework/react/12.html" class="sidebar-link">12-Hooks</a></li><li><a href="/feblog/Framework/react/13.html" aria-current="page" class="active sidebar-link">13-React项目实战</a></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-25ba6db2 data-v-1aefc0b4><h3 class="title" data-v-25ba6db2 data-v-25ba6db2>13-React项目实战</h3> <!----> <label id="box" class="inputBox" data-v-25ba6db2 data-v-25ba6db2><input type="password" value="" data-v-25ba6db2> <span data-v-25ba6db2>Konck! Knock!</span> <button data-v-25ba6db2>OK</button></label> <div class="footer" data-v-25ba6db2 data-v-25ba6db2><span data-v-25ba6db2><i class="iconfont reco-theme" data-v-25ba6db2></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-25ba6db2>vuePress-theme-reco</a></span> <span data-v-25ba6db2><i class="iconfont reco-copyright" data-v-25ba6db2></i> <a data-v-25ba6db2><span data-v-25ba6db2>码路教育</span>
            
          <span data-v-25ba6db2>2022 - </span>
          2023
        </a></span></div></div> <div data-v-1aefc0b4><main class="page"><section><div class="page-title"><h1 class="title">13-React项目实战</h1> <div data-v-f875f3fc><i class="iconfont reco-account" data-v-f875f3fc><span data-v-f875f3fc>码路教育</span></i> <i class="iconfont reco-date" data-v-f875f3fc><span data-v-f875f3fc>7/24/2023</span></i> <!----> <!----></div></div> <div class="theme-reco-content content__default"><h2 id="一-项目实战"><a href="#一-项目实战" class="header-anchor">#</a> 一，项目实战</h2> <h3 id="_1-路由的使用"><a href="#_1-路由的使用" class="header-anchor">#</a> 1，路由的使用</h3> <p>使用我们自己配置的webpack，如下：</p> <p><img src="/feblog/assets/img/1675404503736.985bfaca.png" alt="1675404482887"></p> <p>运行项目如下：</p> <p><img src="/feblog/assets/img/1675404530630.99b005bd.png" alt="1675404530630"></p> <p>路由官网：https://reactrouter.com/en/main</p> <p><img src="/feblog/assets/img/1675404625863.0e4932d7.png" alt="1675404625863"></p> <p>学习V5版本，它的官网：https://v5.reactrouter.com/web/guides/quick-start</p> <p><img src="/feblog/assets/img/1675404861672.6fb7002e.png" alt="1675404861672"></p> <p>安装路由：</p> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>cnpm i react-router-dom -S
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="/feblog/assets/img/1675404901686.37fe87f6.png" alt="1675404901686"></p> <p>在真实开发中，路由有两套版本：V5和V6。 V6是在21年9月份才出来的。</p> <p>路由相关的有三个包：</p> <ul><li>react-router  路由核心包</li> <li>react-router-dom  基于浏览器的路由包，专用于做web开发</li> <li>react-router-native  基于RN平台的路由包，专用于原生APP开发</li></ul> <p>创建两个组件，如下：</p> <p><img src="/feblog/assets/img/1675405160584.08f4ff32.png" alt="1675405160584"></p> <p><img src="/feblog/assets/img/1675405177242.b14e7319.png" alt="1675405177242"></p> <p>在React中没有Vue一样，创建一个router的文件夹，在App组件中配置路由，如下：</p> <p><img src="/feblog/assets/img/1675405615162.4b14cf19.png" alt="1675405615162"></p> <p>效果如下：</p> <p><img src="/feblog/assets/img/1675405631249.874aea6d.png" alt="1675405631249"></p> <h3 id="_2-antd的使用"><a href="#_2-antd的使用" class="header-anchor">#</a> 2，antd的使用</h3> <p>官网：https://ant.design/docs/react/introduce-cn</p> <p>我们使用4.22.6版本。文档：https://4x.ant.design/index-cn/</p> <p><img src="/feblog/assets/img/1675406354716.f64732d6.png" alt="1675406354716"></p> <p>安装之，如下：</p> <p><img src="/feblog/assets/img/1675405800594.1d977d23.png" alt="1675405800594"></p> <p><img src="/feblog/assets/img/1675406313310.8100da9d.png" alt="1675406313310"></p> <p>引入样式，如下：</p> <p><img src="/feblog/assets/img/1675406072857.ddabb326.png" alt="1675406072857"></p> <p><img src="/feblog/assets/img/1675406399831.61b9f4c5.png" alt="1675406399831"></p> <p><img src="/feblog/assets/img/1675406427263.ecd3b4d9.png" alt="1675406427263"></p> <p>copy连接到public文件，如下：</p> <p><img src="/feblog/assets/img/1675406470026.5d824aa0.png" alt="1675406470026"></p> <p>在项目中引入之，一般情况下，做管理系统，直接全部引入，不会按需加载。我们就不配置按需加载了。</p> <p>测试Button组件，如下：</p> <p><img src="/feblog/assets/img/1675406575648.ba469264.png" alt="1675406575648"></p> <p>测试如下：</p> <p><img src="/feblog/assets/img/1675406584307.a41e6c31.png" alt="1675406584307"></p> <p>到此，我们就把antd集成到项目中了。</p> <p>要使用antd中的字体图标，需要安装，如下：</p> <div class="language-txt line-numbers-mode"><pre class="language-txt"><code>cnpm install --save @ant-design/icons
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABBQAAADHCAYAAACp+gAOAAAcC0lEQVR4nO3dwZHjOnco4GOXA/DSi1f1IxQE8hYI4YaAQP4FQkEIDuAt4J2XzsBvAUotqSmJ6FZ3z9z5vqqpujO3GyRBECQPgYN/+euvv/73n//8ZwAAAAAc9a8/vQMAAADA70dAAQAAAFgmoAAAAAAsE1AAAAAAlgkoAAAAAMsEFAAAAIBlAgoAAADAMgEFAAAAYNm//fQOAMDv6r/+/T9+ehcA+IX943/++6d3Ab6UEQoAAADAMgEFAAAAYJkpDwDwAoa1AhBhOhx/FiMUAAAAgGUCCgAAAMAyAQUAAABgmYACAAAAsExAAQAAAFj266zykFLklJ7/XC5RokWtPca9okqJ1Hv0cfkTOWrLMdq938tRSkSrNfq9goFvk0uN6O3mOr76iXlN1xrto9dsLtHyuOhPcpSWIz5T5p5UopaI3tpb/5JylBzR7/ZJTwuNUnP02iNyit3eM+UoeUQt7YPbAIBjUqmRuudo+NN8XUAh12i5R6n92M+P8eDF4argqOVx4GG0Hrm1aKNFrRcP0ili9B79VE7P0XON0x7mmt8/lK8eB78G5+23NyJFLSl6fdAvpIjn3UaKUkuMtveQk+I6jjlmofd8sF2lnCPniNHa1bZzyRG9Rxspckl3A54p7/VNJUpOkUuPci8okXPUFx4HAOzLUVKPR7ds4O/p66Y89B4j58hfUfYYT762jWi1ReQc+cCgh5uir33lcTyUtpeQEqW2aE+CKMeKzFFbi977/NNq7BebIte3n2t7gZaV8l6+3RK19avy3p3nj5y3lKPWe7+Rolxu8+LP3V/50zysvzh23lK+fsEf8wW/1Pmz85o4/UmRztdJjlJb9F53zvmI1iNq2/l/T/uSGx/qD1LknGK0vVEPY+tzRvQ2Irf9ehl9zDobc1RC9B69lnncW6G5lHe/l1LaP8Yf69f+HlKprvvf0tH76hfcf7kr5RrtfG9oUVcf3H456XxPKn9QP5HKHAUM/Hn+LSIilZ0b5hjRe4v24eG4PVorsX2AO2g+eD/+kYM3mtGi5Hbzj9tDwum/3/19z0eO4zXy9lUy5RRxeyirUolW83xZ6fMlLZcatbWIUq5edHJtUVOLWtp8gWktWq2RL79mHi3v1dvNNXpN0WrZyjs9jLRoV+UdPW+nl9XtS3Xf/Z4bESnSqFF2Qu+HBtb8bR2sv6PnbYzIrUXUch45FClHTiPqiBhjxNvrcY4c423UUe/3L5Peo0eZ+/ip8/WB/iDlyKlHu40mjBEj8sU+jWilRLQWJafoVz+//XdKczrX7nZKlNxvfm/W2UuO40fN/qCkHvViVNlPGa1Gry1qlIj//OGd+Va/1nn4iKP31Zfef7krlbZNO8tzBFnKUWqNluo5WPrbSSnSNoLse/rXX+G6fDQ64VfYP+Ar/WtExGhlvrSNFuXia1/kGq2VRwOAHxq9z3wGx39j9wvw1Z9Pvb1tLx+9R+/zxeT67686jlcY0WqNWmvUF9xUcykRvUY7j/ke0VudQ60vgzipRMlzhEc/veTUFiOXq1EFR8t7+XZznl96L8auj16j9hTl5lPAsfM2orUatZY4Mvp7jPHuz9/bnC5wvw6P1d/x8zai97j6t1xStFMOgBR3RiiUaA9Hi/So+RS4SFdlXP/99BKRI5e6fS27OeLF/iBvQYJjD1EjWi13r/mcc/TdJ9QUKY3oN3M6Ukp32+jP9GsfNWb+iXYnmPJyz9p9RK8l+rug9d/d6Twcbc+v8vx8HHP0vvra+y93pBI1j6ilRh95jmCrJfLo0XP5hhFUr2pXN0aP9uo8PI83+EPX5ZvHoxN+fv+Ar3V3ysMYfXbyqTzNWXDX6NFjfdrBcQdGNLzClx/H90jl9gY9h1undB0ASKNfzzUfc6j1bV0fKe+1251fwfdekHZfmo6et4PBgb9/8GDPbY6BHU/rb+28jVbf5vanHNFqjHT+hYsA42VQcAZDj6UEuC7jNpA5Ysu10mrkvBMoWeoPttwJd/Zjr8rS3UBuipT60oivlPa3MTf/e/Vro7eo3zac9kC7jxlU+NPM8/DdfeGx88HvZX5waNEjRWk1ouXIbUTaAsv5yyMKf5929TPX5UmOksbDRIw/u3/AV3uSlHEO022lRG43w5RSnnOSR4tyN4P4mL+f0/vhvrOQSPeyk9+T0lwRIudIuUbJc4TFHBr39vKZco2SbvftI1MejhzH3K+0Oh/7G83s8vv79/ZSt91c3/3cFgDIOVKb9XmsvFdvd/69lBKpv29z719OD5y3o1KK9Mue3a+SItcaOdonR/weP29vyQcvHvRyjVbSzZSWe7t8maXxon9JM5nroTIOHM/RdjXrL7bcEGMmYRwjUsqRYsSINLNix8XogtF2p9ZEmn1VzznyKaFjOwU8thEKV7+2BXJecBy/hvuBqVdv5zXt/gd96f3oSaDqC7b3258Pdmx9VhsRqUSOFrVHpJK2AHXEC+aoPdz+36tdffd1ebHlkiN6fXKmfm7/gK/3dJWHsSVF+3C/3vucUnEbkJilx3gw1SBim1+X2sU8+h7nUaY939wI3h7KUxqRx23+h3G1ykO++Xt6tC8PjiPXHjWPaHUOIc5pRCs1RqkzudBN0CXlGrVcJJ8bPeoHlqs85764LD+V7evmuJmb3qK+u2vmyHlEL9cv9mNnR8YY56XpxuHyXr/dXmv0XqO19FZnqcy5eXsvYQ/b37pUtnMX8fFhjadRP2neYFuu0VOOuiUevG0vpwefU6KqMdrF1JCLYg+3q+vy9o5jtunT30q0vn2JfRhAvO/oeRv9lCMhRSlp5j5oY17z6XaUzPugYKkl4hxgHDF6zPJy3ka8LO743QM60K5SiZJa1JajphFj9GjnfmxeFLn2KOPYl5tcSqRo2yiKNB/irkb07PVfTx7gHhzHaQ5wihG1jXNizIgRvdaop8pcbc8pRymz7Lnb/eFyvVdtcbf9Hbs+vqPd1xw7o2SebHervxRz+dJc61Y3c3rYqW0cPR+r96NjTnOgT9VR3s9vP3gcbz+fo9bytlz0mFMae30bFr1yPl51X/1tHKi/+WNP6iXX6OdKfpvj/lb3N88Sh6+35/uf04gZT8gxWjmvsTPGmIHhy1mRz45jof29+v52Op63fm0O8d8v52D9HTq/B67Lq/LeEv6O3qJHnnkeao46Fq/fy+NJI9puVGZh/w70z6fjeHj/+IJ+CHju+SoPY/uKdvv5fvSoOUd+2vn26CMfGLo2RzyUfLuhiJFus5Ffd1LHPEsGMx/2R7qfnPHecfRao0eKnEe0kqO0mPPyWom8PVyfDiuVFq1GtPo2Z7v0FPUD8/jOuS+u/zHKwaQ3uZZIu5nnP+ZoeZ/b7jYXPuZ8y9Z6tDKulwe9+flj7e+AXKKc84yUOf//cuWAXJ/mAJkPMW/D7ec5z9vyiHmez6s2uLX1i/wmtaV3KxYcb1ezvBoX+VJaXB9HxNyXnN/lVnl+vd9z9LydXlLnNZMuV30Y46Y+W5Qtd0K/mPZw/cDyVW8Tz9rVXI2h322X0xjj3RShffPh++6jWClz1MLlKhglR9pG+NzPVH//OMYY0SNFSjPPxblNlBZRL3NLrLTni5Ft59wX79vz1R5etsX3R37o+viudt/zbc6NI9udU7tSOgXE6nkfUnlbEefo+Vi5Hx03y8rvrq+roz90HOd62ZZyzRf1kvP1Ki9Hz8cr76svd/S+cPj+EXG0/g7VS69bfc7A0/nTTS3RRo96E0w4dr2tSDPee+r6LweZrRzHQvs71K6Wzsdtv1ajR9l5Rl3orw6c32PX5am8GtHKVl6Jvo0KKbXGnEm2cv1eyPsjD5f370D/fOz+8fp+CHju6QiFV+itzSRrDyf/9qg1RWstcr+YQx0R0UekkiK2aQ2l1cijR9u787xzL8/C7dfN2CKfOVKvuw+vj49jRN9WxDh/vb6za6P3q90evccoF1//v0OukccLsygfLe/T291uEjVHjlOkukYr9yPfx9rfE6NHb3GR9G5LLplblLJl5O/1YOBizOSiKcUoOUpNby/W46aMXKJEi3Kx2spMZtjftnv+9+ftKpU6y6sX5b1bbeArrJ2309SHMUbk2iL17ctCKtFqOl9rV+WXvD0Ev3a/U+y/yD9qV6nMF7h6/ZHtnXcjf+7tRcnRa49yZxGN0eYX6uuvXLPNRkTkXO9OFbh7HKNH7zmiRvSLF40Yb1PhUm/zRfdge861Ru418jkXwojeStTUo54CECsOXh8/1e4Pbfdcfzf13Gew5+zo+Zj/ePh+9DJHjyMi5nXV3yVpff8CsbD5X+G+uufwfeHoz0Ws1N+hehk9+rhZBSflSL1dt5uF+9Fxl9O1Lj5e3TzfPT2OpfZ3wOHztgV0x2W9vD0fXPX/h+vvxdfHabsXzy+t9W0UYPtE/aUtmfZHduqilIP986H7xw/3Q/Cn+paAQowePdUo6clDzZjDg1vJkeMym3ePsQ2PjjKTtJXD4+veZz6PyFH7nBaQU0Q5d05vD+CfOo5HRbQSc3Dd6Wti2uZTf+Pgqlzn8owvDCYcKu8F2821RR4l5myJOaqk5xqttqjjTlK+F5y32Y7e/9tbcsmPH9P9oZHb6gi97OYduNzu0XaVUpoPYleF7S2x+lpr521+sZpfvOfQ7XY5LD/FxVSl8xYi14PzMy+/0G5PrznnrU62r+k5Rx4pctm+4ux9ob7XrlKOPNqxBJFjnEdF3d31lCOPGi1O53i3oCdDjp8kZ3x0fexMpXj0sna/Pc+REH0vWNv7FmxaW8Xh6PXxXe0+9+sknkvb3Z2ysjPdcPF8fLtDx9Gjjxa1pZlnZ5tuOFr90Hz2X+K++q2O1d/xepkvmP0iKJVyejcN8ej19mGX0yDmLLXF44jj19EL7V7nO47X32uvjyUr9ZdLpKe5E5471k8u3j9+oB+CP9nzgMKWjO5z8xCPJ/+aLwpbp5Dm/K7osxOpLc25oB/ZhYskVTPK2aPniBE5au6Hs8N/PonZNmQrvQ3fHjGi1m8aX/XwpX6+dOSdO0eaSQ7e1/1LgglHt5sj5x4tX//MjCi3aPn+6JFXJJ/bu5+Om3me656/BKfSou+9SY7LF4gj7eprH6ruWzxveX7tqaNEjYgYLVrNV/NGr0YWnf7t6O6M+aVrRETkHDXGeXWHOOUm6DPfQn8cYdxvVytfg8d8oLnbdC/LW25np9EVzzKZvzI547P2fOf/b1PrPuL59fF97f42MPYz19vvodcylwUuNVpNT3NpPPbD99UfcKz+Fuql9+i1Rsktap9Z+/e6g2P3owPOX6BHjDGvlZRzpNFjxO32f+Xzu3adH62/l14fvUUrLUruW66VFOVOcOO414xOWKu/198/XtsPwZ/raUDh9EL36Yur9xjtbZWAu8Z2M6tzOaHWx3ypiB6tt6ilrw+XT2UGDVrMF9vco+Yeuc91c1Obw6gOxRSOHsf+jmzTNWqUcvFynr5p6bFTPdwkL3xbq/4ts/J1/35KmngTUHha3ou3eze/RTwfOv6p83ZK4vQ+D8ex+e+f8ziRUcTxdvVDGZaXzluKUiJa6RHlbf/76W17XCwVeVXSXPng2P5sD7HnVRU+kQ3/k+3qNIKq3VkB47n7S+fmUrfRFWNnBYgbq8fx4Jw++cX9h8cPl3fk+vipzOLfuN1P1N9PGr1F7S1mkLBEbS3S8kosP3xf/UGP62+1XuaStDXnSKlE3HnZfH69HdWj9xkkaD2itRap1aijzRw7tb7dE/5G53el/l5zfUTEFjSvpUbfgjCjP0q0eMCLRies9ZOvv39EvLKe4c/1JCljjlKODeV6bs5fKg8mJqWUo7aZXKrXejWvKWJ2xC3VaPXwq8PMyp/72/zrErNTvdivmdTlaPKm58dxf2e24Xzv5n9/g1S2pEbv1qiY8+g2vbWZBPPqw3bevgxcBwmOlPfS7d5LEBqnwNejF8NPnLfTNvdeYvPFy+4XuJ+073Ku6fF2Nca4WJrx0swf8ly++wL7YKPHz1ueCTsf1+g2QuHqz8EHilSilrdcGDnnT56/z7SrafRtStdtMr/dQt8SL26PhfcThpWVJJprx5FS2rkeDmyj7wfhPlbewesjvq7d5/dL2Lzfv09t95iP1t+PeZcYcmwvOHGwf7k4Hz95X/0pR+rvA/XSe5/L9Oa9KX7Hr7ejeu+RZwR5JjpuYyZMLDV63hLofev5/cD9bQsKv6+X93VyuP4+fX3cFl+ipjFXMzglH6yfqc8Un01LdelYP/n6+8fL6xn+YHcDCimXaH1mU92NYqYctffoh1/EI3rrkW6z3KQUudRovc9ka7VEfXDj6LVGTzVaq2/LvNw7htJmspaLZG57Q5nmfKkSrbfdVSYOHccR24tVLm8dZzolgoyIdy/jR8u8mhM+R3ek7cVjVtEp4/yWcf3iT64l0lWmoxatzwR6+fy75SY509HyXr3dOcqhtOvzNJeTimjt8e3k8XlLsz3tZkDfHmZSuvh/pzWs+8tuqntGq++DaNs5Ph/JQrsarUVPJeptea3sPx2c5vifnlFLvj5vZ4/q7+h5y1HiSe6BbQrWePcCfWCUwW1wa1vW8UmzeerD/cHJ1sfmerFyTcqR9r8PXgz5Pehiutcjd48j5av2knKNduB6291GrTFKe1sa7FzeXOJr1aHrI76m3efaIu+OXf7Edo944fn4MTdL2J3+Leeb0W0nj87HV9xXf3VH6u8j9XJ6KRv7L2dHr7fDeo06ys1HohS5zoz/c/XfLzy/h+9vT4ppLXq+WPJwe/Y5rbJzXgnxaP2tXh9Pd7BHT2Xmyeg9emvRtlXVPlRzuUQar1tW8Wg/+er7x8vrGf5g//LXX3/97//7P//3ZqmriBjbmq33xsmmi+VbDn8Fm0PX4iIT+2nN7Kt1zS9/o7SocbsqwOWykSN6b3PJx4v/n2uLmua+nac5XP1Mjtpz9PMQ9osyR4v6cF3l6+N4W9O4Ry0jyhZkmSMq2tv/y3XrNMvbDabXqHVEbm3OGTwPs8pR+16m2Z1h9+VtSbgxWrQy5oNuH/MGNu6VtZVYd5LiXa6T3OtO3R0p79Xb3X4qlyjlog4Pz3l73/6u29LV3r2v59vt9hatfWD97at1v9/cHwo5l3wqbxt+vz7z4XYVcbuO8931ns+7e7qB763j/In6e3Ledq/9VKK1FO3d0qi31/NNWXnOjzzXw/ZSdpUF+uJ4UruT4HN/T3fa1fVxtNSermBw6gvbFjTdPfYaUZ/2tylSjnn9z4Kj535gBYWd48g1ehlRarwF+27by2p7vln3+/A69neP48D1sW33Ve0+lRpl1Kg94r/+/T/O//6P//nv3eN9uN2r+jtdN9d957mvPHA+lu5H+4e+4851fnn/XzmOVOb893E5ZefxevcP+6GX31eP339/xNH6W7kvbE6BsvvdxcHrbelwatRyMerq9nnwyHGkhfZ3c7z3728rB3Hxcjp61Noi1Rp5bM+o5+M5ej8/cn0cuC7nQV7lsEopzY95uUaJbVWzhes31xpRj1wHB/dvq79D/fOz+8cX90Mrnt4b4G/kX/7666///ec///ltG3z/kpDmsParPvK6Y9m7Ccwf2wsUnP/vTPKzzU2+nT6x/2Lyll1+/Tj4HThvv49ce5RRHgYUUi7zQWBE5BI7gYaLX92ylqdctsVi9l7MPxJQeNyujgYUzj97Hk1ye+xborJDEazr4Ny9PvTpcZxeYA8Hjb/OSj1+p299aPyFzgfwO3gQ8D4cpL7+nfM0Yh4SUOBP8iSHwuuN1mJczZXaSRY2erQ6H6bnGr13yur1wTywMddH38nFcP6Jd8OA95aYPHoc/A6ct9/I6LvX7mVOl9Hn14mR0hw2+bi4KKVE2r4e7V/pc13q1dGOj9vVODx8crQy5w9vQ2Wvp3fu18edkub0sb6t033wHfyXuT5y3RK2bX/fcl/8VsP6AX7cXEWjXIzwiIiIlKKUOaVg6XZ3bxo08Ef79hEKAPz6LkdLROwPj/46p2XiTpvvUX/Rpby+6yvUz54P4PeVIpdykXci5rTmz670wENGKPAnEVAAgA/y0AjALfcG/iTfPuUBAAAA+P0JKAAAAADLBBQAAACAZQIKAAAAwDIBBQAAAGCZgAIAAACwTEABAAAAWCagAAAAACwTUAAAAACWCSgAAAAAywQUAAAAgGUCCgAAAMAyAQUAAABgmYACAAAAsExAAQAAAFj2bz+9AwDwd/Bf//4fP70LAADfyggFAAAAYJmAAgAAALDMlAcA+KB//M9///QuAAD8GCMUAAAAgGUCCgAAAMAyAQUAAABgmYACAAAAsExAAQAAAFgmoAAAAAAsE1AAAAAAlgkoAAAAAMsEFAAAAIBlAgoAAADAMgEFAAAAYJmAAgAAALBMQAEAAABYJqAAAAAALBNQAAAAAJYJKAAAAADLBBQAAACAZQIKAAAAwDIBBQAAAGCZgAIAAACwTEABAAAAWCagAAAAACwTUAAAAACWCSgAAAAAywQUAAAAgGUCCgAAAMAyAQUAAABgmYACAAAAsExAAQAAAFgmoAAAAAAsE1AAAAAAlgkoAAAAAMsEFAAAAIBlAgoAAADAMgEFAAAAYJmAAgAAALBMQAEAAABYJqAAAAAALBNQAAAAAJYJKAAAAADLBBQAAACAZQIKAAAAwDIBBQAAAGCZgAIAAACwTEABAAAAWCagAAAAACwTUAAAAACWCSgAAAAAywQUAAAAgGUCCgAAAMAyAQUAAABgmYACAAAAsExAAQAAAFgmoAAAAAAsE1AAAAAAlgkoAAAAAMsEFAAAAIBlAgoAAADAMgEFAAAAYJmAAgAAALBMQAEAAABYJqAAAAAALBNQAAAAAJYJKAAAAADLBBQAAACAZQIKAAAAwDIBBQAAAGCZgAIAAACwTEABAAAAWCagAAAAACwTUAAAAACWCSgAAAAAywQUAAAAgGUCCgAAAMAyAQUAAABgmYACAAAAsExAAQAAAFgmoAAAAAAsE1AAAAAAlgkoAAAAAMsEFAAAAIBlAgoAAADAMgEFAAAAYJmAAgAAALBMQAEAAABYJqAAAAAALBNQAAAAAJYJKAAAAADLBBQAAACAZQIKAAAAwDIBBQAAAGCZgAIAAACwTEABAAAAWCagAAAAACwTUAAAAACWCSgAAAAAywQUAAAAgGUCCgAAAMAyAQUAAABgmYACAAAAsExAAQAAAFgmoAAAAAAsE1AAAAAAlgkoAAAAAMsEFAAAAIBlAgoAAADAMgEFAAAAYJmAAgAAALBMQAEAAABYJqAAAAAALBNQAAAAAJYJKAAAAADLBBQAAACAZQIKAAAAwDIBBQAAAGCZgAIAAACwTEABAAAAWCagAAAAACwTUAAAAACWCSgAAAAAywQUAAAAgGUCCgAAAMAyAQUAAABgmYACAAAAsExAAQAAAFgmoAAAAAAsE1AAAAAAlgkoAAAAAMsEFAAAAIBlAgoAAADAMgEFAAAAYJmAAgAAALBMQAEAAABYJqAAAAAALBNQAAAAAJYJKAAAAADLBBQAAACAZQIKAAAAwDIBBQAAAGCZgAIAAACwTEABAAAAWCagAAAAACz7/5JlVI8MTRFNAAAAAElFTkSuQmCC" alt="1675407506097"></p> <h3 id="_3-搭建后台首页面"><a href="#_3-搭建后台首页面" class="header-anchor">#</a> 3，搭建后台首页面</h3> <p>对应的组件，如下：</p> <p><img src="/feblog/assets/img/1675407608325.9f851229.png" alt="1675407608325"></p> <p>开始大胆copy代码，最好一行一行copy，如下：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// layout/index.jsx</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span>
    MenuFoldOutlined<span class="token punctuation">,</span>
    MenuUnfoldOutlined<span class="token punctuation">,</span>
    UploadOutlined<span class="token punctuation">,</span>
    UserOutlined<span class="token punctuation">,</span>
    VideoCameraOutlined<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@ant-design/icons'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> Layout<span class="token punctuation">,</span> Menu <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'antd'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> Header<span class="token punctuation">,</span> Sider<span class="token punctuation">,</span> Content <span class="token punctuation">}</span> <span class="token operator">=</span> Layout<span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>collapsed<span class="token punctuation">,</span> setCollapsed<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Layout</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Sider</span></span> <span class="token attr-name">trigger</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">null</span><span class="token punctuation">}</span></span> <span class="token attr-name">collapsible</span> <span class="token attr-name">collapsed</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>collapsed<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logo<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Menu</span></span>
                    <span class="token attr-name">theme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dark<span class="token punctuation">&quot;</span></span>
                    <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inline<span class="token punctuation">&quot;</span></span>
                    <span class="token attr-name">defaultSelectedKeys</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>
                    <span class="token attr-name">items</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
                        <span class="token punctuation">{</span>
                            <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>
                            <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">UserOutlined</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>
                            <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'nav 1'</span><span class="token punctuation">,</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">{</span>
                            <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span>
                            <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">VideoCameraOutlined</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>
                            <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'nav 2'</span><span class="token punctuation">,</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">{</span>
                            <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'3'</span><span class="token punctuation">,</span>
                            <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">UploadOutlined</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>
                            <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'nav 3'</span><span class="token punctuation">,</span>
                        <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">]</span><span class="token punctuation">}</span></span>
                <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Sider</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Layout</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>site-layout<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Header</span></span>
                    <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>site-layout-background<span class="token punctuation">&quot;</span></span>
                    <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
                        <span class="token literal-property property">padding</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
                <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token punctuation">{</span>React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>collapsed <span class="token operator">?</span> MenuUnfoldOutlined <span class="token operator">:</span> MenuFoldOutlined<span class="token punctuation">,</span> <span class="token punctuation">{</span>
                        <span class="token literal-property property">className</span><span class="token operator">:</span> <span class="token string">'trigger'</span><span class="token punctuation">,</span>
                        <span class="token function-variable function">onClick</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setCollapsed</span><span class="token punctuation">(</span><span class="token operator">!</span>collapsed<span class="token punctuation">)</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Header</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Content</span></span>
                    <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>site-layout-background<span class="token punctuation">&quot;</span></span>
                    <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
                        <span class="token literal-property property">margin</span><span class="token operator">:</span> <span class="token string">'24px 16px'</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">padding</span><span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">minHeight</span><span class="token operator">:</span> <span class="token number">280</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
                <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    Content
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Content</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Layout</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Layout</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br></div></div><p>效果如下：</p> <p><img src="/feblog/assets/img/1675408086438.648f130a.png" alt="1675408086438"></p> <p>需要写一些全局样式，如下：</p> <p><img src="/feblog/assets/img/1675408339444.b7e21a00.png" alt="1675408339444"></p> <p>引入全局样式：</p> <p><img src="/feblog/assets/img/1677462211975.12975896.png" alt="1677462211975"></p> <p>效果如下：</p> <p><img src="/feblog/assets/img/1675408439435.fdc0c60c.png" alt="1675408439435"></p> <p>创建layout的样式，如下：</p> <p><img src="/feblog/assets/img/1675408514886.e9897d64.png" alt="1675408514886"></p> <p>开始写layout的样式，如下：</p> <p><img src="/feblog/assets/img/1675408708816.3e345544.png" alt="1675408708816"></p> <p><img src="/feblog/assets/img/1677462441447.3fa4b341.png" alt="1677462441447"></p> <p>效果如下：</p> <p><img src="/feblog/assets/img/1675408723948.d5877334.png" alt="1675408723948"></p> <p>把侧边菜单，抽离成一个单独的组件，如下：</p> <p><img src="/feblog/assets/img/1675409125327.f17432b0.png" alt="1675409125327"></p> <p>参考代码如下：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
    MenuFoldOutlined<span class="token punctuation">,</span>
    MenuUnfoldOutlined<span class="token punctuation">,</span>
    UploadOutlined<span class="token punctuation">,</span>
    UserOutlined<span class="token punctuation">,</span>
    VideoCameraOutlined<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@ant-design/icons'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> Menu <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'antd'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logo<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Menu</span></span>
                <span class="token attr-name">theme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dark<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inline<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">defaultSelectedKeys</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>
                <span class="token attr-name">items</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">UserOutlined</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>
                        <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'nav 1'</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">VideoCameraOutlined</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>
                        <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'nav 2'</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'3'</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">UploadOutlined</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>
                        <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'nav 3'</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">}</span></span>
            <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><p>对应的idnex.jsx的代码如下：</p> <p><img src="/feblog/assets/img/1675409171489.ccb05b2d.png" alt="1675409171489"></p> <p>把React.createElement写法，换成jsx写法，如下：</p> <p><img src="/feblog/assets/img/1675409673361.8f79de75.png" alt="1675409673361"></p> <p>要把折叠收缩按钮放到侧边栏，抽离组件如下：</p> <p><img src="/feblog/assets/img/1675410189938.8c83b5a4.png" alt="1675410189938"></p> <p>参考代码如下：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
    MenuFoldOutlined<span class="token punctuation">,</span>
    MenuUnfoldOutlined<span class="token punctuation">,</span>
    UploadOutlined<span class="token punctuation">,</span>
    UserOutlined<span class="token punctuation">,</span>
    VideoCameraOutlined<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@ant-design/icons'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> Menu <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'antd'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Toggle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> value<span class="token punctuation">,</span> onChange <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onChange<span class="token punctuation">}</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>trigger<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token punctuation">{</span>
                value
                    <span class="token operator">?</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MenuUnfoldOutlined</span></span> <span class="token punctuation">/&gt;</span></span>
                    <span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MenuFoldOutlined</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>logo<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Menu</span></span>
                <span class="token attr-name">theme</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dark<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">mode</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>inline<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">defaultSelectedKeys</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">'1'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>
                <span class="token attr-name">items</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
                    <span class="token punctuation">{</span>
                        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">UserOutlined</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>
                        <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'nav 1'</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">VideoCameraOutlined</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>
                        <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'nav 2'</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token punctuation">{</span>
                        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'3'</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">UploadOutlined</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>
                        <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">'nav 3'</span><span class="token punctuation">,</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">]</span><span class="token punctuation">}</span></span>
            <span class="token punctuation">/&gt;</span></span><span class="token plain-text">

            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Toggle</span></span> <span class="token spread"><span class="token punctuation">{</span><span class="token operator">...</span>props<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br></div></div><p>在index.jsx中代码如下：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
    MenuFoldOutlined<span class="token punctuation">,</span>
    MenuUnfoldOutlined<span class="token punctuation">,</span>
    UploadOutlined<span class="token punctuation">,</span>
    UserOutlined<span class="token punctuation">,</span>
    VideoCameraOutlined<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@ant-design/icons'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> Layout<span class="token punctuation">,</span> Menu <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'antd'</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> Header<span class="token punctuation">,</span> Sider<span class="token punctuation">,</span> Content <span class="token punctuation">}</span> <span class="token operator">=</span> Layout<span class="token punctuation">;</span>

<span class="token keyword">import</span> MlSider <span class="token keyword">from</span> <span class="token string">'./MlSider'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string">&quot;./style.scss&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>collapsed<span class="token punctuation">,</span> setCollapsed<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>ml-layout<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Layout</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Sider</span></span> <span class="token attr-name">trigger</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token keyword">null</span><span class="token punctuation">}</span></span> <span class="token attr-name">collapsible</span> <span class="token attr-name">collapsed</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>collapsed<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MlSider</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>collapsed<span class="token punctuation">}</span></span> <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">setCollapsed</span><span class="token punctuation">(</span><span class="token operator">!</span>collapsed<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">MlSider</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Sider</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Layout</span></span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>site-layout<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Header</span></span>
                        <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>site-layout-background<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
                            <span class="token literal-property property">padding</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
                        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
                    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Header</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Content</span></span>
                        <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>site-layout-background<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
                            <span class="token literal-property property">margin</span><span class="token operator">:</span> <span class="token string">'24px 16px'</span><span class="token punctuation">,</span>
                            <span class="token literal-property property">padding</span><span class="token operator">:</span> <span class="token number">24</span><span class="token punctuation">,</span>
                            <span class="token literal-property property">minHeight</span><span class="token operator">:</span> <span class="token number">280</span><span class="token punctuation">,</span>
                        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
                    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        Content
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Content</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Layout</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Layout</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br></div></div><p>样式如下：</p> <p><img src="/feblog/assets/img/1675410245391.a977deff.png" alt="1675410245391"></p> <p>效果如下：</p> <p><img src="/feblog/assets/img/1675410266634.fd2cc99e.png" alt="1675410266634"></p> <p>处理logo，有两个logo，一个大logo，一个小logo，如下：</p> <p><img src="/feblog/assets/img/1675410873109.5ca5dbc7.png" alt="1675410873109"></p> <p>默认情况下，显示大logo，折叠时，显示小logo，处理如下：</p> <p><img src="/feblog/assets/img/1675412212937.a8548071.png" alt="1675412212937"></p> <p>样式如下：</p> <p><img src="/feblog/assets/img/1675412228962.5db81a4c.png" alt="1675412228962"></p> <p>效果如下：</p> <p><img src="/feblog/assets/img/1675412249266.e06a5701.png" alt="1675412249266"></p> <p>然后，我们处理侧边菜单，如下：</p> <p><img src="/feblog/assets/img/1675412446596.b437282c.png" alt="1675412446596"></p> <p>效果如下：</p> <p><img src="/feblog/assets/img/1675412456124.51bdb41c.png" alt="1675412456124"></p> <p>现在创建一些页面组件的组件，配置items，如下：</p> <p><img src="/feblog/assets/img/1675646277562.10a0c9b1.png" alt="1675646277562"></p> <p>然后配置二级路由，如下：</p> <p><img src="/feblog/assets/img/1675646311830.382d07c5.png" alt="1675646311830"></p> <p>一级路由不需要指定出口，但是二级路由需要指定出口，如下：</p> <p><img src="/feblog/assets/img/1675646376371.4cbc1ef3.png" alt="1675646376371"></p> <p>效果如下：</p> <p><img src="/feblog/assets/img/1675646419784.d25296ca.png" alt="1675646419784"></p> <p><img src="/feblog/assets/img/1675412930458.d9a406f6.png" alt="1675412930458"></p> <p>然后，配置items，因为侧边菜单长什么，取决items。</p> <h3 id="_4-侧边栏菜单生成"><a href="#_4-侧边栏菜单生成" class="header-anchor">#</a> 4，侧边栏菜单生成</h3> <p>和vue-element-admin一样，把侧边栏菜单抽离成一个配置文件，如下：</p> <p><img src="/feblog/assets/img/1675646583302.59963f7f.png" alt="1675646583302"></p> <p>参考代码如下：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
    MenuFoldOutlined<span class="token punctuation">,</span>
    MenuUnfoldOutlined<span class="token punctuation">,</span>
    UploadOutlined<span class="token punctuation">,</span>
    UserOutlined<span class="token punctuation">,</span>
    VideoCameraOutlined<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@ant-design/icons'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> Dashboard <span class="token keyword">from</span> <span class="token string">&quot;@/pages/dashboard/index&quot;</span>
<span class="token keyword">import</span> GoodList <span class="token keyword">from</span> <span class="token string">&quot;@/pages/good/goodList&quot;</span>
<span class="token keyword">import</span> GoodForm <span class="token keyword">from</span> <span class="token string">&quot;@/pages/good/goodForm&quot;</span>
<span class="token keyword">import</span> User <span class="token keyword">from</span> <span class="token string">&quot;@/pages/user/index&quot;</span>

<span class="token comment">// 动态路由，有权限的路由</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> asyncRoutes <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token number">1001</span><span class="token punctuation">,</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/dashboard&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&quot;首页大屏&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MenuFoldOutlined</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">element</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Dashboard</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token number">1002</span><span class="token punctuation">,</span>
        <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">VideoCameraOutlined</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&quot;商品管理&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token number">100201</span><span class="token punctuation">,</span>
                <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/good/list&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
                <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&quot;商品列表&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">element</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">GoodList</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token number">100202</span><span class="token punctuation">,</span>
                <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/good/add&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
                <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&quot;商品新增&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">element</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">GoodForm</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token number">100203</span><span class="token punctuation">,</span>
                <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/good/edit&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
                <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&quot;商品编辑&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">element</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">GoodForm</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token number">1003</span><span class="token punctuation">,</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/user&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">element</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">User</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">UserOutlined</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token string">&quot;用户管理&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br></div></div><p>需要生成items，如下：</p> <p><img src="/feblog/assets/img/1675646687176.1b114935.png" alt="1675646687176"></p> <p><img src="/feblog/assets/img/1675646795084.68b5551d.png" alt="1675646795084"></p> <p>getItems如下：</p> <p><img src="/feblog/assets/img/1677467854297.8aba8a7a.png" alt="1677467854297"></p> <p>在MlSider中，根据asyncRoutes生成items，如下：</p> <p><img src="/feblog/assets/img/1675647336713.7b688f86.png" alt="1675647336713"></p> <p>在Menu组件中使用items，如下：</p> <p><img src="/feblog/assets/img/1675647381815.d4820908.png" alt="1675647381815"></p> <p>效果如下：</p> <p><img src="/feblog/assets/img/1675647529674.cc122f17.png" alt="1675647529674"></p> <p>在vue-element-admin中，可以控制一个菜单的显示与隐藏，如下：</p> <p><img src="/feblog/assets/img/1675647611024.0277adce.png" alt="1675647611024"></p> <p>修改一下算法，如下：</p> <p><img src="/feblog/assets/img/1675647678221.7c27c8d6.png" alt="1675647678221"></p> <p>效果如下：</p> <p><img src="/feblog/assets/img/1675647712494.b2cc8227.png" alt="1675647712494"></p> <p>还需要点击进行跳转，使用Link组件，如下：</p> <p><img src="/feblog/assets/img/1675647942824.b09c8a60.png" alt="1675647942824"></p> <p><img src="/feblog/assets/img/1675647954028.8f207330.png" alt="1675647954028"></p> <p>点击测试OK，如下：</p> <p><img src="/feblog/assets/img/1675647968095.682f65a4.png" alt="1675647968095"></p> <p>也需要App.jsx中的路由配置写活，如下：</p> <p><img src="/feblog/assets/img/1675648031827.1c38a397.png" alt="1675648031827"></p> <p>生成的算法，如下：</p> <p><img src="/feblog/assets/img/1675648844570.9cc380ee.png" alt="1675648844570"></p> <p>使用算法，如下：</p> <p><img src="/feblog/assets/img/1675648858416.4e483faa.png" alt="1675648858416"></p> <p>动了getItem，如下：</p> <p><img src="/feblog/assets/img/1675648970198.0fcc64c8.png" alt="1675648970198"></p> <p>测试OK，如下：</p> <p><img src="/feblog/assets/img/1675648893040.610f4224.png" alt="1675648893040"></p> <p>现在侧边菜单有两个问题：</p> <ul><li>当选中某个菜单后，刷新后，此菜单并没有选中</li> <li>对于二级菜单，打开后，当刷新后，又折叠起来了</li></ul> <p>解决这两个问题，需要靠两个props来解决，如下：</p> <p><img src="/feblog/assets/img/1675650177415.3bc9000f.png" alt="1675650177415"></p> <p>但是你上面写的1002和1003是写死的，现在需要写一个算法，动态生成上面的两个数值，我们使用自定义hook实现算法，如下：</p> <p><img src="/feblog/assets/img/1675650456641.14f27d66.png" alt="1675650456641"></p> <p>在组件中使用自定义hook，如下：</p> <p><img src="/feblog/assets/img/1675650480562.f29e3da7.png" alt="1675650480562"></p> <p><img src="/feblog/assets/img/1675650515143.60664133.png" alt="1675650515143"></p> <p>我们期望得到两个key，如下：</p> <p><img src="/feblog/assets/img/1675650691160.53694d83.png" alt="1675650691160"></p> <p>开始实现useMenu这个自定义hook，如下：</p> <p><img src="/feblog/assets/img/1675651187146.59eec8b5.png" alt="1675651187146"></p> <p>使用之，如下：</p> <p><img src="/feblog/assets/img/1675651200858.e0d6f970.png" alt="1675651200858"></p> <p>测试OK，如下：</p> <p><img src="/feblog/assets/img/1675651225825.c3da6537.png" alt="1675651225825"></p> <p>能不能把上面计算这两个key的代码缓存起来，使用useMemo，如下：</p> <p><img src="/feblog/assets/img/1675651487762.47249c33.png" alt="1675651487762"></p> <p>测试OK。</p> <p>总结自定义hook的使用：</p> <ul><li>组件主是要用来抽离UI界面的，hook和vue3一样，主要是用来抽离逻辑。抽离完后，是可以复用的，并且多次使用，彼此之间是独立的。</li> <li>和vue3一样，自定义hook需要使用use开头。</li> <li>自定义hook只能在函数式组件中使用，写在组件内，return之前。</li> <li>网上还有一些比较优秀的开源hook，如：react-use，ahooks。</li></ul> <h3 id="_5-实现面包屑导航"><a href="#_5-实现面包屑导航" class="header-anchor">#</a> 5，实现面包屑导航</h3> <p>需求如下：</p> <p><img src="/feblog/assets/img/1675663922103.5ea8a254.png" alt="1675663922103"></p> <p>在组件库中找到面包屑导航，如下：</p> <p><img src="/feblog/assets/img/1675664038501.83394f39.png" alt="1675664038501"></p> <p>抽离MlHeader组件，如下：</p> <p><img src="/feblog/assets/img/1675664231075.4a1020c7.png" alt="1675664231075"></p> <p>在index.jsx中，使用MlHeader组件，如下：</p> <p><img src="/feblog/assets/img/1675664290472.2a695b2a.png" alt="1675664290472"></p> <p>浏览器中测试如下：</p> <p><img src="/feblog/assets/img/1675664325974.4efae1d5.png" alt="1675664325974"></p> <p>定义类名，写一点样式，如下：</p> <p><img src="/feblog/assets/img/1675664411900.2eac0bd9.png" alt="1675664411900"></p> <p><img src="/feblog/assets/img/1675664655812.d4d98af4.png" alt="1675664655812"></p> <p>现在需要小一个小算法，生成面包屑，如下：</p> <p><img src="/feblog/assets/img/1675665336368.e7b605fe.png" alt="1675665336368"></p> <p>在MlHeader组件中使用之，如下：</p> <p><img src="/feblog/assets/img/1675665365079.6ae81cab.png" alt="1675665365079"></p> <p>根据breads，生成JSX，如下：</p> <p><img src="/feblog/assets/img/1675665502913.baf6187a.png" alt="1675665502913"></p> <p>优化面包屑导航，如下：</p> <p><img src="/feblog/assets/img/1675665620472.344a655e.png" alt="1675665620472"></p> <p>这样写，和我们刚才是一样的，如下：</p> <p><img src="/feblog/assets/img/1675665709722.cbc9df88.png" alt="1675665709722"></p> <p>引入一个hook，实现编程式路由跳转，如下：</p> <p><img src="/feblog/assets/img/1675666175593.43e942d5.png" alt="1675666175593"></p> <p>点击测试OK。</p> <p>如果可以跳转，鼠标放上去，变成手形，如果不能跳转，鼠标放上去，不是手形，如下：</p> <p><img src="/feblog/assets/img/1675666310945.17584e0a.png" alt="1675666310945"></p> <p>测试OK。</p> <p>还可以设置如果不能跳转，就变成灰色，能跳转就白色，如下：</p> <p><img src="/feblog/assets/img/1675666458034.4e9f6d7c.png" alt="1675666458034"></p> <p>如果能跳转，就设置成白色，如下：</p> <p><img src="/feblog/assets/img/1675666541455.40c554a0.png" alt="1675666541455"></p> <p>效果如下：</p> <p><img src="/feblog/assets/img/1675666561304.4eb725a4.png" alt="1675666561304"></p> <p>判断条件也可以封装成一个函数，如下：</p> <p><img src="/feblog/assets/img/1675666673105.ab53e218.png" alt="1675666673105"></p> <h3 id="_7-全屏与退出全屏"><a href="#_7-全屏与退出全屏" class="header-anchor">#</a> 7，全屏与退出全屏</h3> <p>需求：</p> <p><img src="/feblog/assets/img/1675667827832.1374487b.png" alt="1675667827832"></p> <p>准备上面的三个icon，如下：</p> <p><img src="/feblog/assets/img/1675667875469.c71857c5.png" alt="1675667875469"></p> <p>开始布局，如下：</p> <p><img src="/feblog/assets/img/1675668160671.05834f44.png" alt="1675668160671"></p> <p><img src="/feblog/assets/img/1675668274526.f02843ae.png" alt="1675668274526"></p> <p>书写样式，如下：</p> <p><img src="/feblog/assets/img/1675668176439.b0d441f4.png" alt="1675668176439"></p> <p>效果如下：</p> <p><img src="/feblog/assets/img/1675668291732.3676c3f5.png" alt="1675668291732"></p> <p>然后实现全屏与退出全屏，使用screenfull来实现，安装如下：</p> <p><img src="data:image/png;base64,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" alt="1675668357628"></p> <p>绑定点击事件，使用之，如下：</p> <p><img src="/feblog/assets/img/1675668665154.c716fdc5.png" alt="1675668665154"></p> <p>测试OK。</p> <p>还需要优化，没有全屏和全屏下，按钮长的是不一样的，如下：</p> <p><img src="data:image/png;base64,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" alt="1675668769638"></p> <p>需要定义一个状态来控制显示哪一个图标，如下：</p> <p><img src="/feblog/assets/img/1675669119090.de827a95.png" alt="1675669119090"></p> <p><img src="/feblog/assets/img/1675669133714.15c0b24f.png" alt="1675669133714"></p> <p><img src="/feblog/assets/img/1675669145603.0910136d.png" alt="1675669145603"></p> <p>效果如下：</p> <p><img src="data:image/png;base64,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" alt="1675669154478"></p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAWoAAABICAYAAADfy79qAAAGkklEQVR4nO3cf0zUdRzH8RfqoZmaLEHN9ctphmQ4CbEz626ipJYSTSorT2tNE7Mtu8qa826trC5zWVc2LbE156AVWa2sOTGCRMGFBUujH9bIX6Vm6pZn2R/KCR0nPzzuPvh9Pv768v2+v/u+/+G1Nx8+32+cEpNPCgBayPbF1Fi3YDmdYt0AAODs4pioAcBsTNQAYDiCGgAMR1ADgOEIagAwHEENAIYjqAHAcAQ1ABiOoAYAwxHUAGA4ghoADEdQA4DhCGoAMBxBDQCGI6gBwHAENQAYjqAGAMMR1ABgOIIaAAxHUAOA4QhqADAcQQ0AhusS6wYAdCwed55uGp0uSdpUulUenz/GHZ3/CGpY2rwH7lXGiGG6+8HH2nT/muU+VVZVa8nr+W3uYeiQQcqdnNXq+6p31Kpw3fo2P7etbh47RhkjrpUkxdviCeooIKhhaXPvn6bBAy/XX0eOabbb06p7l/s8uitnkoYPSz6noE66OEGL3Hmtvs/r86tQ0Q3qjBHXBkNakuzpw5WacrWqqr+Lah9WQ1DD0qbNduuDt1/VLFeujhw9qkc9Ps24M1vvfviZjhw91qi2Z48Ldfst45S/tkgvetya5crVr3V7ND3viYj04vX5VVy6pdG5jUWrVVy2Rd4X/CHnY2HC2DGSpPJt29X9gm4alnyVxjvsBHU7I6hhaRVff6t75jyu91Yt0/w5M3Xk6DEtcuepZHNlSFAP6N9Xq5Y9qysuHaD5c2bq4KE/5XpogSq+/jZi/RSXbQ0eO+zpzZ6PtptPB/UnG0oaBPVo+fxvxawnK2DXByxv45flcj20QIHAieASRN/EPiF1A/onSZIWufN0PBDQjHlPaeOX5ef8/OKyrXJmu1TQwvXm1tZHytAhg4LLHp9uKNGnG0okSZk3Xa/BAy+Pai9Ww0QNSOoab5PNdubXoV9SE0Hdr2/wON5mU9d4W8Se33Bibo/6SKj/h2f5tu0q37ZdnTt30u69+9W/b6LGO+z6/sddUe/JKpioAUlpqSkqXLdelVXVOnjosAZdeVlIzYD+STp46LAqq6pVuG690lJTYtBp7DRc9pCkf/75N3g8aZwjZn1ZARM1IOmJp19qtmbxyyu0+OUVUeimeRuL8uWwjwx73ZntiujU3S+pT6Nlj3olmyt037QcTRg7Rpf0S9Jve/ZF7Jk4g4ka6MCKy7aouGxLyHGkTc+dIunUsscF3brKYU+Xw56un3+pUyBwQpI03jG6XZ4NJmqgQ3Nmz5DHnSeHfWRwC5+jKPyk3VY5t4yTdGofdbitgTmTMpW/9v2IPxsENdAheV/wy6um3wiM9LKHrUuX4LJHuIndYR+pW7Oc6t2rpw4d/itiz8YpBDXQAYUL4vbYDTL9jinBY2f2jCZrTu6rkSRNzLxRa977OOI9WB1r1ICk5xY+ooKVS1XxeaEO7NysBQ8/EFLz2Nz7dWDnZlV8XqiClUv13MJHYtBp9LlOB/WHnxWHram/dvutrf9mCZpHUAOSKquqNXVyltJSU5TQu5fqdofuXqj96Rcl9O6ltNQUTZ2cpcqq6hh0Gn1jRl0nSfrgkw1ha+qv5UzKbLQfHZFBUAOS/j4e0PFAIPhz3Z69ITV79v0ePA4ETujv44GQmvNN9sSxweOvKqrC1jW8dtvEzHbtyYoIalie84YM5S97RvE2m7ynP9nZ1ES9d/+poPb6/LLZumj1K4vlvCEjqr1G284fdsmZ7ZIz26WaHbVh62p21Abr9u3/I4odWgN/o8DSrht+jVa/slgJvS/SktdWyePz6+df61S3O3Si3rv/D82c96Ty1xapx4XdNX/OTL3z2vOaMn1uRD/M1NRHl+rPRfvV8ZodtappYW0sXmu3ijglJp+MdRNArNSUfqTkwQP1xuqCNn2PepYrV9//uEtXjZoQsZ7O9tZhXNLQRj/X77ao5/X5z/lD/gUrlyqxT0LohZOS4pq5ub6mQW24nSJoOSZqWNqb77yrtNSUVoe0JM12e9SzR3eVb/smoj1tKt2qTaUtm069/wvl6rMsT7RUYp+Es76e3hrt9aak1TBRA2gk7ETdRkzU546gBgDDsesDAAxHUAOA4QhqADAcQQ0AhiOoAcBwBDUAGI6gBgDDEdQAYDiCGgAMR1ADgOEIagAwHEENAIYjqAHAcAQ1ABiOoAYAwxHUAGA4ghoADEdQA4DhCGoAMBxBDQCGI6gBwHAENQAYjqAGAMMR1ABgOIIaAAxHUAOA4f4DYMnU1b0Tf28AAAAASUVORK5CYII=" alt="1675669166583"></p> <h3 id="_8-集成redux"><a href="#_8-集成redux" class="header-anchor">#</a> 8，集成Redux</h3> <p>类似于vuex和pinia，用来集中状态管理的，需要使用到的依赖：</p> <ul><li>经典架构：redux + react + react-redux + redux-thunk + immer</li> <li>最新架构：@reduxjs/toolkit + react + react-redux +ts</li></ul> <p>安装redux，如下：</p> <p><img src="data:image/png;base64,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" alt="1675670503480"></p> <p>创建仓库，语法如下：</p> <p><img src="/feblog/assets/img/1675670825464.d2c4244f.png" alt="1675670825464"></p> <p>需要记一些东西，如下：</p> <ul><li>三个API： createStore / combineReducers / applyMiddleware</li> <li>三个特点：store必须是单 一数据源 / store中的状态是只读 / store中的数据只能通过reducer来修改</li> <li>三个概念：store是数据仓库， action(用于改变数据的对象{type: 信号，payload})，reducer（专门用来修改状态）</li></ul> <p>现在创建一个子reducer(代表创建一个子store)，如下：</p> <p><img src="/feblog/assets/img/1675671285916.47597e6c.png" alt="1675671285916"></p> <p>利用immer对上面的第1步进行操作，安装之，如下：</p> <p><img src="/feblog/assets/img/1675671344241.3f94896d.png" alt="1675671344241"></p> <p>使用poduce进行操作，如下：</p> <p><img src="/feblog/assets/img/1675671816952.c54bba0f.png" alt="1675671816952"></p> <p>在index.js中，引入，合并（现在就一个，一会就会创建多个），如下：</p> <p><img src="/feblog/assets/img/1675671640297.47deec94.png" alt="1675671640297"></p> <p>到此，这个子store就准备完毕了，同理还可以准备一个子store，如下（文件名写错了，应该是user）：</p> <p><img src="/feblog/assets/img/1675672025335.f38d3b71.png" alt="1675672025335"></p> <p>在index.js中进行合并，如下（文件名写错了，应该是user）：</p> <p><img src="/feblog/assets/img/1675672075184.50e7af20.png" alt="1675672075184"></p> <p>到此，仓库就准备好，你要在react组件中使用仓库中的状态，需要使用react-redux，如下：</p> <p><img src="/feblog/assets/img/1675672146494.19e0a01b.png" alt="1675672146494"></p> <p>在App.jsx中，使用Provider提供store，这样，子子孙孙都可以使用store，如下：</p> <p><img src="/feblog/assets/img/1675672306644.699f53a4.png" alt="1675672306644"></p> <p>打印出store，如下：</p> <p><img src="/feblog/assets/img/1675672335626.ab47f5c1.png" alt="1675672335626"></p> <p>浏览器中测试如下：</p> <p><img src="/feblog/assets/img/1675672493696.8d65f672.png" alt="1675672493696"></p> <p>想获取仓库中的状态，如下：</p> <p><img src="/feblog/assets/img/1675672575790.4ec50804.png" alt="1675672575790"></p> <p>现在要在组件中获取仓库中的状态，如下：</p> <p><img src="/feblog/assets/img/1675672674969.358595d4.png" alt="1675672674969"></p> <p><img src="/feblog/assets/img/1675672772920.f21c3cd2.png" alt="1675672772920"></p> <p>现在想获取user模块中的状态，如下：</p> <p><img src="/feblog/assets/img/1675672856090.62fdbc49.png" alt="1675672856090"></p> <p>简写如下：</p> <p><img src="/feblog/assets/img/1675672936161.eef3be67.png" alt="1675672936161"></p> <p>修改size状态，使用dispatch，格式如下：</p> <ul><li>dispatch(action)</li> <li>action是一个对象，对象中有一个type和payload</li></ul> <p>修改size，如下：</p> <p><img src="/feblog/assets/img/1675673166654.13cb7dc8.png" alt="1675673166654"></p> <p>小的reducer收到了action，如下：</p> <p><img src="/feblog/assets/img/1675673259326.2ba494a6.png" alt="1675673259326"></p> <p>然后根据type，对老的状态进行操作，如下：</p> <p><img src="/feblog/assets/img/1675673470012.ccafc1c0.png" alt="1675673470012"></p> <p>对size一次减3操作，如下：</p> <p><img src="/feblog/assets/img/1675673542878.278bb0b4.png" alt="1675673542878"></p> <p>reduer开始收到信号，开始操作状态，如下：</p> <p><img src="/feblog/assets/img/1675673606357.a2c07188.png" alt="1675673606357"></p> <p>到此，我们就把reducx集成到了项目中。有一个图，如下：</p> <p><img src="/feblog/assets/img/1675673730108.48d2bdf3.png" alt="1675673730108"></p> <h3 id="_9-组件大小的全局切换"><a href="#_9-组件大小的全局切换" class="header-anchor">#</a> 9，组件大小的全局切换</h3> <p>需求：</p> <p><img src="/feblog/assets/img/1675732632465.7dad2a57.png" alt="1675732632465"></p> <p>实现下拉菜单，如下：</p> <p><img src="/feblog/assets/img/1675732728531.28b877ff.png" alt="1675732728531"></p> <p>copy代码如下：</p> <p><img src="/feblog/assets/img/1675733744592.a105c5e4.png" alt="1675733744592"></p> <p><img src="/feblog/assets/img/1675733757188.55c15407.png" alt="1675733757188"></p> <p>效果如下：</p> <p><img src="data:image/png;base64,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" alt="1675733783980"></p> <p>点击large，middle，点击small，改变仓库中的size的大小。定义状态，如下：</p> <p><img src="/feblog/assets/img/1675734021955.a3494db9.png" alt="1675734021955"></p> <p>在组件中使用状态，如下：</p> <p><img src="/feblog/assets/img/1675734230422.cb051240.png" alt="1675734230422"></p> <p><img src="/feblog/assets/img/1675734241454.501386aa.png" alt="1675734241454"></p> <p><img src="/feblog/assets/img/1675734290848.66405fa1.png" alt="1675734290848"></p> <p>测试之，如下：</p> <p><img src="/feblog/assets/img/1675734353264.e5ac0e11.png" alt="1675734353264"></p> <p>使用行内样式，如下：</p> <p><img src="/feblog/assets/img/1675734435417.36944c52.png" alt="1675734435417"></p> <p>点击small和large，目的是让仓库中的size变化，绑定点击事件，如下：</p> <p><img src="/feblog/assets/img/1675734530423.ecf788ab.png" alt="1675734530423"></p> <p>实现toggleSize方法，如下：</p> <p><img src="/feblog/assets/img/1675734675825.b9f75694.png" alt="1675734675825"></p> <p><img src="/feblog/assets/img/1675734688827.2f87238f.png" alt="1675734688827"></p> <p><img src="/feblog/assets/img/1675734700818.f92ca7f7.png" alt="1675734700818"></p> <p>点击时，如何判断这个action有没有传给reducer，可以安装一个调试工具，大家可以搜索一个调试工具，安装一下，除了安装调试工具外，还可以使用redux-logger，类似于console.log。可以新状态和老状态都打印出来。</p> <p>安装之，如下：</p> <p><img src="/feblog/assets/img/1675734848668.58f31712.png" alt="1675734848668"></p> <p>这个logger是一个中间件，要使用中间件，如下：</p> <p><img src="/feblog/assets/img/1675735033505.51bbfb14.png" alt="1675735033505"></p> <p>浏览器中测试，如下：</p> <p><img src="/feblog/assets/img/1675735092579.1e7ef5c7.png" alt="1675735092579"></p> <p>现在就需要修改状态，如下：</p> <p><img src="/feblog/assets/img/1675735160176.095b833f.png" alt="1675735160176"></p> <p>浏览器再次测试之，如下：</p> <p><img src="/feblog/assets/img/1675735198123.c671328b.png" alt="1675735198123"></p> <p>到此，就可以完成仓库中状态的修改了。但是action我们是写死的组件中的，如下：</p> <p><img src="/feblog/assets/img/1675735270543.5990d117.png" alt="1675735270543"></p> <p>抽离action，如下：</p> <p><img src="/feblog/assets/img/1675735378870.76025740.png" alt="1675735378870"></p> <p>在组件中使用action creater，如下：</p> <p><img src="/feblog/assets/img/1675735495313.c2f22b03.png" alt="1675735495313"></p> <p><img src="/feblog/assets/img/1675735505641.b0b46fc5.png" alt="1675735505641"></p> <p>浏览器中测试之，如下：</p> <p><img src="/feblog/assets/img/1675735521500.37ddf405.png" alt="1675735521500"></p> <p>使用两个组件，如下：</p> <p><img src="/feblog/assets/img/1675735709991.8158fe9c.png" alt="1675735709991"></p> <p>效果如下：</p> <p><img src="/feblog/assets/img/1675735723042.d8b4b673.png" alt="1675735723042"></p> <p>然后要实现组件大小的全局切换，文档如下：</p> <p><img src="/feblog/assets/img/1675735808243.5340e21d.png" alt="1675735808243"></p> <p>和vue-element-admin一样，全局功能都在layout文件夹中，使用之，如下：</p> <p><img src="/feblog/assets/img/1675735997671.580a151a.png" alt="1675735997671"></p> <p><img src="/feblog/assets/img/1675736014571.af8803df.png" alt="1675736014571"></p> <p>这样就可以改变组件的大小了。测试OK。</p> <p>现在有一个问题，如下：</p> <p><img src="/feblog/assets/img/1675736138787.ed5c2429.png" alt="1675736138787"></p> <p>解决如下 ：</p> <p><img src="/feblog/assets/img/1675736214535.085e4af3.png" alt="1675736214535"></p> <p>测试之，如下：</p> <p><img src="/feblog/assets/img/1675736287051.8f5c2dc7.png" alt="1675736287051"></p> <h3 id="_10-国际化"><a href="#_10-国际化" class="header-anchor">#</a> 10，国际化</h3> <p>需求：</p> <p><img src="/feblog/assets/img/1675737093764.caba6d9b.png" alt="1675737093764"></p> <p>准备数据，如下：</p> <p><img src="/feblog/assets/img/1675737252789.5671caaf.png" alt="1675737252789"></p> <p>浏览器中也可以测试当前支持的默认语言，如下：</p> <p><img src="/feblog/assets/img/1675737304592.17d08341.png" alt="1675737304592"></p> <p>先把下拉菜单整出来，如下：</p> <p><img src="/feblog/assets/img/1675737401443.96a1d359.png" alt="1675737401443"></p> <p>效果如下：</p> <p><img src="data:image/png;base64,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" alt="1675737410057"></p> <p>在仓库中准备状态，如下：</p> <p><img src="/feblog/assets/img/1675737450444.0227e206.png" alt="1675737450444"></p> <p>在组件中就可以使用状态了，如下：</p> <p><img src="/feblog/assets/img/1675737537929.1bed14bf.png" alt="1675737537929"></p> <p><img src="/feblog/assets/img/1675737552830.7a1d32ad.png" alt="1675737552830"></p> <p>浏览器效果如下：</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAR0AAADKCAYAAACYJpRYAAAbHElEQVR4nO2de2wdV53Hv2fc8liJAqIPu3k07pZCW+iyYVtss1ncNC1Q6NLYSiAOgkYFoW20lYgaoW4eJI6zqyVRkEAuQoDSlYgDjpx0t7A82qaBgJ2GkqWlDRRCnSYOdopAUITUinrO/jHvM2eed2buXPv7kew7c+bMmXPvmfne3+93HldIKSUIIaQiLjj1m+eaXQdCyDxC4JJraOkQQirDaHYFCCHzC4oOIaRSKDqEkEqh6BBCKoWiQwipFIoOIaRSKDqEkEqh6BBCKoWiQwipFIoOIaRSKDqEkEqh6BBCKoWiQwipFIoOIaRSKDqEkEqh6BBCKoWiQwipFIoOIaRSKDqEkEqh6BBCKoWiQwipFIoOIaRSKDqEkEqh6BBCKoWiQwipFIoOIaRSKDqEkEq5oNkVIISUw7aN6/Ged98AAPjBj3+CbbuGm1wjC4oOaQm2bVyP02fP4fSZczh99rc4ffZc4jmvfvWrsHhBBxYvvByLF3TgioUdDT14177lKqz+5/dmPu+ZZ0/hwP98L/d18/K+m5fhXUuvBwC86sJXUXQIycJbrurEZzeud/ePjB/HTXfcGXvOffd8MnDO2LcebqgOl77pjYHy0rJ91zAOoFrRedfS613BAYCeG96Bv7vurXjymV9WWg8dFB3SEvx68nl3e/uu4VTf2k4eRyjOnJsupC7bdw3jyI+PB9Iee/C/cGT8OLZ/bjiU3gzef/MyAMDjJ57C37z2NXj7NVfj1t6eWogOA8mkJZie+R0A4NlTk/jsxvWpLI5tdr5nT00CAE6fSXbJ0nJk/CfuX5r0qnmfLTrfefQovvPoUQDArb3vbmaVXCg6pCWYmj6Pz33xa1j9iU/j3PR5bNu4HttihMcRnHPT57H6E5/GkfHjeO75sw3V4cj4T3DTHR/HaMr4TNb8RXHtW65yXavvPnoU37VFZ8V7uvHmK6+otC466F6RluCh7z2GE0+dxLnp81jzqXvx0Nfvd60d1dVyBOdPL/4ZH/7kBjx18leJ8Z+0ZLVgmmHxOMHux088hcdPPIW2NgPT53+Hjssuwa29Pfj1c88nlFAutHRIy3Bu+jwA4Oixn+Kjd38Gs7NmZN7ZWRMf+dS9+PHx/6uqerXB71oB1mfhbH/glt6m1cuBokNakm99/whW9K/TBpS37RrGiv51rlvRTB578AHIF05G/vX23FDo9dovvTjgWjkcPfYEACvAfHn7pYVeMysUHdKyxLkuzQ7kqhwZP44j48dD20XzsdUfAmC5Vq99zavR23MDentuwOkz5/DXv74CoPkBZcZ0CKmAm+64E9s2rkdvz41ut3rvgzcWfp2+D94CwBqnE9Vd3/eBFXjgG4cKv3ZaKDqElMj2zw1jO/Rjim664+OFWmQXXnCB61pFWVK9PTfi9vfehDdc9Dr88cU/F3btLFB0SMvS23ND5EMbd6xKoupQRt0+9uEPudtRvXXyhZMAgNtW/BNGDn678DqkgTEd0pK87+ZleGRsr3aszraN6/HI2F588Nbm99RUycdt0Xno+0ci8zjH+m/PPoesKCg6pOV4941/j298eTfa2qJv37Y2A1+//z+xrOudAIAFHZdVVb2msazrHwAA//2dRyPzOMf6PrACF17YHEeHokNagg/e2ovHHnwA1197Nb75lT14/UWvi5yDtW3XMLbvGsbrL3od9n95N66/9mrc84mP4vb33lRa/aSUhebLyh233QwpJaSUmHjiych8E0886eZbeduKUuqSBGM6pCW48opF6O25EaNf/TwWdFyWOOnTObb13rsx+tXP4+q/XYLTnylu7lXd+NVvnsfylVYc5+SzpyLznXz2lJuvWVB0SEuwZPECANYSF1lnmW+9924AQEf7JYXWSR3YJ6V006oOYp989hROpszb7AA7RYe0BIsXdACwHmxHRJKExzz/TGD/zZ3FTnbcuvFu9PZ4Y216e25E7yFr37jsusi6HD70AAZ339/wolqjX92Di9/0xvABCUAknOzksV+FEIXNT0uCokNagqd/8St8++Ef4My5aZyZ+m2qtXGMy67DkkULsGTR5ViyeAGWLFpQaJ1+OP4Efjj+RKq8g7vvD+w/E+MCpeXiN70xIHqNUNYIaR0Cl1xTTmSLEFIq3/zKHlxyscbSycnylesKKysOig4hpFLYZU4IqRSKDiGkUig6hJBKoegQQiqFokMIqRSKDiGkUig6hJBKoegQQiqFokMIqRSKDiGkUig6hJBKoegQQiqFS1uQec5cmu+sey9RC+skLbhTHhQdMk+YS+KiEvfenGOqyMSdU64gUXTIHGQuC4yKDLy8423X4EO33Ywnn/4lHvzfR6xE4WRIKyZZ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" alt="1675737567544"></p> <p>然后准备action creator，如下：</p> <p><img src="/feblog/assets/img/1675737636496.0c5333e9.png" alt="1675737636496"></p> <p>给下拉菜单绑定点击事件，点击diapath一个action，如下：</p> <p><img src="/feblog/assets/img/1675737755500.b2e8a41d.png" alt="1675737755500"></p> <p><img src="/feblog/assets/img/1675737769666.558af107.png" alt="1675737769666"></p> <p>reducer需要接收状态，修改reducer，如下：</p> <p><img src="/feblog/assets/img/1675737820810.cca8f7b7.png" alt="1675737820810"></p> <p>浏览器中测试之，如下：</p> <p><img src="/feblog/assets/img/1675737854284.5750569f.png" alt="1675737854284"></p> <p>现在先去实现组件的国际化，文档如下：</p> <p><img src="/feblog/assets/img/1675737957570.aeedbab9.png" alt="1675737957570"></p> <p><img src="/feblog/assets/img/1675738005231.72a824d1.png" alt="1675738005231"></p> <p>语言包如下：</p> <p><img src="/feblog/assets/img/1675738059612.33bd1552.png" alt="1675738059612"></p> <p>使用之，如下：</p> <p><img src="/feblog/assets/img/1675738161289.63bcdc24.png" alt="1675738161289"></p> <p>使用之，如下：</p> <p><img src="/feblog/assets/img/1675738356082.42782a1c.png" alt="1675738356082"></p> <p>测试如下：</p> <p><img src="/feblog/assets/img/1675738373056.cafb84b5.png" alt="1675738373056"></p> <p><img src="/feblog/assets/img/1675738383996.aca26c9f.png" alt="1675738383996"></p> <p>到此，组件内置的国际就实现了。</p> <p>还需要对lang进行持久化，如下：</p> <p><img src="/feblog/assets/img/1675757851720.be0b0dd7.png" alt="1675757851720"></p> <p>通过navigator.language得到的是&quot;zh-CN&quot;，组件中的数据如下：</p> <p><img src="/feblog/assets/img/1675757893623.21b6c71b.png" alt="1675757893623"></p> <p>此时测试肯定不OK。</p> <p>修改组件中的数据，如下：</p> <p><img src="/feblog/assets/img/1675757949538.22650816.png" alt="1675757949538"></p> <p>在仓库中获取zh，如下：</p> <p><img src="/feblog/assets/img/1675758001471.79de7baa.png" alt="1675758001471"></p> <p>在layout组件中，也需要修改之，如下：</p> <p><img src="/feblog/assets/img/1675758107633.20d2fe29.png" alt="1675758107633"></p> <p>再次测试之，如下：</p> <p><img src="/feblog/assets/img/1675758153587.e031b07a.png" alt="1675758153587"></p> <p>除了组件的国际化外，还有型业务中国际化，实现方案：</p> <ul><li>在vue中，使用vue-i18n</li> <li>在react中，使用react-intl</li></ul> <p>安装react-intl，如下：</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA1sAAAESCAYAAAAL9M+IAAAgAElEQVR4nO3dT2wr16Hf8d/Edt5FYMdun9+7QViSTRSHg/xbpHVamXQhCejCnLp43hAIdQFmdSNx42yIQEK0YiEiEGA4G4nPfYsIkGRAq7ch3TYAr4CQYRt4UaBJQL5YLSSCbhIkfvZzksZO4uliSEokh+RQ4pHu1f1+AMG+EnXm35nR/OacOcf61a9+5X700Uf66KOP5Lqu75ek3n+BB81Pf9bQn/70J312bu66VwUAAAAPkUc/+OADEbZwk3344Yf605/+rA8++OC6VwUAAAAPEetb3/oWKQo32j+++67cj1w98clPXveqAAAA4CFiuTRZAQAAAMDMfey6VwAAAAAAbiLCFgAAAAAYQNgCAAAAAAMIWwAAAABgAGELAAAAAAwgbAEAAACAAYQtAAAAADCAsAUAAAAABhC2AAAAAMCARyd94L//jzdnusB/+2/+9UzLAwAAAID70eSw9eM39cknn9THP/4XgQp8959+qw8//KP+8p89qf/7y9/oL//5J/XBh3/Ub3/7O916zCJsAQAAAHgoTAxbkvSZz87p6b/6q0AF/s+fHus377wn+4tf1Ftv1/WV6Jx+84//pF/85i3deuxS6woAAAAAD4xAYeuPf/idPvjdxwMVOBd6Sp/59Cf1sT//P/37+Bf0F489qqc+8ZSevPUZ/e/j/3OplQUAAACAB0WgsPV3f/ef9Yu325da0Kc+HdJz8X93qTIAAAAA4EERKGz97Kc/0U9/8r8utaAvfunLhC0AAAAAD42phn6/ffu2XnzxRb344ou6ffv20M+/9rWv6fOf//wFVuMtfS9uyfrmG3rre3FZltX5+qbeOPepN75pyYp/T2+99T3Fe5/xfk+DnxssK/49vSWNLR8AAAAAZiVw2HriiSe0sLCgYrGoYrGohYUFPfHEE7p165Zu376tRx55RN/5zneUTqcvvjavJZXRrlzXleuWdVevKTkQpPSjb+mZjLTrut7nfv6qnnstORS4+sr6+at67kff0jOWpWd+9p3x5QMAAADADAQOW3fv3tVLL72kZ599Vs8++6xeeukl3b17V88//7zeeOMNPf3005dfm+de1e7Ln+v84wXlXn1Oeu3vB1qf7qpce1ndT+lzL2vX73Pny/rcy/rO3c7v/u0LvfL/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3adndf3zK3cW+8/U+l3e6OtOebem1Tldqis38CAbORph8+RUUuTi7zqUqzrdGw5rkvfHvlFqjC3Wzu6rGD44995OSaXuixkD72h4T6w774NE04q3KgN/bE77RiM8/76HZTmKJvxDwaTtcApHys23dbhVUyad0nyorcOVvE4yG8rNh7zumedCn+0UtJGe995xkaR2XVsXGHLezu6rmOov37Kz2iumFFK778bSbWxrcFA376l7W7Xd7h2ad5Fs14b3wnGrLc2H1b1OBitv9sstr28pcS+n4l64t88sO6tMuKb8uk93qTHH7SLsbEEbqU4/9HZdhxcYItwbBjwsRSKKhE51sLiuciypzY2c5kMaqi/eH9VOXZLUbh/qIL8zVF+C1qvB8vy2w6vT3X+lVLyX6nx29MOVcYIet2bZeyfLezoakmoVlbYbKm17N5COc/7RzPADk3QuJR16D19ct6FmWV55TkK5wZbTywhQryw7q3TkUFuHceXCJ2o0Smr0rmPelcspHCnd2g30pDuZSSmkQ1XKZTUVUzQdV98Fq93yuX6djh+tccx22E5WmURYEbWU3z1Rpls/1VZ9K997927q+mw7Ws14IylKUrtdHzvlRl9dbB9q5U5/iAh6fgSp913e8oLX+3GBa9Jyu/svopby6xUtbW509k1b9cN8r24EPR7T/j0K4uxdo+7uWNHyBUPvw3j9C7L/gtYDE+s3S65bUrWeU25jUycD+99tbOuhaRQFfIwejfC4pbZCGugZJrdR0trCghaWtyeMDFhS9XReieTIj0jybsAL+wVlfboFtiP9o2Z5I8Pt+45oN2491hbWRt4YuW5J22slNWMx3/7P47ajvL6lukKKJ060e2dRK4dSaiOj6O4dLS5uqR4666pjZ/dVzEkHea8v88LCglZqEeU2pn93orG9rMWBdnm3sa07i1sK0lqf3Ewr4jtC2sUELe8yy3XdktYXV3SoeeWK97S/f6S9zInW1vzrYdD6F0g8o8zJrpY7fdC3ahGlzo1wZzkF39EKh0curKharapaO+28PJzUZiaqan7RO56hcK+1t/tHOt066L1PmT8ID42sF7RedcvL6ay8lQP1bYcklda8Mgbf5Zx0vo8S9Lj1BoKILSkekkLhpd7ohOe7EHpf21peWNZ237/PRufrK2/GJtUry7K1uhFXLb8ztj30uNUe6nbr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" alt="1675758307509"></p> <p>在src下面创建locales文件夹，如下：</p> <p><img src="/feblog/assets/img/1675758635414.5e0e6f27.png" alt="1675758635414"></p> <p><img src="/feblog/assets/img/1675758648761.5fb8beb1.png" alt="1675758648761"></p> <p>使用之，如下：</p> <p><img src="/feblog/assets/img/1675758974851.eee7ef30.png" alt="1675758974851"></p> <p><img src="/feblog/assets/img/1675759222791.c580acce.png" alt="1675759222791"></p> <p>此时，需要国际化的地方，就不能写死了，如下：</p> <p><img src="/feblog/assets/img/1675759259827.793bcaf5.png" alt="1675759259827"></p> <p>除了上面的使用方式外，还有一种方式，如下：</p> <p><img src="/feblog/assets/img/1675759405766.218cc395.png" alt="1675759405766"></p> <p>现在业务文字的国际就实现了。</p> <p>现在我想把左侧菜单也实现国际化，如下：</p> <p><img src="/feblog/assets/img/1675759823787.2b2104b3.png" alt="1675759823787"></p> <p><img src="/feblog/assets/img/1675759834686.e4c2e581.png" alt="1675759834686"></p> <p><img src="/feblog/assets/img/1675759859014.1c41fa3c.png" alt="1675759859014"></p> <p>路由的配置文件，参考代码如下：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
    MenuFoldOutlined<span class="token punctuation">,</span>
    MenuUnfoldOutlined<span class="token punctuation">,</span>
    UploadOutlined<span class="token punctuation">,</span>
    UserOutlined<span class="token punctuation">,</span>
    VideoCameraOutlined<span class="token punctuation">,</span>
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@ant-design/icons'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> Dashboard <span class="token keyword">from</span> <span class="token string">&quot;@/pages/dashboard/index&quot;</span>
<span class="token keyword">import</span> GoodList <span class="token keyword">from</span> <span class="token string">&quot;@/pages/good/goodList&quot;</span>
<span class="token keyword">import</span> GoodForm <span class="token keyword">from</span> <span class="token string">&quot;@/pages/good/goodForm&quot;</span>
<span class="token keyword">import</span> User <span class="token keyword">from</span> <span class="token string">&quot;@/pages/user/index&quot;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> FormattedMessage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-intl&quot;</span>

<span class="token comment">// 动态路由，有权限的路由</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> asyncRoutes <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token number">1001</span><span class="token punctuation">,</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/dashboard&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormattedMessage</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>menu.dashboard<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">MenuFoldOutlined</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">element</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Dashboard</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token number">1002</span><span class="token punctuation">,</span>
        <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">VideoCameraOutlined</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormattedMessage</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>menu.good<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">children</span><span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token number">100201</span><span class="token punctuation">,</span>
                <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/good/list&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
                <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormattedMessage</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>menu.good.list<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>
                <span class="token literal-property property">element</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">GoodList</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token number">100202</span><span class="token punctuation">,</span>
                <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/good/add&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
                <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormattedMessage</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>menu.good.add<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>
                <span class="token literal-property property">element</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">GoodForm</span></span> <span class="token punctuation">/&gt;</span></span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token number">100203</span><span class="token punctuation">,</span>
                <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/good/edit&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
                <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormattedMessage</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>menu.good.edit<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>
                <span class="token literal-property property">element</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">GoodForm</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>
                <span class="token comment">// hidden: true</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token number">1003</span><span class="token punctuation">,</span>
        <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">&quot;/user&quot;</span><span class="token punctuation">,</span>
        <span class="token literal-property property">element</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">User</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">UserOutlined</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>
        <span class="token literal-property property">label</span><span class="token operator">:</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">FormattedMessage</span></span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>menu.user<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br></div></div><p>效果如下：</p> <p><img src="/feblog/assets/img/1675759945239.5ad2a5c3.png" alt="1675759945239"></p> <p><img src="/feblog/assets/img/1675759964497.7db01071.png" alt="1675759964497"></p> <h3 id="_11-主题色切换"><a href="#_11-主题色切换" class="header-anchor">#</a> 11，主题色切换</h3> <p>什么是主题色：</p> <p><img src="/feblog/assets/img/1675760606800.80f5af1c.png" alt="1675760606800"></p> <p><img src="/feblog/assets/img/1675760637862.1d492841.png" alt="1675760637862"></p> <p><img src="/feblog/assets/img/1675760652817.548c1b64.png" alt="1675760652817"></p> <p><img src="/feblog/assets/img/1675760680577.7ba7b96b.png" alt="1675760680577"></p> <p><img src="/feblog/assets/img/1675760747014.a3f9ed08.png" alt="1675760747014"></p> <p>实现设置按钮，如下：</p> <p><img src="/feblog/assets/img/1675760834939.0f36363d.png" alt="1675760834939"></p> <p>把主题内容区域抽离成一个组件，如下：</p> <p><img src="/feblog/assets/img/1675761030531.7a6be2ca.png" alt="1675761030531"></p> <p>在index.jsx中引入，使用之，如下：</p> <p><img src="/feblog/assets/img/1675761054311.7e45f874.png" alt="1675761054311"></p> <p><img src="/feblog/assets/img/1675761066424.8c057925.png" alt="1675761066424"></p> <p>效果如下：</p> <p><img src="/feblog/assets/img/1675761074575.d20af049.png" alt="1675761074575"></p> <p>书写setting的样式。如下：</p> <p><img src="/feblog/assets/img/1675761220998.02a8fb05.png" alt="1675761220998"></p> <p>效果如下：</p> <p><img src="/feblog/assets/img/1675761237043.6630e47a.png" alt="1675761237043"></p> <p>当点击上面的按钮，需要弹出抽屉组件，如下：</p> <p><img src="/feblog/assets/img/1675761672370.a0f06e47.png" alt="1675761672370"></p> <p>测试效果如下：</p> <p><img src="/feblog/assets/img/1675761685281.f9545332.png" alt="1675761685281"></p> <p>提两个地方，要做国际化：</p> <p><img src="/feblog/assets/img/1675761720714.40662ba1.png" alt="1675761720714"></p> <p>实现步骤，如下：</p> <p><img src="/feblog/assets/img/1675761890328.2eec19e4.png" alt="1675761890328"></p> <p><img src="/feblog/assets/img/1675761977236.717475cb.png" alt="1675761977236"></p> <p>在抽屉上面，实现颜色的拾色器，使用react-color这个依赖，安装之，如下：</p> <p><img src="/feblog/assets/img/1675762094072.7e6c2de6.png" alt="1675762094072"></p> <p>使用之，如下：</p> <p><img src="/feblog/assets/img/1675762260239.303bd3ff.png" alt="1675762260239"></p> <p><img src="/feblog/assets/img/1675762270424.e8216f28.png" alt="1675762270424"></p> <p>效果如下：</p> <p><img src="/feblog/assets/img/1675762283051.5254b02c.png" alt="1675762283051"></p> <p>颜色也是需要存储到仓库中的，如下：</p> <p><img src="/feblog/assets/img/1675762466795.534a19a3.png" alt="1675762466795"></p> <p>在组件中使用之，通过颜色选择器选中了别的颜色，需要修改仓库中的颜色，如下：</p> <p><img src="/feblog/assets/img/1675762626814.1f94e178.png" alt="1675762626814"></p> <p>给颜色选择器指定默认颜色，如下：</p> <p><img src="/feblog/assets/img/1675762649175.54f70a58.png" alt="1675762649175"></p> <p>效果如下：</p> <p><img src="/feblog/assets/img/1675762678746.296ac1f9.png" alt="1675762678746"></p> <p>当我们选择了别的颜色，需要绑定事件，如下：</p> <p><img src="/feblog/assets/img/1675762754142.aa8c172b.png" alt="1675762754142"></p> <p>浏览器中测试如下：</p> <p><img src="/feblog/assets/img/1675762779188.a99fb979.png" alt="1675762779188"></p> <p>先定义action creater，如下：</p> <p><img src="/feblog/assets/img/1675762842647.60693b39.png" alt="1675762842647"></p> <p>然后，就可以派发这个action，如下：</p> <p><img src="/feblog/assets/img/1675762918352.884cec4d.png" alt="1675762918352"></p> <p>然后是reducer收信到信号，处理之，如下：</p> <p><img src="/feblog/assets/img/1675762995325.e9535272.png" alt="1675762995325"></p> <p>浏览器测试之，如下：</p> <p><img src="/feblog/assets/img/1675763016984.f5ac0e79.png" alt="1675763016984"></p> <p>到此，就把仓库中的颜色修改了。然后就需要改变页面中的主题色了。如下：</p> <p><img src="/feblog/assets/img/1675763074742.c46bed7a.png" alt="1675763074742"></p> <p>实现之，如下：</p> <p><img src="/feblog/assets/img/1675763342406.aa52c3ea.png" alt="1675763342406"></p> <p><img src="/feblog/assets/img/1675763365016.392ff432.png" alt="1675763365016"></p> <p>需要在main.js中引入样式，如下：</p> <p><img src="/feblog/assets/img/1677641319435.37c5accd.png" alt="1677641319435"></p> <p>浏览器测试之，如下：</p> <p><img src="/feblog/assets/img/1675763424995.8eb2d368.png" alt="1675763424995"></p> <p>有一个问题，如下：</p> <p><img src="/feblog/assets/img/1675763489928.24b7e701.png" alt="1675763489928"></p> <p>解决：</p> <p><img src="/feblog/assets/img/1675763519849.b2466b79.png" alt="1675763519849"></p> <p><img src="/feblog/assets/img/1675763667521.15cc8123.png" alt="1675763667521"></p> <p>效果如下：</p> <p><img src="/feblog/assets/img/1675763681415.be6c8490.png" alt="1675763681415"></p> <p>数据持久化，如下：</p> <p><img src="/feblog/assets/img/1675763772115.30bd31ae.png" alt="1675763772115"></p> <p>测试OK。</p> <h3 id="_12-绘制商品表格页面-copy"><a href="#_12-绘制商品表格页面-copy" class="header-anchor">#</a> 12，绘制商品表格页面（copy）</h3> <p>大致需求：</p> <p><img src="/feblog/assets/img/1675763967019.b8091cf8.png" alt="1675763967019"></p> <p>在商品列表页面和商品表格页面中都使用到了商品的分类，把商品的分类抽离成一个组件，如下：</p> <p><img src="/feblog/assets/img/1675819253878.f0733e8b.png" alt="1675819253878"></p> <p>参考的代码如下：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Select <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'antd'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> Option <span class="token punctuation">}</span> <span class="token operator">=</span> Select<span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Select</span></span>
            <span class="token attr-name">defaultValue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lucy<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
                <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token number">120</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
        <span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token punctuation">{</span>
                <span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Option</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">手机</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Option</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Select</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><p>在商品列表中，直接使用之，如下：</p> <p><img src="/feblog/assets/img/1675819314591.e6d2f8da.png" alt="1675819314591"></p> <p>效果如下：</p> <p><img src="/feblog/assets/img/1675819324174.71690a82.png" alt="1675819324174"></p> <p>然后，书写一些样式，如下：</p> <p><img src="/feblog/assets/img/1675819351061.7cec9571.png" alt="1675819351061"></p> <p>参考样式如下：</p> <div class="language-scss line-numbers-mode"><pre class="language-scss"><code><span class="token selector">.good-list </span><span class="token punctuation">{</span>
    <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>

    <span class="token selector">.filter </span><span class="token punctuation">{</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>
        <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
        <span class="token property">border-radius</span><span class="token punctuation">:</span> 2px<span class="token punctuation">;</span>

        <span class="token selector">.ant-col-3 span </span><span class="token punctuation">{</span>
            <span class="token property">display</span><span class="token punctuation">:</span> block<span class="token punctuation">;</span>
            <span class="token property">text-align</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
            <span class="token property">padding-right</span><span class="token punctuation">:</span> 5px<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token selector">.table </span><span class="token punctuation">{</span>
        <span class="token property">margin-top</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
        <span class="token property">background-color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
        <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> 0 15px<span class="token punctuation">;</span>

        <span class="token selector">.table-title </span><span class="token punctuation">{</span>
            <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>

            <span class="token selector">.anticon </span><span class="token punctuation">{</span>
                <span class="token property">margin-left</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>
                <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
                <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        <span class="token selector">.good </span><span class="token punctuation">{</span>
            <span class="token property">text-align</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>

            <span class="token selector">img </span><span class="token punctuation">{</span>
                <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
                <span class="token property">width</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span>
                <span class="token property">height</span><span class="token punctuation">:</span> 60px<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token selector">.good-form </span><span class="token punctuation">{</span>
    <span class="token comment">// background-color: white;</span>
    <span class="token selector">.form </span><span class="token punctuation">{</span>
        <span class="token property">background</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
        <span class="token property">padding</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span>
        <span class="token property">margin-top</span><span class="token punctuation">:</span> 20px<span class="token punctuation">;</span>
        <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
        <span class="token property">padding-top</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br></div></div><p>在组件中引入样式，如下 ：</p> <p><img src="/feblog/assets/img/1675819416368.cb9741e4.png" alt="1675819416368"></p> <p>效果如下：</p> <p><img src="/feblog/assets/img/1675819430323.f7aeebf4.png" alt="1675819430323"></p> <p>在layout文件夹下的index.jsx中添加了如下的样式：</p> <p><img src="/feblog/assets/img/1675819471615.a4c4d99f.png" alt="1675819471615"></p> <p>添加了最小的宽度，意味着当缩小浏览器时，页面布局就不会压缩了，如下：</p> <p><img src="/feblog/assets/img/1675819572106.313086a8.png" alt="1675819572106"></p> <p>在缩小浏览器时，到一定程度，需要让左侧菜单折叠起来，实现如下：</p> <p><img src="/feblog/assets/img/1675819975729.4a99cf70.png" alt="1675819975729"></p> <p>测试：</p> <p><img src="/feblog/assets/img/1675820014946.51160690.png" alt="1675820014946"></p> <p>优化一下，如下：</p> <p><img src="/feblog/assets/img/1675821166620.cf4b44f8.png" alt="1675821166620"></p> <p>然后绘制表格，和elementui中的表格不太一样，开始绘制，如下：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Button<span class="token punctuation">,</span> DatePicker<span class="token punctuation">,</span> Row<span class="token punctuation">,</span> Col<span class="token punctuation">,</span> Input<span class="token punctuation">,</span> Table <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;antd&quot;</span>
<span class="token keyword">import</span> CateSelect <span class="token keyword">from</span> <span class="token string">&quot;./components/CateSelect&quot;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> RangePicker <span class="token punctuation">}</span> <span class="token operator">=</span> DatePicker
<span class="token keyword">import</span> <span class="token punctuation">{</span> useIntl<span class="token punctuation">,</span> FormattedMessage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-intl&quot;</span>

<span class="token keyword">import</span> <span class="token string">&quot;./style.scss&quot;</span>

<span class="token keyword">const</span> columns <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Name'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> <span class="token string">'name'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>text<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Age'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> <span class="token string">'age'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'Address'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> <span class="token string">'address'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span>

<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'John Brown'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">32</span><span class="token punctuation">,</span>
        <span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token string">'New York No. 1 Lake Park'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'2'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Jim Green'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
        <span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token string">'London No. 1 Lake Park'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'3'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Joe Black'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">32</span><span class="token punctuation">,</span>
        <span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token string">'Sidney No. 1 Lake Park'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'4'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'Disabled User'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">age</span><span class="token operator">:</span> <span class="token number">99</span><span class="token punctuation">,</span>
        <span class="token literal-property property">address</span><span class="token operator">:</span> <span class="token string">'Sidney No. 1 Lake Park'</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> intl <span class="token operator">=</span> <span class="token function">useIntl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>good-list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>filter<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Row</span></span> <span class="token attr-name">justify</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>middle<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Col</span></span> <span class="token attr-name">span</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">商品名称：</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Col</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Col</span></span> <span class="token attr-name">span</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Col</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Col</span></span> <span class="token attr-name">span</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">商品分类：</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Col</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Col</span></span> <span class="token attr-name">span</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">CateSelect</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Col</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Row</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>table<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Table</span></span>
                    <span class="token attr-name">rowSelection</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
                        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;checkbox&quot;</span><span class="token punctuation">,</span>
                        <span class="token function-variable function">onChange</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">keys<span class="token punctuation">,</span> rows</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>keys<span class="token punctuation">,</span> rows<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
                    <span class="token attr-name">columns</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>columns<span class="token punctuation">}</span></span>
                    <span class="token attr-name">dataSource</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>data<span class="token punctuation">}</span></span>
                <span class="token punctuation">/&gt;</span></span><span class="token plain-text">;
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br></div></div><p>效果如下：</p> <p><img src="/feblog/assets/img/1675821588079.b41fbc2f.png" alt="1675821588079"></p> <p>参考ant design pro，地址：https://preview.pro.ant.design/dashboard/analysis</p> <p><img src="/feblog/assets/img/1675821737240.3327813a.png" alt="1675821737240"></p> <p>先导入对应的字体图标，如下：</p> <p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAYAAAABOCAYAAAApUsHPAAAQa0lEQVR4nO3dfWxU9Z7H8ffMmWnn4TBTKJ2ZgtxW7F58QGiy1/gHTbCC0lwk90bQtKsJGIFkt020bhSi0MSAiYgIuwy5xIdre+O9oAFz9xqydSMGI022rjGD8uCuA8gqMKWPTGfaToeZs39Me+i0PLRu2+n0fF//lJ455+Q3Lf19fuf3NKaucFRDiGmor6+PUOgytlwbZkUhPz8fRVHSztE0jatXr9LZ2YHL5SYvLw9FUejq6qKtrZXCwkKcTlU/PxKJcOVKC8lkEoCcnBy8Xh+5ubmT+t6EGA8W9wxHpssgRJpEIkFvby/xeBxVVbFarbc8P5lMomkaJpMJs9msH5/htKEl+gmHw8zKy2NW3owR10ajUeKxHuYX/wqXy6Uft5g1Yr0RzCSZ4bTp93WpdtwzHHR3d5Obm4vL5cJisYzTOxdicsn/XDFlxONx2tvbiUQiegvbbDbjdrtHfb7b7Wb27NkoioLZbEZVVcLhcFpIDNXX14fVasVms6Udv3btGgA9PT309/frr5tMJlRVRVVVhMh2EgBiSohEIrS2tpJMJsnLy9Nb/sMr7EH9/f2EQiEAPB4PFouF3t5eOjs7SSaTeDweFEXBZrPhcDiIxWIkEokRrXWz2Uw8HufatWvk5OQAEIvFiEajeL1e2tvbicViIwJCiOlAAkBkXF9fH62treTk5ODxeG7b5TPYbw/g8/n0ittut2MymWhra8PhcOB2u7FYLDidTlpbW+nr6xvRcrfb7SiKwuXLl3G5XCSTSSKRCLNmzcLlcuFyuW4aQkJkO/PtTxFiYkWjUTRNIz8//7aVP6S6ZwYr88HKf5DVakVRFKLRKIlEAgCn00lOTk5aV9Egm81GQUEBiqLQ2dlJX18fHo+HvLw8TCaTVP5iWpMnAJFRmqZx7do1vc9+NBKJBLFYTB8biMfjhMNhwuEw8Xgcp9OJ2+3W72e1WnE4HPT09BCPx0fM2FFVFafTiaZpoy6DENOBBIDIKJPJhMViIRaL0dPTc8t+/+HXdHd3093dTTQaxWq16l02w58iTCYTDoeDrq4uenp6bjhlU1r7wogkAETGqapKd3c3V65cobu7G7vdTm5uLoqioCgKVqs1rWWuKAoWi4VoNIrT6WTu3Lk4HI4RFfjQWT+Dg8HRaBSXyzViPYAQRmTSNE0WgomM6+3tpa2tjd7e3hu+brfbyc/Px+FIrVvp6Oigra0Nn8+XNn9/UH9/P93d3cyaNUsPgVgsNiJMhDAyCQAxpSQSCfr7+0kmk/T39+uLwnp7e7Farfh8Pux2uz4NVNM0PB4Pdrtdv0dPTw9tbW36AK907QhxYxIAIiuEw2GuXLmCqqp4PB7MZrO+diCRSGC327FYLPT19RGLxcjLy7vh1g9CiOtkDEBkBVVV9VW5iURCX+VrtVrp6OggGo1iMplwOp14vV5ZuCXEKEgAiKxiNpvTunRyc3MpLCzMYImEyF4yGiayQiQSIRKJ4HA4ZPM1IcaJ/CWJKWVwSMpkMukLvrq6uohEIrhcrptuDCeEGDsZBBZTSjweJxQKpU0HzcnJIS8vD7fbLTN6hBhH8gQgphSr1YrT6cRsNmOz2bDb7fomb0KI8SVPAEIIYVAyCCyEEAYlASCEEAYlYwAG89/tUP0fqa8i8xbkw75HU1+FmGwyBmAwyw9I5T/VLMiHz6oyXQphRNIFZDBS+U898jsRmSIBIIQQBiUBIIQQBiUBIIQQBiUBIIQQBiUBIIQQBiUBIIQQBiUBIIQQBiUrgYUQAPT39xMKhYhEIhQUFFBQUJDpIk07gUCAHTt2EAqFAPD5fGzatInS0tKMlEcCQGSpBFrkZ7ScOzDnjO6D37XeC2jKaM8f+/2z0aVLl9i/fz/BYJDLly+PeL20tJTFixezbt26DJTuuvr6ehoaGn7RtWvXrs14+QcdP36cUCjEihUrAPj0008JBAISAEKMjcKHtUXcfznCvX9TMd2sMzMZJdnVhgbsqiliZQ/c99fR3N/Eh88XcX9rkvv+bfxKPZV8+eWX1NXVAeDxeHj44YdZuHAhHo+HkydPcvLkSQKBAIFAgFOnTrFz586MljdTleR4iUQinDhxAq/Xy+bNm4FUIDQ1NbFmzRpUVZ30MkkAiAn1Uw3M84/X3VKt8mR/6rsnzszhUqmDg3df4Mn/TB0zuYowJ1tJRHpSB5bcwffLinAB4Z9Tlb/We4Fk77Bb230oSvj6dbjQmAmJqyQ6wunn2XPH6w1lzObNm2lubgbg6aef5tlnn017fcmSJQB88803vPfee3z99dc8+eSTfPTRR+zatYtly5ZNaoU8VVrwY1FfX09LSwtlZWVcvnyZhoYGIpGI/rOFVKg1NTVRVVXFunXr8Hq9NDU14fV6J+U9y2ZwBjN+lfHojG8AwMENsOQW9W/wDBxQNbbOG/gEsRhsewfeHnLOzqegcuawCzthWxS23nGbAnQkmPeX8e8S+qlm3G95Ux9//DF79+5lwYIF7N+/f1TXHDt2jFdffZWHHnqIY8eOsXv37inTIt+xYwdFRUVUVlZmuii648ePs3Xr1rRjd911FzU1NSN+boFAAL/fz9mzZ9OOb9u2jbKysgktpzwBiKxS+Q4c3KChfRGm8n/cmACuXeWNp9385kqChz9X2Pg7oC/BtneVtIp/0It/hhcHrtvw+xnUFZtp+u4qfzjWxR/0s1x89NJMFoU6uftPqSeAXf9URBW9JDraManZOTZw8eJF3n//fQBee+21UV9XXFyMz+fj2LFjE1W0X6ShoYHGxkYACgsLWbp0aYZLlOL3+/F6vWzfvp1AIEAoFKKm5nrKRyIRAFRVpbS0lHfffRe/34/P56O0tJQtW7awb98+CQAhhvu81cTWRx3sPA0vmaMkH3JQNRuavh9DhZxMXVdXbCZ4BioL3Fyqc488r3gml+qGPi6oXKpT9e6kbPPJJ58QiURYu3Yt+fmj+xCCI0eO8Oabb05wycbus88+o76+Xv/e7/czb9485s+fn8FSQWNjIy0tLVRXV1NSUkJJSYn+WjAYZMeOHQSDQQBKSkrYtGkTJSUlaQGxZs0a9u3bR2NjIxUVFRNWVgkAkT36U337f/iji/KXZvKbhy6QuOLl+1IrPwQu8MTnQM5swHGbG8VI3q1wptRK+GcoP5o6Ou/fW9PGAG74BGCemC6gyfLjjz8CjKmlvHLlSlauXEk0GuXs2bOcO3duooo3JsuXL2f58uXU1tYCsHv37gyXKKWkpASn00lDQwOqquoVeDAYpLa2Fq/Xy6ZNmwA4dOgQtbW1vPPOO/h8PiAVIA0NDTidzrTwmAgSACJrbHyyIL2PvrSISwP/dJUWcakUiMHBKxoQR+v4mcSIuzgwq26OPZqLqy3CnD8ObMZv9/GPVQUjxwCGPwF0jN/7yYQzZ84wZ84c7rzzzjFf63Q6WbRoEYsWLZqAkk0fJSUl7Nmzhy1btuD3+/UAqK+vx+l0smfPHn3GT1lZGevXr8fv97N9+3Yg9SSjqirbt2+XABDZ4VaDmDd7bayDw2//NX0wl/IkP90HB/xmXhpyeOPvAJuNuroi6m5wn6YW+DuA2anuHAA6NOb9Zej9kxxcbx6YBpqaY7rzKag0ZW/r/+LFi4TDYR588MFMF2XaKykp0Vv0g4LBIBUVFWnTPVVVpaysjKamprRrh36dSBIAIovESHaE0Ketxeekvnb8pLf0Ta6i1D+GDAK/8Q9QxfWuG633AkkGp3Ne4+B6C/dHTcOmh46cBvrCXniBPMyzBgafhRgDn8+nrwAeKhQK4fV6M1AiCQAxTm7Wmh/faaC5fFFXxPB2UVVdEYMfqRs8Awc0DUw3r6LfXF9EZaKfOw6CKQkeG7R0DxwfPj10xCAwHPQPzCLKMnPnzsXlcnHq1KlMF2XaCwaDtLS06LN9IDXnv6GhgYqKCn0qaCAQoKmpibVr16ZdO2PGDILBoHQBCTFU+b+mVvbiKsL8yEAX0J5u/jluG2jRJ3ijSoGodsMpoAAvntL4bZmJnf0JXvp7DS8a37WFeeFQFy/oZ40cBNblzEZRnRP2HifSPffcQ3NzM+fPn/9F4wDHjx9nzpw5GZ9pM5UNDvZqmpY2s2fdunUEAgFqa2v1ij0YDI7YaqOmpga/309tbS27d++e0BCQABBZJIF2n8KZZUVcOQPlyYHDK9xc8kSY22DBbEnwK6dCuO0WnTQBE989YGXl4538gBtXzMTno54Gyg0Xl2WL4uJimpub+eKLL8YcAO3t7bz11ls4HA4++OCDCSrh6J07d45NmzbR1tYGQHl5OS+//DKPPPJIRssVDAaJRCJUV1ePmMK5Z88eGhsbCQQCAKxevXrEORUVFUQiEfbt2zfhTwESACJ7XItzcIkNVwz+5ShQPnD8KDRtUDnzeB/3XlC436bx3Y+37qWvPAc/3TOTOuCH0/D25/D20aFnjBwEng5WrVrFkSNHaGhoYNWqVaNeCwBw8OBBOjs7qa6unsASjt78+fN57rnn9BW3GzduzHjlD6kKvL6+nsOHD1NaWsqJEycIhUL6z62iouKGc/v9fj+FhYUsXryYw4cP4/V6J3QNAEgAiGyywkaZLdUHP7z1XflfcKoshw8h1aIP3OZen17lQIGbqtkaLT//L4mOgX2E9L8IM5jg5rvMZae5c+fyzDPPsHfvXl555ZUxbQVx6NAhFixYwLJlyya4lKNXVlZGTU0N58+fp6qq6vYXTJKamhq2bt3Khg0b9GOBQIDq6uobbgUx2Nofatu2bRNeTgkAkT2OwryjQzaEi88BrKkZOQG4N97P6XIbwTO36Z5JXl89HOw0UfZoEZcehR8CF1j6t+unPbHj5rfI1q0gAB5//HG++uormpubKS8vv+FmcIMGN4M7ffo0xcXF+i6WU8nq1aszXYQRysrKWLt2LaFQiIqKCoLBIPX19dTW1rJkyRJ9zv+WLVtoamrC6XTqK4cbGxvx+XwTvg0EyGZwhjPZm8FNhKEbwg3dkmHnU1AJzPtz+vnDj2v39XG63AZDrt34+1FsBDfEeG8FMZmbwQ0avh30woULR2wHffLkSQAWLFjA5s2bKS4unvyCklpEdeLEiV907VT4PANI7f/z/PPPE41GOXDgAACPPfYYPp8vbXHYZJIAMJjpEAD/Xzufgt9Gp9ZePpkIALj+gTDffvstV69eHfH6Aw88wIoVKzLe7TNdPhDG7/dz+PBhvW+/sbExo+WTADAYCYCpKVMBMNT58+cJBoO0t7dTXFys7wAqxk8gEOD111+npaUFQP9wmExtrS0BYDASAFPTVAgAYTzTa4qDEEKIUZMAEEIIg5IAEEIIg5IAEEIIg5IAEEIIg5IAEEIIg5IAEEIIg5IAMJhfz0ze/iQxqeR3IjJFAsBgdi2NSYUzhfx6ZpJdS2OZLoYwKFkJbDA9PT3Ir3xqMZlMOByOTBdDGJA8ARiMxSI7gE818jsRmSJPAAaUSCRIJBKZLoYAFEVBUbLzcwVE9pMAEEIIg5IuICGEMCgJACGEMCgJACGEMCgJACGEMCgJACGEMCgJACGEMCgJACGEMCgJACGEMCgJACGEMCgJACGEMCgJACGEMCgJACGEMCgJACGEMKj/AwuzGGb0xtDfAAAAAElFTkSuQmCC" alt="1675821864070"></p> <p><img src="/feblog/assets/img/1675821924801.284b381f.png" alt="1675821924801"></p> <p>绘制如下：</p> <p><img src="/feblog/assets/img/1675822491772.42bed8ae.png" alt="1675822491772"></p> <p>效果如下：</p> <p><img src="/feblog/assets/img/1675822505379.3c80e519.png" alt="1675822505379"></p> <p>还有分页，如下：</p> <p><img src="/feblog/assets/img/1675822626824.e9d84199.png" alt="1675822626824"></p> <p>把表格中的都有哪列设置一下，大家直接copy这个页面，如下：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Button<span class="token punctuation">,</span> DatePicker<span class="token punctuation">,</span> Row<span class="token punctuation">,</span> Col<span class="token punctuation">,</span> Input<span class="token punctuation">,</span> Table <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;antd&quot;</span>
<span class="token keyword">import</span> CateSelect <span class="token keyword">from</span> <span class="token string">&quot;./components/CateSelect&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> PlusOutlined<span class="token punctuation">,</span> ReloadOutlined<span class="token punctuation">,</span> ColumnHeightOutlined<span class="token punctuation">,</span> SettingOutlined <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@ant-design/icons&quot;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> RangePicker <span class="token punctuation">}</span> <span class="token operator">=</span> DatePicker
<span class="token keyword">import</span> <span class="token punctuation">{</span> useIntl<span class="token punctuation">,</span> FormattedMessage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-intl&quot;</span>

<span class="token keyword">import</span> <span class="token string">&quot;./style.scss&quot;</span>

<span class="token keyword">const</span> columns <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'商品'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">align</span><span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> <span class="token string">'name'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>good<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">https://gw.alipayobjects.com/zos/rmsportal/KDpgvguMpGfqaHPjicRK.svg</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>text<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'价格'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> <span class="token string">'price'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">align</span><span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">text</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">￥</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">Number</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'品类'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> <span class="token string">'cate'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">align</span><span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">cate</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">手机</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'是否热销'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> <span class="token string">'hot'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">align</span><span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">text</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>text <span class="token operator">?</span> <span class="token string">'是'</span> <span class="token operator">:</span> <span class="token string">'否'</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'状态'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> <span class="token string">'store_status'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">align</span><span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">text</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>text <span class="token operator">?</span> <span class="token string">'已上架'</span> <span class="token operator">:</span> <span class="token string">'待上架'</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'发布时间'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> <span class="token string">'create_time'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">align</span><span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">text</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">(</span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>text<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'操作'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">align</span><span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
        <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> row</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span>
                    <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>primary<span class="token punctuation">'</span></span>
                    <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>small<span class="token punctuation">'</span></span>
                <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    编辑
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">danger</span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>small<span class="token punctuation">'</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">marginLeft</span><span class="token operator">:</span> <span class="token string">'10px'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">删除</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">]</span>

<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
        <span class="token literal-property property">key</span><span class="token operator">:</span> <span class="token string">'1'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'小米手机'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">price</span><span class="token operator">:</span> <span class="token number">32</span><span class="token punctuation">,</span>
        <span class="token literal-property property">cate</span><span class="token operator">:</span> <span class="token string">'手机'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">hot</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">store_status</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
        <span class="token literal-property property">create_time</span><span class="token operator">:</span> <span class="token string">&quot;20220202&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> intl <span class="token operator">=</span> <span class="token function">useIntl</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>good-list<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>filter<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Row</span></span> <span class="token attr-name">justify</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>center<span class="token punctuation">&quot;</span></span> <span class="token attr-name">align</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>middle<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Col</span></span> <span class="token attr-name">span</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">商品名称：</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Col</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Col</span></span> <span class="token attr-name">span</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Col</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Col</span></span> <span class="token attr-name">span</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">3</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">商品分类：</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Col</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Col</span></span> <span class="token attr-name">span</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">CateSelect</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Col</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Row</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>table<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Table</span></span>
                    <span class="token attr-name">rowSelection</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
                        <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;checkbox&quot;</span><span class="token punctuation">,</span>
                        <span class="token function-variable function">onChange</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">keys<span class="token punctuation">,</span> rows</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>keys<span class="token punctuation">,</span> rows<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
                    <span class="token attr-name">columns</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>columns<span class="token punctuation">}</span></span>
                    <span class="token attr-name">dataSource</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>data<span class="token punctuation">}</span></span>
                    <span class="token attr-name">title</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Row</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Col</span></span> <span class="token attr-name">span</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">4</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">商品列表</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Col</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Col</span></span> <span class="token attr-name">span</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">6</span><span class="token punctuation">}</span></span> <span class="token attr-name">offset</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">14</span><span class="token punctuation">}</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">textAlign</span><span class="token operator">:</span> <span class="token string">&quot;right&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">icon</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">PlusOutlined</span></span> <span class="token punctuation">/&gt;</span></span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">新增</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>table-title<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ReloadOutlined</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ColumnHeightOutlined</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">SettingOutlined</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Col</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Row</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token punctuation">)</span><span class="token punctuation">}</span></span>
                    <span class="token attr-name">pagination</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
                        <span class="token literal-property property">total</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>
                        <span class="token literal-property property">showSizeChanger</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                        <span class="token function-variable function">showTitle</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">total</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Total </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>total<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> items</span><span class="token template-punctuation string">`</span></span>
                    <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
                <span class="token punctuation">/&gt;</span></span><span class="token plain-text">;
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br><span class="line-number">113</span><br><span class="line-number">114</span><br><span class="line-number">115</span><br><span class="line-number">116</span><br><span class="line-number">117</span><br><span class="line-number">118</span><br><span class="line-number">119</span><br><span class="line-number">120</span><br><span class="line-number">121</span><br><span class="line-number">122</span><br><span class="line-number">123</span><br><span class="line-number">124</span><br><span class="line-number">125</span><br><span class="line-number">126</span><br><span class="line-number">127</span><br><span class="line-number">128</span><br><span class="line-number">129</span><br><span class="line-number">130</span><br><span class="line-number">131</span><br><span class="line-number">132</span><br><span class="line-number">133</span><br><span class="line-number">134</span><br><span class="line-number">135</span><br><span class="line-number">136</span><br><span class="line-number">137</span><br><span class="line-number">138</span><br><span class="line-number">139</span><br><span class="line-number">140</span><br><span class="line-number">141</span><br><span class="line-number">142</span><br><span class="line-number">143</span><br><span class="line-number">144</span><br><span class="line-number">145</span><br><span class="line-number">146</span><br><span class="line-number">147</span><br><span class="line-number">148</span><br><span class="line-number">149</span><br><span class="line-number">150</span><br><span class="line-number">151</span><br></div></div><p>效果如下：</p> <p><img src="/feblog/assets/img/1675823137198.0c64c33f.png" alt="1675823137198"></p> <p>当点击商品新增时，要去商品新增页面，如下：</p> <p><img src="/feblog/assets/img/1675823228115.c54d7ad6.png" alt="1675823228115"></p> <p><img src="/feblog/assets/img/1675823288466.473bcfdc.png" alt="1675823288466"></p> <p>在侧边菜单中，需要把商品新增和商品编辑隐藏掉，如下：</p> <p><img src="/feblog/assets/img/1675823337202.16786811.png" alt="1675823337202"></p> <p>浏览器测试之，如下：</p> <p><img src="/feblog/assets/img/1675823356899.8b42df45.png" alt="1675823356899"></p> <h3 id="_13-绘制商品表单页面-copy"><a href="#_13-绘制商品表单页面-copy" class="header-anchor">#</a> 13，绘制商品表单页面（copy）</h3> <p>大致需求：</p> <p><img src="/feblog/assets/img/1675764000542.f67260e5.png" alt="1675764000542"></p> <p>可以添加一个页面头，如下：</p> <p><img src="/feblog/assets/img/1675824390465.a3ec96bb.png" alt="1675824390465"></p> <p>使用之，如下：</p> <p><img src="/feblog/assets/img/1675824603306.cb69cdfe.png" alt="1675824603306"></p> <p>效果如下 ：</p> <p><img src="/feblog/assets/img/1675824613723.6cbcfce4.png" alt="1675824613723"></p> <p>开始绘制表单，如下 ：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
    PageHeader<span class="token punctuation">,</span>
    Checkbox<span class="token punctuation">,</span>
    Form<span class="token punctuation">,</span>
    Input<span class="token punctuation">,</span>
    Button<span class="token punctuation">,</span>
    Row<span class="token punctuation">,</span>
    Col<span class="token punctuation">,</span>
    InputNumber<span class="token punctuation">,</span>
    Select<span class="token punctuation">,</span>
    Switch
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'antd'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useNavigate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span>
<span class="token keyword">import</span> CateSelect <span class="token keyword">from</span> <span class="token string">'./components/CateSelect'</span>

<span class="token keyword">import</span> <span class="token string">&quot;./style.scss&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> navigate <span class="token operator">=</span> <span class="token function">useNavigate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>form<span class="token punctuation">]</span> <span class="token operator">=</span> Form<span class="token punctuation">.</span><span class="token function">useForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token function-variable function">onFinish</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">values</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>good-form<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">PageHeader</span></span>
                <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>site-page-header<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">onBack</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">navigate</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
                <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>商品新增<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token string">&quot;#fff&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
            <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span>
                    <span class="token attr-name">form</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">}</span></span>
                    <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goodAddEdit<span class="token punctuation">&quot;</span></span>
                    <span class="token attr-name">labelCol</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">span</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
                    <span class="token attr-name">wrapperCol</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">span</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
                    <span class="token attr-name">labelAlign</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left<span class="token punctuation">&quot;</span></span>
                    <span class="token attr-name">onFinish</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onFinish<span class="token punctuation">}</span></span>
                <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span>
                        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>商品名称<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">rules</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
                            <span class="token punctuation">{</span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;商品名称是必填项&quot;</span> <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span><span class="token punctuation">}</span></span>
                    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span>
                        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>desc<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>商品描述<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">rules</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
                            <span class="token punctuation">{</span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;商品描述是必填项&quot;</span> <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span><span class="token punctuation">}</span></span>
                    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input.TextArea</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span>
                        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cate<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>商品品类<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">rules</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
                            <span class="token punctuation">{</span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;商品品类是必填项&quot;</span> <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span><span class="token punctuation">}</span></span>
                    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">CateSelect</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span>
                        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>price<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>商品价格<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">rules</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
                            <span class="token punctuation">{</span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;商品价格是必填项&quot;</span> <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span><span class="token punctuation">}</span></span>
                    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">InputNumber</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span>
                        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hot<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>是否热销<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">rules</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
                            <span class="token comment">// { required: true, message: &quot;商品价格是必填项&quot; }</span>
                        <span class="token punctuation">]</span><span class="token punctuation">}</span></span>
                    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Switch</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>primary<span class="token punctuation">'</span></span> <span class="token attr-name">htmlType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>submit<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">提交</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br></div></div><p>效果如下：</p> <p><img src="/feblog/assets/img/1675825650633.22025602.png" alt="1675825650633"></p> <p>对商品图片上传处理，找到一个带有裁剪功能的组件，如下：</p> <p><img src="/feblog/assets/img/1675825699136.5a17a9c7.png" alt="1675825699136"></p> <p>安装antd-img-crop，如下：</p> <p><img src="/feblog/assets/img/1675825732247.df9f0a5a.png" alt="1675825732247"></p> <p>封装一个组件，如下：</p> <p><img src="/feblog/assets/img/1675825921363.e7f97dd2.png" alt="1675825921363"></p> <p>在表单中使用之，如下：</p> <p><img src="/feblog/assets/img/1675826057265.478feb8d.png" alt="1675826057265"></p> <p><img src="/feblog/assets/img/1675826069870.f336915e.png" alt="1675826069870"></p> <p>效果如下：</p> <p><img src="/feblog/assets/img/1675826118062.75f42ce8.png" alt="1675826118062"></p> <p>处理一个这个组件，如下：</p> <p><img src="/feblog/assets/img/1675826398556.3a78712d.png" alt="1675826398556"></p> <p>效果如下：</p> <p><img src="/feblog/assets/img/1675826409789.d4e50de2.png" alt="1675826409789"></p> <p>现在有个警告，如下：</p> <p><img src="/feblog/assets/img/1675826526260.d2d24535.png" alt="1675826526260"></p> <p>解决如下：</p> <p><img src="/feblog/assets/img/1675826630799.6b7743b1.png" alt="1675826630799"></p> <p>测试就没有警告了，如下：</p> <p><img src="/feblog/assets/img/1675826649461.51c5ad33.png" alt="1675826649461"></p> <p>现在看一下，能不能收集到数据，如下：</p> <p><img src="/feblog/assets/img/1675826759483.fc953191.png" alt="1675826759483"></p> <p>收集分类数据，如下：</p> <p><img src="/feblog/assets/img/1675826843516.c36c7673.png" alt="1675826843516"></p> <p>测试如下：</p> <p><img src="/feblog/assets/img/1675826861464.2f9cd8c3.png" alt="1675826861464"></p> <p>对表单进行校验，如下：</p> <p><img src="/feblog/assets/img/1675827041548.20cb443d.png" alt="1675827041548"></p> <p><img src="/feblog/assets/img/1675827059035.f06c0f26.png" alt="1675827059035"></p> <p>效果如下：</p> <p><img src="/feblog/assets/img/1675827093616.70570be2.png" alt="1675827093616"></p> <p>到此，商品表单页面就绘制完毕了。</p> <p>商品表单页面的代码参考如下：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span>
    PageHeader<span class="token punctuation">,</span>
    Checkbox<span class="token punctuation">,</span>
    Form<span class="token punctuation">,</span>
    Input<span class="token punctuation">,</span>
    Button<span class="token punctuation">,</span>
    Row<span class="token punctuation">,</span>
    Col<span class="token punctuation">,</span>
    InputNumber<span class="token punctuation">,</span>
    Select<span class="token punctuation">,</span>
    Switch
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'antd'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useNavigate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span>
<span class="token keyword">import</span> CateSelect <span class="token keyword">from</span> <span class="token string">'./components/CateSelect'</span>
<span class="token keyword">import</span> GoodUpload <span class="token keyword">from</span> <span class="token string">'./components/GoodUpload'</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token string">&quot;./style.scss&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> navigate <span class="token operator">=</span> <span class="token function">useNavigate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>form<span class="token punctuation">]</span> <span class="token operator">=</span> Form<span class="token punctuation">.</span><span class="token function">useForm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token function-variable function">onFinish</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">values</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>values<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>good-form<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">PageHeader</span></span>
                <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>site-page-header<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">onBack</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">navigate</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">}</span></span>
                <span class="token attr-name">title</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>商品新增<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token string">&quot;#fff&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
            <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span>
                    <span class="token attr-name">form</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>form<span class="token punctuation">}</span></span>
                    <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>goodAddEdit<span class="token punctuation">&quot;</span></span>
                    <span class="token attr-name">labelCol</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">span</span><span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
                    <span class="token attr-name">wrapperCol</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">span</span><span class="token operator">:</span> <span class="token number">10</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
                    <span class="token attr-name">labelAlign</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left<span class="token punctuation">&quot;</span></span>
                    <span class="token attr-name">validateTrigger</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>onBlur<span class="token punctuation">&quot;</span></span>
                    <span class="token attr-name">onFinish</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onFinish<span class="token punctuation">}</span></span>
                <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span>
                        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>商品名称<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">rules</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
                            <span class="token punctuation">{</span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;商品名称是必填项&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token punctuation">{</span> <span class="token literal-property property">pattern</span><span class="token operator">:</span> <span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">[\u4E00-\u9FA5]{4,6}</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;商品名称要求是4~6个汉字&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                        <span class="token punctuation">]</span><span class="token punctuation">}</span></span>
                    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span>
                        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>desc<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>商品描述<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">rules</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
                            <span class="token punctuation">{</span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;商品描述是必填项&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token punctuation">{</span> <span class="token literal-property property">min</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token literal-property property">max</span><span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;商品描述要求10~20个字符&quot;</span> <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span><span class="token punctuation">}</span></span>
                    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input.TextArea</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span>
                        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cate<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>商品品类<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">rules</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
                            <span class="token punctuation">{</span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;商品品类是必填项&quot;</span> <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span><span class="token punctuation">}</span></span>
                    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">CateSelect</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span>
                        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>price<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>商品价格<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">rules</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
                            <span class="token punctuation">{</span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">&quot;商品价格是必填项&quot;</span> <span class="token punctuation">}</span>
                        <span class="token punctuation">]</span><span class="token punctuation">}</span></span>
                    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">InputNumber</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token punctuation">{</span><span class="token comment">/* 
                        Form.Item可以帮我们自动收集数据，只要被Form.Item包裹的表单，相当于给它了一个value+onChange 
                    */</span><span class="token punctuation">}</span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span>
                        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hot<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>是否热销<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">valuePropName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>checked<span class="token punctuation">'</span></span>
                        <span class="token attr-name">rules</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
                            <span class="token comment">// { required: true, message: &quot;商品价格是必填项&quot; }</span>
                        <span class="token punctuation">]</span><span class="token punctuation">}</span></span>
                    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Switch</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span>
                        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>img<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>商品图片<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">rules</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
                            <span class="token comment">// { required: true, message: &quot;商品价格是必填项&quot; }</span>
                        <span class="token punctuation">]</span><span class="token punctuation">}</span></span>
                    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">GoodUpload</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>primary<span class="token punctuation">'</span></span> <span class="token attr-name">htmlType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>submit<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">提交</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br></div></div><p>商品分类组件的代码参考如下：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Select <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'antd'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token punctuation">{</span> Option <span class="token punctuation">}</span> <span class="token operator">=</span> Select<span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> value<span class="token punctuation">,</span> onChange <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Select</span></span>
            <span class="token attr-name">defaultValue</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lucy<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>value<span class="token punctuation">}</span></span>
            <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onChange<span class="token punctuation">}</span></span>
            <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
                <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">'100%'</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
        <span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token punctuation">{</span>
                <span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;c&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token parameter">item</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Option</span></span> <span class="token attr-name">key</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span></span> <span class="token attr-name">value</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">手机</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Option</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token punctuation">)</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Select</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><p>封装的图片上传组件参考代码如下：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Upload<span class="token punctuation">,</span> Image <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'antd'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ImgCrop <span class="token keyword">from</span> <span class="token string">'antd-img-crop'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> <span class="token punctuation">[</span>fileList<span class="token punctuation">,</span> setFileList<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            <span class="token literal-property property">uid</span><span class="token operator">:</span> <span class="token string">'-1'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">'image.png'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">status</span><span class="token operator">:</span> <span class="token string">'done'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'https://zos.alipayobjects.com/rmsportal/jkjgkEfvpUPVyRjUImniVslZfWPnJuuZ.png'</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> <span class="token function-variable function">onChange</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> <span class="token literal-property property">fileList</span><span class="token operator">:</span> newFileList <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">setFileList</span><span class="token punctuation">(</span>newFileList<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> <span class="token function-variable function">onPreview</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ImgCrop</span></span> <span class="token attr-name">rotate</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Upload</span></span>
                <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>https://www.mocky.io/v2/5cc8019d300000980a055e76<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">listType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>picture-card<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">fileList</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>fileList<span class="token punctuation">}</span></span>
                <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onChange<span class="token punctuation">}</span></span>
                <span class="token attr-name">onPreview</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>onPreview<span class="token punctuation">}</span></span>
                <span class="token attr-name">itemRender</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> file</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token punctuation">(</span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Image</span></span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>file<span class="token punctuation">.</span>url<span class="token punctuation">}</span></span> <span class="token punctuation">/&gt;</span></span>
                    <span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
            <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token punctuation">{</span>fileList<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token string">'+ Upload'</span><span class="token punctuation">}</span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Upload</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">ImgCrop</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br></div></div><h3 id="_14-绘制登录页面和联调准备"><a href="#_14-绘制登录页面和联调准备" class="header-anchor">#</a> 14，绘制登录页面和联调准备</h3> <p>绘制结构如下：</p> <p><img src="/feblog/assets/img/1675827542615.43d25338.png" alt="1675827542615"></p> <p>参考结构如下：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Button<span class="token punctuation">,</span> Checkbox<span class="token punctuation">,</span> Form<span class="token punctuation">,</span> Input <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'antd'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useDispatch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span>
<span class="token keyword">import</span> <span class="token string">'./style.scss'</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token keyword">const</span> dispatch <span class="token operator">=</span> <span class="token function">useDispatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token comment">// 登录提交</span>
    <span class="token keyword">const</span> <span class="token function-variable function">submit</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">values</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>login<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>layer<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>wrap<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">textAlign</span><span class="token operator">:</span> <span class="token string">&quot;center&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">欢迎使用XXX管理系统</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form</span></span>
                        <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>basic<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">labelCol</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">span</span><span class="token operator">:</span> <span class="token number">5</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
                        <span class="token attr-name">wrapperCol</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">span</span><span class="token operator">:</span> <span class="token number">16</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
                        <span class="token attr-name">initialValues</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
                            <span class="token literal-property property">remember</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                        <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
                        <span class="token attr-name">onFinish</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>submit<span class="token punctuation">}</span></span>
                        <span class="token attr-name">autoComplete</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>off<span class="token punctuation">&quot;</span></span>
                        <span class="token attr-name">validateTrigger</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token string">'onBlur'</span><span class="token punctuation">]</span><span class="token punctuation">}</span></span>
                    <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span>
                            <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>用户名<span class="token punctuation">&quot;</span></span>
                            <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span>
                            <span class="token attr-name">rules</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
                                <span class="token punctuation">{</span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'用户名是必填字段'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token punctuation">]</span><span class="token punctuation">}</span></span>
                        <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span>
                            <span class="token attr-name">label</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>密 码<span class="token punctuation">&quot;</span></span>
                            <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span>
                            <span class="token attr-name">rules</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span>
                                <span class="token punctuation">{</span> <span class="token literal-property property">required</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token literal-property property">message</span><span class="token operator">:</span> <span class="token string">'密码是必填字段'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                            <span class="token punctuation">]</span><span class="token punctuation">}</span></span>
                        <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Input.Password</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span>
                            <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>remember<span class="token punctuation">&quot;</span></span>
                            <span class="token attr-name">valuePropName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>checked<span class="token punctuation">&quot;</span></span>
                            <span class="token attr-name">wrapperCol</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
                                <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
                                <span class="token literal-property property">span</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
                            <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
                        <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Checkbox</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">记住用户名</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Checkbox</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">

                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Form.Item</span></span>
                            <span class="token attr-name">wrapperCol</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>
                                <span class="token literal-property property">offset</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
                                <span class="token literal-property property">span</span><span class="token operator">:</span> <span class="token number">16</span><span class="token punctuation">,</span>
                            <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
                        <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>primary<span class="token punctuation">&quot;</span></span> <span class="token attr-name">htmlType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                                登录
                            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form.Item</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Form</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br></div></div><p>参考样式，如下：</p> <div class="language-scss line-numbers-mode"><pre class="language-scss"><code><span class="token selector">.login </span><span class="token punctuation">{</span>
    <span class="token selector">.layer </span><span class="token punctuation">{</span>
        <span class="token property">position</span><span class="token punctuation">:</span> fixed<span class="token punctuation">;</span>
        <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">rgba</span><span class="token punctuation">(</span>0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> 0<span class="token punctuation">,</span> .9<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token selector">.wrap </span><span class="token punctuation">{</span>
            <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
            <span class="token property">top</span><span class="token punctuation">:</span> 150px<span class="token punctuation">;</span>
            <span class="token property">left</span><span class="token punctuation">:</span> 50%<span class="token punctuation">;</span>
            <span class="token property">width</span><span class="token punctuation">:</span> 520px<span class="token punctuation">;</span>
            <span class="token property">margin-left</span><span class="token punctuation">:</span> -260px<span class="token punctuation">;</span>
            <span class="token property">background-color</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span>
            <span class="token property">box-sizing</span><span class="token punctuation">:</span> border-box<span class="token punctuation">;</span>
            <span class="token property">border-radius</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span>
            <span class="token property">padding</span><span class="token punctuation">:</span> 25px<span class="token punctuation">;</span>
            <span class="token property">padding-bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>效果如下：</p> <p><img src="/feblog/assets/img/1675827597954.0912c094.png" alt="1675827597954"></p> <p>安装axios，如下：</p> <p><img src="/feblog/assets/img/1675828573631.c0978ed7.png" alt="1675828573631"></p> <p>axios二次封装，如下：</p> <p><img src="/feblog/assets/img/1675827922662.4bbc3a25.png" alt="1675827922662"></p> <p>参考代码如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">'axios'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
    message<span class="token punctuation">,</span>
    Modal
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'antd'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
    ExclamationCircleOutlined
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@ant-design/icons'</span>
<span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'@/store'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>
    resetUser
<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@/store/actions'</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span>
    confirm
<span class="token punctuation">}</span> <span class="token operator">=</span> Modal

<span class="token comment">// 为了解决调接口遭遇同源策略的阻塞，这里“前端项目调用当前端口上的接口”</span>
<span class="token keyword">const</span> baseURL <span class="token operator">=</span> <span class="token string">'http://localhost:8080'</span>
<span class="token keyword">const</span> version <span class="token operator">=</span> <span class="token string">'/api/react'</span>

<span class="token comment">// 创建axios实例</span>
<span class="token keyword">const</span> service <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token literal-property property">baseURL</span><span class="token operator">:</span> baseURL <span class="token operator">+</span> version<span class="token punctuation">,</span>
    <span class="token literal-property property">timeout</span><span class="token operator">:</span> <span class="token number">5000</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">// 添加请求拦截器</span>
service<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
    <span class="token parameter">config</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 添加Token</span>
        config<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>Authorization <span class="token operator">=</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> config
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token comment">// for debug</span>
        <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token comment">// 添加响应拦截器</span>
service<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>
    <span class="token parameter">response</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 如果代码走到这里，HTTP状态码=200</span>
        <span class="token keyword">const</span> res <span class="token operator">=</span> response<span class="token punctuation">.</span>data
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'----响应拦截器'</span><span class="token punctuation">,</span> res<span class="token punctuation">)</span>
        <span class="token comment">// 对业务状态码进行判断</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>err <span class="token operator">!==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// 如果业务状态码不等于0，表示业务失败，就把后端的反馈信息弹出来。</span>
            message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>msg <span class="token operator">||</span> <span class="token string">'入参有误'</span><span class="token punctuation">)</span>

            <span class="token comment">// 当Token过期或者Token是伪造的，要求重新登录。</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>res<span class="token punctuation">.</span>err <span class="token operator">===</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">// 登录重新登录</span>
                <span class="token function">confirm</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                    <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'当前你的登录已失效'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">icon</span><span class="token operator">:</span> <span class="token operator">&lt;</span> ExclamationCircleOutlined <span class="token operator">/</span> <span class="token operator">&gt;</span> <span class="token punctuation">,</span>
                    <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">'请重新登录'</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">okText</span><span class="token operator">:</span> <span class="token string">'重新登录'</span><span class="token punctuation">,</span>
                    <span class="token comment">// 隐藏取消按钮，要求必须重新登录</span>
                    <span class="token literal-property property">cancelButtonProps</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token literal-property property">style</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                            <span class="token literal-property property">display</span><span class="token operator">:</span> <span class="token string">'none'</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token function">onOk</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">resetUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>res<span class="token punctuation">.</span>message <span class="token operator">||</span> <span class="token string">'Error'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> res<span class="token punctuation">.</span>data
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token parameter">error</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'err'</span> <span class="token operator">+</span> error<span class="token punctuation">)</span>
        <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> service
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br></div></div><p>配置代理解决跨域，如下：</p> <p><img src="/feblog/assets/img/1675828017938.82e81b0a.png" alt="1675828017938"></p> <p>参考代码如下：</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code> devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
     port<span class="token operator">:</span> <span class="token number">8080</span><span class="token punctuation">,</span>
     open<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>  <span class="token comment">// 打包成功后，自动打开浏览器</span>
     client<span class="token operator">:</span> <span class="token punctuation">{</span>
         overlay<span class="token operator">:</span> <span class="token punctuation">{</span>
             errors<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
             warnings<span class="token operator">:</span> <span class="token boolean">false</span>
         <span class="token punctuation">}</span>
     <span class="token punctuation">}</span><span class="token punctuation">,</span>
     proxy<span class="token operator">:</span> <span class="token punctuation">{</span>
         '/api'<span class="token operator">:</span> <span class="token punctuation">{</span>
             target<span class="token operator">:</span> 'http<span class="token operator">:</span><span class="token comment">//47.94.210.129:9999',</span>
             changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span>
         <span class="token punctuation">}</span>
     <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><p>封装API接口，如下：</p> <p><img src="/feblog/assets/img/1675828134598.df7947eb.png" alt="1675828134598"></p> <p>参考代码如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> request <span class="token keyword">from</span> <span class="token string">'@/utils/request'</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">fetchCates</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/good/cates'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">fetchGoodList</span><span class="token punctuation">(</span><span class="token parameter">params</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/good/list'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>
        params
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">fetchGoodSubmit</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/good/update'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
        data
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">fetchGoodInfo</span><span class="token punctuation">(</span><span class="token parameter">id</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/good/info'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            id
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br></div></div><p><img src="/feblog/assets/img/1675828177583.8b04b4ff.png" alt="1675828177583"></p> <p>参考代码如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> request <span class="token keyword">from</span> <span class="token string">'@/utils/request'</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">fetchLogin</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/user/login'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'POST'</span><span class="token punctuation">,</span>
        data
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">fetchUserInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">'/user/info'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">'GET'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">params</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><h3 id="_15-联调登录接口-权限-难"><a href="#_15-联调登录接口-权限-难" class="header-anchor">#</a> 15，联调登录接口（权限/难）</h3> <h4 id="_1-登录获取token-存储token"><a href="#_1-登录获取token-存储token" class="header-anchor">#</a> 1）登录获取token，存储token</h4> <p>数据库有如下的数据：</p> <p><img src="/feblog/assets/img/1675836338573.5f7c77e5.png" alt="1675836338573"></p> <p>在组件中调用接口实现登录，如下：</p> <p><img src="/feblog/assets/img/1675836520885.fa7434c4.png" alt="1675836520885"></p> <p>服务器响应如下：</p> <p><img src="/feblog/assets/img/1675836559390.56053efc.png" alt="1675836559390"></p> <p>思考一下，前端权限校验的流程：</p> <ol><li>点击登录，调用接口，获取token。token需要存储到redux中，还需要存储到localstorage中。</li> <li>带个token，再去调用一个接口，获取用户信息，用户信息中包含角色（role）信息。也需要存储到redux中。</li> <li>使用后端返回 的role和路由表，执行算法，得到当前登录用户有权访问的路由们（accessRoutes）。也是需要存储到redux中。</li> <li>根据accessRoutes动态生成路由规则和Layout菜单。</li> <li>跳到后面首页面/，接着重定向到/dashboard。</li></ol> <p>刚才我们是在组件中发一个登录请求，实际上这个登录请求，需要在redux中发送，类似于vuex中action中发请求。在redux中，默认情况下，是不支持写异步代码的。在redux中要写异步代码，需要借助redux-thunk中间件。安装之，如下：</p> <p><img src="/feblog/assets/img/1675836990817.bd8513ca.png" alt="1675836990817"></p> <p>使用中间件，如下：</p> <p><img src="/feblog/assets/img/1675837100678.33776605.png" alt="1675837100678"></p> <p>现在准备action，action是有分类的，先看一下，我们之前写的action，如下：</p> <p><img src="/feblog/assets/img/1675837257662.b881eca9.png" alt="1675837257662"></p> <p>现在写一个异步的aciton，如下：</p> <p><img src="/feblog/assets/img/1675837469856.a2e8d3bf.png" alt="1675837469856"></p> <p>在登录组件中派发异步action，如下：</p> <p><img src="/feblog/assets/img/1675837707106.cc93aee1.png" alt="1675837707106"></p> <p>在浏览器中测试之，如下：</p> <p><img src="/feblog/assets/img/1675837758732.408927c0.png" alt="1675837758732"></p> <p>总结：</p> <ul><li>redux中action creator分两类：同步action creator 和 异步action creator</li> <li>同步action是一个对象：{type, payload}</li> <li>异步action是一个函数，函数中可以写异步代码</li> <li>dispatch默认情况下只能派发一个同步的action</li> <li>dispatch要派发一个异步的action，需要使用redux-thunk中间件</li></ul> <p>此时，登录就OK了，如下：</p> <p><img src="/feblog/assets/img/1675838006361.a329d280.png" alt="1675838006361"></p> <p>登录成功后，把token存储到本地，和redux中，如下：</p> <p><img src="/feblog/assets/img/1675838175513.71074b46.png" alt="1675838175513"></p> <p>reduer需要处理同步action，如下：</p> <p><img src="/feblog/assets/img/1675838304991.f4887f30.png" alt="1675838304991"></p> <p>浏览器测试之，如下：</p> <p><img src="/feblog/assets/img/1675838337080.6ed496d5.png" alt="1675838337080"></p> <p><img src="/feblog/assets/img/1675838370841.c62a51e8.png" alt="1675838370841"></p> <p>到此，登录成功后，把token存储到本地和redux中了。最好判断一个登录成功了，如下：</p> <p><img src="/feblog/assets/img/1675839579128.fbff8128.png" alt="1675839579128"></p> <p>在redux中，也可以对token进行持久化，如下：</p> <p><img src="/feblog/assets/img/1675839657092.3f85daf6.png" alt="1675839657092"></p> <p>后面再去发请求时，需要带上token，如下：</p> <p><img src="/feblog/assets/img/1675839724860.72c6f085.png" alt="1675839724860"></p> <p>也就意味着，后面再去发请求，就会带上token。</p> <h4 id="_2-模拟路由守卫"><a href="#_2-模拟路由守卫" class="header-anchor">#</a> 2）模拟路由守卫</h4> <p>所谓的权限校验，如果你有权限，可以访问某个路由，如果没有权限，是不能访问这些路由。</p> <p>现在我们的路由是所有人都可以访问的，如下：</p> <p><img src="/feblog/assets/img/1675839932004.a9700136.png" alt="1675839932004"></p> <p>删除上面的函数调用，如下：</p> <p><img src="/feblog/assets/img/1675840078783.06263fe8.png" alt="1675840078783"></p> <p>测试如下：</p> <p><img src="/feblog/assets/img/1675840097584.2dea498a.png" alt="1675840097584"></p> <p><img src="/feblog/assets/img/1675840141552.39b42a2f.png" alt="1675840141552"></p> <p>除了上面的配置路由之外，还有一种方式，如下：</p> <p><img src="/feblog/assets/img/1675840433553.e9fb958f.png" alt="1675840433553"></p> <p><img src="/feblog/assets/img/1675840420232.79c4e87b.png" alt="1675840420232"></p> <p>测试是OK的，如下：</p> <p><img src="/feblog/assets/img/1675840447664.bc5f6299.png" alt="1675840447664"></p> <p><img src="/feblog/assets/img/1675840482573.e3b1bc11.png" alt="1675840482573"></p> <p>可以把Page组件抽离出去，如下：</p> <p><img src="/feblog/assets/img/1675840673402.848493cf.png" alt="1675840673402"></p> <p>在App.jsx中使用Permission，如下：</p> <p><img src="/feblog/assets/img/1675840700823.6e456190.png" alt="1675840700823"></p> <p>浏览器再测试如下：</p> <p><img src="/feblog/assets/img/1675840712146.f9f402ef.png" alt="1675840712146"></p> <p><img src="/feblog/assets/img/1675840721506.a15af123.png" alt="1675840721506"></p> <p>把Permission中的规则放到我们之前规则中，如下：</p> <p><img src="/feblog/assets/img/1675840839464.39018adc.png" alt="1675840839464"></p> <p>在Permisson.jsx中导入，如下：</p> <p><img src="/feblog/assets/img/1675841224720.17562db5.png" alt="1675841224720"></p> <p>再次测试之，如下：</p> <p><img src="/feblog/assets/img/1675841246572.7cdd2cf2.png" alt="1675841246572"></p> <p><img src="/feblog/assets/img/1675841256177.532b76f0.png" alt="1675841256177"></p> <p>可以把Permission.jsx当成vue中的路由守卫。</p> <h4 id="_3-获取用户信息"><a href="#_3-获取用户信息" class="header-anchor">#</a> 3）获取用户信息</h4> <p>在Permmion.jsx中获取token，监听token的变化，如果token变了需要重新获取用户信息，代码如下：</p> <p><img src="/feblog/assets/img/1675842947256.69e2a27e.png" alt="1675842947256"></p> <p>浏览器测试如下：</p> <p><img src="/feblog/assets/img/1675842965942.b6416fdd.png" alt="1675842965942"></p> <p><img src="/feblog/assets/img/1675842981206.ce639416.png" alt="1675842981206"></p> <p>然后需要获取用户信息，对应的API，如下：</p> <p><img src="/feblog/assets/img/1675843013067.18e98ed7.png" alt="1675843013067"></p> <p>发请求是异步代码，需要写在异步的action中，如下：</p> <p><img src="/feblog/assets/img/1675843122081.e3acab30.png" alt="1675843122081"></p> <p>在守卫中，token变了，就需要获取用户信息了，如下：</p> <p><img src="/feblog/assets/img/1675843260017.1b68f820.png" alt="1675843260017"></p> <p>在浏览器中测试如下：</p> <p><img src="/feblog/assets/img/1675843296987.7a6fc162.png" alt="1675843296987"></p> <p>把用户信息存储到redux中，如下：</p> <p><img src="/feblog/assets/img/1675843362415.954f956f.png" alt="1675843362415"></p> <p>在仓库中定义状态，接收action，如下：</p> <p><img src="/feblog/assets/img/1675843617929.6d06c876.png" alt="1675843617929"></p> <p>把axios的二次封装，注释一部分代码，如下：</p> <p><img src="/feblog/assets/img/1675843645791.f784f09c.png" alt="1675843645791"></p> <p>浏览器测试之，如下：</p> <p><img src="/feblog/assets/img/1675843672968.5c6749ac.png" alt="1675843672968"></p> <h4 id="_4-根据roles获取accessroutes"><a href="#_4-根据roles获取accessroutes" class="header-anchor">#</a> 4）根据roles获取accessRoutes</h4> <p>使用后端返回的roles数组，和路由表，算法，生成当用户可以访问的路由规则们。写一个副作用，如下：</p> <p><img src="/feblog/assets/img/1675843930560.7dac47e8.png" alt="1675843930560"></p> <p>在计算accessRoutes之前，给路由规则，配置meta，如下：</p> <p><img src="/feblog/assets/img/1675844081613.76382aa7.png" alt="1675844081613"></p> <p><img src="/feblog/assets/img/1675844472629.44461948.png" alt="1675844472629"></p> <p>书写算法，如下：</p> <p><img src="/feblog/assets/img/1675844965348.bcd9f879.png" alt="1675844965348"></p> <p>参考代码如下：</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token comment">// roles 角色</span>
<span class="token comment">// tmp 每一个规则</span>
<span class="token comment">// hasPermission 判断一个角色是否有访问某个路由权限</span>
<span class="token comment">// 如：admin     meta: roles:[&quot;amdin&quot;,&quot;editor&quot;]</span>
<span class="token keyword">function</span> <span class="token function">hasPermission</span><span class="token punctuation">(</span><span class="token parameter">roles<span class="token punctuation">,</span> route</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>route<span class="token punctuation">.</span>meta <span class="token operator">&amp;&amp;</span> route<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>roles<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> roles<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">role</span> <span class="token operator">=&gt;</span> route<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>roles<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>role<span class="token punctuation">)</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// 没有meta</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// routes 所有动态路由</span>
<span class="token comment">// roles 角色</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">filterAsyncRoutes</span><span class="token punctuation">(</span><span class="token parameter">routes<span class="token punctuation">,</span> roles</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> res <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

    routes<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token parameter">route</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> tmp <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token operator">...</span>route
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">hasPermission</span><span class="token punctuation">(</span>roles<span class="token punctuation">,</span> tmp<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>tmp<span class="token punctuation">.</span>children<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                tmp<span class="token punctuation">.</span>children <span class="token operator">=</span> <span class="token function">filterAsyncRoutes</span><span class="token punctuation">(</span>tmp<span class="token punctuation">.</span>children<span class="token punctuation">,</span> roles<span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            res<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>tmp<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> res
<span class="token punctuation">}</span>

<span class="token comment">// generateRoutes 生成路由规则们</span>
<span class="token comment">// asyncRoutes 所有动态路由</span>
<span class="token comment">// roles 角色</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">generateRoutes</span><span class="token punctuation">(</span><span class="token parameter">asyncRoutes<span class="token punctuation">,</span> roles</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token keyword">return</span> <span class="token parameter">dispatch</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">let</span> accessRoutes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
        <span class="token comment">// filterAsyncRoutes 生成当前用户可以访问的路由规则们</span>
        accessRoutes <span class="token operator">=</span> <span class="token function">filterAsyncRoutes</span><span class="token punctuation">(</span>asyncRoutes<span class="token punctuation">,</span> roles<span class="token punctuation">)</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;accessRoutes:::&quot;</span><span class="token punctuation">,</span> accessRoutes<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 把路由规则们存储到redux</span>
        <span class="token comment">// dispatch({ type: 'USER_PERMISSION', payload: accessRoutes })</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><p>现在角色有了，全部的路由规则有了，算法有了，就可以生成当前用户可以访问的路由规则们，如下：</p> <p><img src="/feblog/assets/img/1675845604081.e7a47ac1.png" alt="1675845604081"></p> <p>浏览器中测试之，如下：</p> <p><img src="/feblog/assets/img/1675845077653.8dd54f89.png" alt="1675845077653"></p> <p>然后，需要把路由规则们，存储到redux中，如下：</p> <p><img src="/feblog/assets/img/1675845135192.1ddd5e24.png" alt="1675845135192"></p> <p>定义状态，让reducer接收信号，如下：</p> <p><img src="/feblog/assets/img/1675845633486.12360ae9.png" alt="1675845633486"></p> <p>测试如下：</p> <p><img src="/feblog/assets/img/1675845671560.d6ccd8ad.png" alt="1675845671560"></p> <h4 id="_5-生成全部路由规则和layout菜单"><a href="#_5-生成全部路由规则和layout菜单" class="header-anchor">#</a> 5）生成全部路由规则和Layout菜单</h4> <p>上面已经根据角色，计算出来，可以访问的路由规则们，然后生成全部的路由规则。你刚才计算出来的是动态路由规则，除了动态路由规则，还有静态路由规则，开始计算全部的路由规则，如下：</p> <p><img src="/feblog/assets/img/1675847134139.9c027ba3.png" alt="1675847134139"></p> <p>浏览器中效果如下：</p> <p><img src="/feblog/assets/img/1675847160641.79cd3377.png" alt="1675847160641"></p> <p>然后，根据规则，生成侧边菜单，如下：</p> <p><img src="/feblog/assets/img/1675847401191.7fce755f.png" alt="1675847401191"></p> <p><img src="/feblog/assets/img/1675847418635.143fbb1b.png" alt="1675847418635"></p> <p>还需要进行跳转，如下：</p> <p><img src="/feblog/assets/img/1675847544742.990b65c6.png" alt="1675847544742"></p> <p>浏览器测试之，如下：</p> <p><img src="/feblog/assets/img/1675847581018.e811ac35.png" alt="1675847581018"></p> <p><img src="/feblog/assets/img/1675847606636.045bad49.png" alt="1675847606636"></p> <p>再次测试一下：</p> <p><img src="/feblog/assets/img/1675847687141.a2a0cce5.png" alt="1675847687141"></p> <p><img src="/feblog/assets/img/1675847696148.d5f1999d.png" alt="1675847696148"></p> <p>还有一个比较大的流程图：</p> <p><img src="/feblog/assets/img/1675847817226.6e28cd04.png" alt="1675847817226"></p> <h3 id="_16-优化一下权限设计"><a href="#_16-优化一下权限设计" class="header-anchor">#</a> 16，优化一下权限设计</h3> <p>让admin用户看到首页大屏，商品管理，用户管理，如下：</p> <p><img src="/feblog/assets/img/1675905428308.173e78e4.png" alt="1675905428308"></p> <p>admin用户登录上去，如下：</p> <p><img src="/feblog/assets/img/1675905517306.eaf4d33f.png" alt="1675905517306"></p> <p>之前写了多个副作用，如下：</p> <p><img src="/feblog/assets/img/1675905805252.dffca863.png" alt="1675905805252"></p> <p>在第1个副作用中添加一个判断，如下：</p> <p><img src="/feblog/assets/img/1675905880624.f7904567.png" alt="1675905880624"></p> <p>现在把token删除了，当刷新时，就会直接去登录页面，如下：</p> <p><img src="/feblog/assets/img/1675905945086.223b53b1.png" alt="1675905945086"></p> <p>根据之前vue-element-admin那个权限设计图，优化一下代码。先设置一个白名单，如下：</p> <p><img src="/feblog/assets/img/1675906001887.ac284c05.png" alt="1675906001887"></p> <p>需要获取当前访问的路径，如下：</p> <p><img src="/feblog/assets/img/1675906273204.d1499415.png" alt="1675906273204"></p> <p>去访问非login路由，并且没有token，如下：</p> <p><img src="/feblog/assets/img/1675906330818.1f078db9.png" alt="1675906330818"></p> <p>还有在获取用户信息时，最好也加上判断，如下：</p> <p><img src="/feblog/assets/img/1675906447137.68e28af8.png" alt="1675906447137"></p> <p>继续优化，如果有token，你访问的还是登录页面，需要放行到后台首页面，如下：</p> <p><img src="/feblog/assets/img/1675906821816.bc00f85a.png" alt="1675906821816"></p> <p>现在放到了/这个路由了，如下：</p> <p><img src="/feblog/assets/img/1675906839891.bddc730e.png" alt="1675906839891"></p> <p>如果访问了/，还需要重定向到/dashboard，如下：</p> <p><img src="/feblog/assets/img/1675906930375.67728b0c.png" alt="1675906930375"></p> <p>访问/login，放到了/，重定向到了/dashboard，如下：</p> <p><img src="/feblog/assets/img/1675906958539.c13c0092.png" alt="1675906958539"></p> <p>如果token被篡改，过期了，如下：</p> <p><img src="/feblog/assets/img/1675907429355.1ef52863.png" alt="1675907429355"></p> <p>看服务器响应什么，如下：</p> <p><img src="/feblog/assets/img/1675907463347.a2b124a4.png" alt="1675907463347"></p> <p>在响应拦截器中处理之，如下：</p> <p><img src="/feblog/assets/img/1675907540295.c610c11d.png" alt="1675907540295"></p> <p>书写resetUser这个action，如下：</p> <p><img src="/feblog/assets/img/1675907630459.59a9519a.png" alt="1675907630459"></p> <p>reducer接收到这个信号，处理之，如下：</p> <p><img src="/feblog/assets/img/1675907723364.c13d01ab.png" alt="1675907723364"></p> <p>现在token被篡改了，测试如下：</p> <p><img src="/feblog/assets/img/1675907749065.a9b45437.png" alt="1675907749065"></p> <p><img src="/feblog/assets/img/1675907769402.9103682b.png" alt="1675907769402"></p> <p><img src="/feblog/assets/img/1675907798246.eda570e5.png" alt="1675907798246"></p> <p><img src="/feblog/assets/img/1675907817251.6c4091e9.png" alt="1675907817251"></p> <p>完整的Permission.jsx的代码如下：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> useRoutes<span class="token punctuation">,</span> useNavigate<span class="token punctuation">,</span> useLocation <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-router-dom&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useMemo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useSelector<span class="token punctuation">,</span> useDispatch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react-redux&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getInfo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/store/actions&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> generateRoutes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/store/permission&quot;</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> constantRoutes<span class="token punctuation">,</span> asyncRoutes <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/pages/index&quot;</span>

<span class="token comment">// 白名单</span>
<span class="token keyword">const</span> whiteList <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'/login'</span><span class="token punctuation">]</span>

<span class="token keyword">function</span> <span class="token function">Page</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> dispatch <span class="token operator">=</span> <span class="token function">useDispatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> token<span class="token punctuation">,</span> roles<span class="token punctuation">,</span> accessRoutes <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useSelector</span><span class="token punctuation">(</span><span class="token parameter">state</span> <span class="token operator">=&gt;</span> state<span class="token punctuation">.</span>user<span class="token punctuation">)</span>
    <span class="token keyword">const</span> navigator <span class="token operator">=</span> <span class="token function">useNavigate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> <span class="token punctuation">{</span> pathname <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">useLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// 监听token变化</span>
    <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 当token从无到有，有了token，才能获取用户信息</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token function">navigator</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">replace</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>

    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>token<span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>roles <span class="token operator">&amp;&amp;</span> roles<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// roles中有角色，配合路由表和算法，生成当前用户可以访问的路由规则们</span>
            <span class="token comment">// ....</span>
            <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">generateRoutes</span><span class="token punctuation">(</span>asyncRoutes<span class="token punctuation">,</span> roles<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>roles<span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>accessRoutes <span class="token operator">&amp;&amp;</span> accessRoutes<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">navigator</span><span class="token punctuation">(</span><span class="token string">&quot;/dashboard&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">replace</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>accessRoutes<span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// !whiteList.includes(pathname) 表示访问的路径并没有在白名单中</span>
        <span class="token comment">// 如果在白名单中，是不需要token</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>whiteList<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>pathname<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>token<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">navigator</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">replace</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 表示已经登录了，已经有token了，又访问登录页面</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>token <span class="token operator">&amp;&amp;</span> pathname <span class="token operator">===</span> <span class="token string">&quot;/login&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">navigator</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">replace</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>token <span class="token operator">&amp;&amp;</span> pathname <span class="token operator">===</span> <span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">navigator</span><span class="token punctuation">(</span><span class="token string">&quot;/dashboard&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token literal-property property">replace</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>pathname<span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token comment">// 计算出全部的路由规则</span>
    <span class="token keyword">const</span> routes <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token operator">...</span>constantRoutes<span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">// 静态路由规则copy一份</span>
        result<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>children <span class="token operator">=</span> accessRoutes
        <span class="token keyword">return</span> result<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>accessRoutes<span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> element <span class="token operator">=</span> <span class="token function">useRoutes</span><span class="token punctuation">(</span>constantRoutes<span class="token punctuation">)</span>
    <span class="token keyword">return</span> element<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Page<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br></div></div><h3 id="_17-echarts和bizcharts"><a href="#_17-echarts和bizcharts" class="header-anchor">#</a> 17，echarts和bizcharts</h3> <p>在管理系统中，图表也是非常重要的。我们说两个</p> <ul><li>echarts  不管是vue或react都可以使用，DOM图。</li> <li>bizcharts  只能在react中使用，里面是一堆的组件，用什么图，导入什么组件。非常简单。</li> <li>除了上面的这两个图表之外，还有其它的图表</li></ul> <p>先讲echarts，官网：https://echarts.apache.org/zh/index.html</p> <p><img src="/feblog/assets/img/1675908022670.2b9a8f91.png" alt="1675908022670"></p> <p>不用通过npm去安装，直接使用cdn，如下：</p> <p><img src="/feblog/assets/img/1675908087659.0fe4c923.png" alt="1675908087659"></p> <p><img src="/feblog/assets/img/1675908151140.f16319d1.png" alt="1675908151140"></p> <p><img src="/feblog/assets/img/1675908321276.df7d58d2.png" alt="1675908321276"></p> <p>证明echart导入成功了，如下：</p> <p><img src="/feblog/assets/img/1675908337203.a4fb61b9.png" alt="1675908337203"></p> <p>浏览器中测试之如下：</p> <p><img src="/feblog/assets/img/1675908352681.2cf3fb13.png" alt="1675908352681"></p> <p>echarts是用来绘制图表的，每一个图表都需要一个容器，就是一个div，还需要指定宽高，如下：</p> <p><img src="/feblog/assets/img/1675908477528.8154a56d.png" alt="1675908477528"></p> <p>开始绘图，绘图的步骤：</p> <ul><li>1）创建图表实例</li> <li>2）配置图表选项</li> <li>3）setOption()</li></ul> <p>在管理系统中，有几类图表用的是最多的</p> <ul><li>柱状图</li> <li>折线图</li> <li>饼图</li></ul> <p>开始绘制，如下：</p> <p><img src="/feblog/assets/img/1675910826645.3406d2e8.png" alt="1675910826645"></p> <p>参考代码如下：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;react&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>

    <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token comment">// 基于准备好的容器，初始化echarts实例</span>
        <span class="token keyword">const</span> chart <span class="token operator">=</span> echarts<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'main'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 配置图表选项(这里的配置至少1000多个)</span>
        <span class="token comment">// 但是你想你的需求，99%都可以通过配置实现</span>
        <span class="token keyword">var</span> options <span class="token operator">=</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">color</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'gold'</span><span class="token punctuation">,</span> <span class="token string">'pink'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">backgroundColor</span><span class="token operator">:</span> <span class="token string">'rgb(255,255,255)'</span><span class="token punctuation">,</span>
            <span class="token literal-property property">tooltip</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">toolbox</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">show</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                <span class="token literal-property property">feature</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                    <span class="token literal-property property">dataZoom</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token literal-property property">yAxisIndex</span><span class="token operator">:</span> <span class="token string">'none'</span>
                    <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">dataView</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">readOnly</span><span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">magicType</span><span class="token operator">:</span> <span class="token punctuation">{</span> <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'line'</span><span class="token punctuation">,</span> <span class="token string">'bar'</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">restore</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">saveAsImage</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;2023年中国汽车销售数据&quot;</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">xAxis</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'大众'</span><span class="token punctuation">,</span> <span class="token string">'奥迪'</span><span class="token punctuation">,</span> <span class="token string">'起亚'</span><span class="token punctuation">,</span> <span class="token string">'福特'</span><span class="token punctuation">,</span> <span class="token string">'菲亚特'</span><span class="token punctuation">]</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">yAxis</span><span class="token operator">:</span> <span class="token punctuation">{</span>

            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token literal-property property">series</span><span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token punctuation">{</span>
                    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">110</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">,</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">,</span> <span class="token number">280</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">showBackground</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;2022&quot;</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">backgroundStyle</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token comment">// color: 'rgba(180, 180, 180, 1)'</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">220</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">,</span> <span class="token number">260</span><span class="token punctuation">,</span> <span class="token number">280</span><span class="token punctuation">,</span> <span class="token number">220</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">showBackground</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;2023&quot;</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">backgroundStyle</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token comment">// color: 'rgba(180, 180, 180, 1)'</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token punctuation">,</span>
                <span class="token punctuation">{</span>
                    <span class="token literal-property property">type</span><span class="token operator">:</span> <span class="token string">&quot;bar&quot;</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">data</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">120</span><span class="token punctuation">,</span> <span class="token number">380</span><span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">,</span> <span class="token number">260</span><span class="token punctuation">,</span> <span class="token number">320</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">showBackground</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&quot;2023&quot;</span><span class="token punctuation">,</span>
                    <span class="token literal-property property">backgroundStyle</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                        <span class="token comment">// color: 'rgba(180, 180, 180, 1)'</span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token literal-property property">legend</span><span class="token operator">:</span> <span class="token punctuation">{</span>
                <span class="token literal-property property">top</span><span class="token operator">:</span> <span class="token string">&quot;50%&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">left</span><span class="token operator">:</span> <span class="token string">&quot;90%&quot;</span><span class="token punctuation">,</span>
                <span class="token literal-property property">orient</span><span class="token operator">:</span> <span class="token string">&quot;vertical&quot;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>

        chart<span class="token punctuation">.</span><span class="token function">setOption</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dashboard<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token punctuation">{</span><span class="token comment">/* div是用来装图表的 */</span><span class="token punctuation">}</span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>main<span class="token punctuation">&quot;</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token string">'480px'</span><span class="token punctuation">,</span> <span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token string">'300px'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br></div></div><p>效果如下：</p> <p><img src="/feblog/assets/img/1675910862521.265bcd71.png" alt="1675910862521"></p> <p>把面的图，封装成一个组件，如下：</p> <p><img src="/feblog/assets/img/1675912008516.39744860.png" alt="1675912008516"></p> <p>在在大屏页面中，导入，如下：</p> <p><img src="/feblog/assets/img/1675912312165.1aae1d03.png" alt="1675912312165"></p> <p>在vue-element-admin，它的图表是响应式，如下：</p> <p><img src="/feblog/assets/img/1675912388405.a6e43728.png" alt="1675912388405"></p> <p>现在我们的图表并不是响应的，如下：</p> <p><img src="/feblog/assets/img/1675912433424.3c4aa6f2.png" alt="1675912433424"></p> <p>把图片处理成响应式，需要设置容器的宽度是100%，如下：</p> <p><img src="/feblog/assets/img/1675912471354.0cf4dd15.png" alt="1675912471354"></p> <p>当浏览器宽度变小时，需要重新调用echarts实例的resize方法，如下：</p> <p><img src="/feblog/assets/img/1675912708840.edd1eee0.png" alt="1675912708840"></p> <p><img src="assets/1678086786493.png" alt="1678086786493"></p> <p>现在浏览器容器一变化，立即触发resize，要做防抖处理。在vue-element-admin中人家封装好了防抖函数，我们只需要直接引入这个防抖函数，使用之。自习实现。</p> <p>下去，大家把vue-element-admin中的四个图表，迁移到react项目中。</p> <p>我们再去了解一种图片，叫bizchart，只能在react中使用，都是封装好的组件。</p> <p>官网：https://bizcharts.taobao.com/</p> <p><img src="/feblog/assets/img/1675913077195.21af0fd9.png" alt="1675913077195"></p> <p><img src="/feblog/assets/img/1675913096661.c58d7fb5.png" alt="1675913096661"></p> <p>上面的图，都是以组件的形式提供的。如下：</p> <p><img src="/feblog/assets/img/1675913171121.39b09e85.png" alt="1675913171121"></p> <p>要使用bizcharts，需要安装，如下：</p> <p><img src="/feblog/assets/img/1675913212262.584fb775.png" alt="1675913212262"></p> <p>封装一个柱状图，如下：</p> <p><img src="/feblog/assets/img/1675913654524.a9663b02.png" alt="1675913654524"></p> <p>在首页面中引入之，如下：</p> <p><img src="/feblog/assets/img/1675913671326.6a482a65.png" alt="1675913671326"></p> <p>效果如下：</p> <p><img src="/feblog/assets/img/1675913684319.d1433bac.png" alt="1675913684319"></p> <h3 id="_18-联调商品模块的接口"><a href="#_18-联调商品模块的接口" class="header-anchor">#</a> 18，联调商品模块的接口</h3> <h4 id="_1-商品分类的渲染"><a href="#_1-商品分类的渲染" class="header-anchor">#</a> 1）商品分类的渲染</h4> <p>商品分类接口如下 ：</p> <p><img src="/feblog/assets/img/1676009094682.26a04893.png" alt="1676009094682"></p> <p>封装action，如下：</p> <p><img src="/feblog/assets/img/1676009126742.57e1f5fe.png" alt="1676009126742"></p> <p>在商品分类模块中调用接口如下：</p> <p><img src="/feblog/assets/img/1676009173366.d8daef58.png" alt="1676009173366"></p> <p>浏览器中就可以得到商品分类数据，如下：</p> <p><img src="/feblog/assets/img/1676009191196.73a9f131.png" alt="1676009191196"></p> <p>把数据存储到redux中，如下：</p> <p><img src="/feblog/assets/img/1676009230956.36de41ea.png" alt="1676009230956"></p> <p>准备good模块，如下：</p> <p><img src="/feblog/assets/img/1676009277874.d0d4525f.png" alt="1676009277874"></p> <p>合并之，如下：</p> <p><img src="/feblog/assets/img/1676009319790.4abbe00a.png" alt="1676009319790"></p> <p>获取分类数据并渲染如下：</p> <p><img src="/feblog/assets/img/1676009425932.bbfdcd4d.png" alt="1676009425932"></p> <p>浏览器中测试如下：</p> <p><img src="/feblog/assets/img/1676009439352.4b346d01.png" alt="1676009439352"></p> <p>添加全部分类，如下：</p> <p><img src="/feblog/assets/img/1676009488041.9c180dc0.png" alt="1676009488041"></p> <p>测试如下：</p> <p><img src="/feblog/assets/img/1676009504259.7aa3fe41.png" alt="1676009504259"></p> <p>在使用商品分类组件中，指定value，如下：</p> <p><img src="/feblog/assets/img/1676009590009.3e7c88a8.png" alt="1676009590009"></p> <p>定义相关状态，收集数据，如下：</p> <p><img src="/feblog/assets/img/1676009742170.10502ba9.png" alt="1676009742170"></p> <p>测试是否可以获取商品分类数据，如下：</p> <p><img src="/feblog/assets/img/1676009873324.e5968968.png" alt="1676009873324"></p> <p>上面这样的组件，叫受控组件。</p> <h4 id="_2-商品列表的渲染"><a href="#_2-商品列表的渲染" class="header-anchor">#</a> 2）商品列表的渲染</h4> <p>准备API接口如下：</p> <p><img src="/feblog/assets/img/1676009941359.ca13a1a9.png" alt="1676009941359"></p> <p>在组件中直接引入，然后调用接口如下：</p> <p><img src="/feblog/assets/img/1676010179708.c173908f.png" alt="1676010179708"></p> <p>浏览器中测试之，如下：</p> <p><img src="/feblog/assets/img/1676010196407.d7094329.png" alt="1676010196407"></p> <p>更改表格的数据源，如下：</p> <p><img src="/feblog/assets/img/1676010298304.df0dee7d.png" alt="1676010298304"></p> <p>浏览器中测试如下：</p> <p><img src="/feblog/assets/img/1676010259955.56ee0356.png" alt="1676010259955"></p> <p>指定分页，如下：</p> <p><img src="/feblog/assets/img/1676010375514.1161462c.png" alt="1676010375514"></p> <p><img src="/feblog/assets/img/1676010390303.03153519.png" alt="1676010390303"></p> <p>浏览器中测试如下：</p> <p><img src="/feblog/assets/img/1676010412012.561a93f1.png" alt="1676010412012"></p> <p>安装moment模块，处理发布时间，如下：</p> <p><img src="data:image/png;base64,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" alt="1676010575762"></p> <p>设置表格的列信息如下：</p> <p><img src="/feblog/assets/img/1676010922324.7bd96f59.png" alt="1676010922324"></p> <p>参考代码如下：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token comment">// 表格的列表（如果要做自定义列，使用useMemo）</span>
    <span class="token keyword">const</span> columns <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'商品'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">align</span><span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> <span class="token string">'name'</span><span class="token punctuation">,</span>
                <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">text<span class="token punctuation">,</span> row<span class="token punctuation">,</span> idnx</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token comment">// do something</span>
                    <span class="token keyword">return</span> <span class="token punctuation">(</span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">className</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>good<span class="token punctuation">'</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">http://47.94.210.129:9999</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>row<span class="token punctuation">.</span>img<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span><span class="token plain-text">
                            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>text<span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                    <span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'价格'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> <span class="token string">'price'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">align</span><span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
                <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">text</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">￥</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">Number</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toFixed</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                <span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'品类'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> <span class="token string">'cate'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">align</span><span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
                <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">cate</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span>cates<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                        <span class="token keyword">const</span> <span class="token punctuation">[</span>r<span class="token punctuation">]</span> <span class="token operator">=</span> cates<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">ele</span> <span class="token operator">=&gt;</span> ele<span class="token punctuation">.</span>cate <span class="token operator">===</span> cate<span class="token punctuation">)</span>
                        <span class="token keyword">return</span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>r <span class="token operator">?</span> r<span class="token punctuation">.</span>cate_zh <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'是否热销'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> <span class="token string">'hot'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">align</span><span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
                <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">text</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>text <span class="token operator">?</span> <span class="token string">'是'</span> <span class="token operator">:</span> <span class="token string">'否'</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                <span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'状态'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> <span class="token string">'store_status'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">align</span><span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
                <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">text</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>text <span class="token operator">?</span> <span class="token string">'已上架'</span> <span class="token operator">:</span> <span class="token string">'待上架'</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
                <span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'发布时间'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">dataIndex</span><span class="token operator">:</span> <span class="token string">'create_time'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">align</span><span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
                <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token parameter">text</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
                    <span class="token keyword">const</span> m <span class="token operator">=</span> <span class="token function">moment</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span>
                    <span class="token keyword">return</span> <span class="token punctuation">(</span>
                        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>m<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'YYYY年MM月DD'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>m<span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token string">'HH:mm:ss'</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
                    <span class="token punctuation">)</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">{</span>
                <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">'操作'</span><span class="token punctuation">,</span>
                <span class="token literal-property property">align</span><span class="token operator">:</span> <span class="token string">'center'</span><span class="token punctuation">,</span>
                <span class="token function-variable function">render</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">_<span class="token punctuation">,</span> row</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span>
                    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span>
                            <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>primary<span class="token punctuation">'</span></span>
                            <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>small<span class="token punctuation">'</span></span>
                            <span class="token attr-name">onClick</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">navigate</span><span class="token punctuation">(</span><span class="token string">'/good/edit/'</span> <span class="token operator">+</span> row<span class="token punctuation">.</span>_id<span class="token punctuation">)</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                            编辑
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Button</span></span> <span class="token attr-name">danger</span> <span class="token attr-name">size</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>small<span class="token punctuation">'</span></span> <span class="token attr-name">style</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">marginLeft</span><span class="token operator">:</span> <span class="token string">'10px'</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">删除</span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Button</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
                    </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span></span><span class="token punctuation">&gt;</span></span>
                <span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>cates<span class="token punctuation">,</span> list<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// 当cates变化时，重新计算一个columns</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br></div></div><p>浏览器效果如下：</p> <p><img src="/feblog/assets/img/1676010952767.f62bdc90.png" alt="1676010952767"></p> <h4 id="_3-商品新增"><a href="#_3-商品新增" class="header-anchor">#</a> 3）商品新增</h4> <p>点击跳转到商品新增页面，如下：</p> <p><img src="/feblog/assets/img/1676011092106.7faa434b.png" alt="1676011092106"></p> <p>点击测试可以到达商品新增页面，收集页面中的数据，只能图片还不能收集，如下：</p> <p><img src="/feblog/assets/img/1676011184102.bf0547c7.png" alt="1676011184102"></p> <p>此时，商品分类的下拉菜单不能显示分类了，处理之，如下：</p> <p><img src="/feblog/assets/img/1676011278722.48fdda24.png" alt="1676011278722"></p> <p>在商品列表中传入hasAll，如下：</p> <p><img src="/feblog/assets/img/1676011330963.df2770b9.png" alt="1676011330963"></p> <p>这样，在商品列表页面有全部选项，在商品添加页面没有全部选项，如下：</p> <p><img src="/feblog/assets/img/1676011364064.3ba0b2bc.png" alt="1676011364064"></p> <p><img src="/feblog/assets/img/1676011372366.f3b3d414.png" alt="1676011372366"></p> <p>二次封装图片上传组件（自行分析），如下：</p> <p><img src="/feblog/assets/img/1676011494500.89315225.png" alt="1676011494500"></p> <p>参考代码如下：</p> <div class="language-jsx line-numbers-mode"><pre class="language-jsx"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Upload<span class="token punctuation">,</span> Image<span class="token punctuation">,</span> message <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'antd'</span>
<span class="token keyword">import</span> ImgCrop <span class="token keyword">from</span> <span class="token string">'antd-img-crop'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useState<span class="token punctuation">,</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>

<span class="token comment">// value + onChange 是 Form.Item 组件给的，用于表单自动取值</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> value<span class="token punctuation">,</span> onChange <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> <span class="token punctuation">[</span>fileList<span class="token punctuation">,</span> setFileList<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">// 在编辑时给Upload加默认值</span>

    <span class="token comment">// 使用Form.Item传递过来的value渲染Upload</span>
    <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">&amp;&amp;</span> fileList<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">setFileList</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
                <span class="token punctuation">{</span> <span class="token literal-property property">uid</span><span class="token operator">:</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token literal-property property">thumbUrl</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">http://47.94.210.129:9999</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>value<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span> <span class="token punctuation">}</span>
            <span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token punctuation">)</span>

    <span class="token keyword">const</span> <span class="token function-variable function">imgSuccess</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> file<span class="token punctuation">,</span> fileList <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">setFileList</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token operator">...</span>fileList<span class="token punctuation">]</span><span class="token punctuation">)</span>  <span class="token comment">// 解决“Upload受控后onChange只执行一次”的问题</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">'done'</span> <span class="token operator">&amp;&amp;</span> file<span class="token punctuation">.</span>response<span class="token punctuation">.</span>err <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">const</span> img <span class="token operator">=</span> file<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>img
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'上传成功---img'</span><span class="token punctuation">,</span> img<span class="token punctuation">)</span>
            <span class="token function">onChange</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span> <span class="token comment">// 回传图片路径给Form.Item</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// 图片上传前的校验</span>
    <span class="token keyword">const</span> <span class="token function-variable function">imgCheck</span> <span class="token operator">=</span> <span class="token parameter">file</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'image/png'</span><span class="token punctuation">,</span> <span class="token string">'image/jpg'</span><span class="token punctuation">]</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>arr<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span>file<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'图片只能是 png / jpg 格式'</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token comment">// 图片不能大于2M</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>file<span class="token punctuation">.</span>size <span class="token operator">/</span> <span class="token number">1024</span> <span class="token operator">/</span> <span class="token number">1024</span> <span class="token operator">&gt;</span> <span class="token number">2</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            message<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'图片不能大于 2M'</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">reject</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> Promise<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span> <span class="token comment">// 一定要传入file</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">ImgCrop</span></span> <span class="token attr-name">rotate</span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
            </span><span class="token punctuation">{</span><span class="token comment">/*itemRender={(_, file)=&gt;(&lt;Image src={file.url} /&gt;)*/</span><span class="token punctuation">}</span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token class-name">Upload</span></span>
                <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://localhost:8080/api/react/upload/img<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">'</span>good<span class="token punctuation">'</span></span>
                <span class="token attr-name">headers</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> <span class="token literal-property property">Authorization</span><span class="token operator">:</span> localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">}</span></span>
                <span class="token attr-name">listType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>picture-card<span class="token punctuation">&quot;</span></span>
                <span class="token attr-name">fileList</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>fileList<span class="token punctuation">}</span></span>
                <span class="token attr-name">maxCount</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">}</span></span>
                <span class="token attr-name">onChange</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>imgSuccess<span class="token punctuation">}</span></span>
                <span class="token attr-name">beforeUpload</span><span class="token script language-javascript"><span class="token script-punctuation punctuation">=</span><span class="token punctuation">{</span>imgCheck<span class="token punctuation">}</span></span>
            <span class="token punctuation">&gt;</span></span><span class="token plain-text">
                </span><span class="token punctuation">{</span>fileList<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token string">'+Upload'</span><span class="token punctuation">}</span><span class="token plain-text">
            </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">Upload</span></span><span class="token punctuation">&gt;</span></span><span class="token plain-text">
        </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span><span class="token class-name">ImgCrop</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br></div></div><p>测试如下：</p> <p><img src="/feblog/assets/img/1676011637887.689db3b2.png" alt="1676011637887"></p> <p>此时，再去收集数据，就OK了，如下：</p> <p><img src="/feblog/assets/img/1676011702849.d0d1baa3.png" alt="1676011702849"></p> <p>点击添加数据，API接口，如下：</p> <p><img src="/feblog/assets/img/1676011905803.faee2dd4.png" alt="1676011905803"></p> <p>点击确定，实现添加，如下：</p> <p><img src="/feblog/assets/img/1676011947979.f6478126.png" alt="1676011947979"></p> <p>测试如下：</p> <p><img src="/feblog/assets/img/1676012007075.57d4a773.png" alt="1676012007075"></p> <p>到此，商品添加就实现了。</p> <h4 id="_4-商品编辑实现"><a href="#_4-商品编辑实现" class="header-anchor">#</a> 4）商品编辑实现</h4> <p>配置动态路由，如下：</p> <p><img src="/feblog/assets/img/1676012138176.792f0339.png" alt="1676012138176"></p> <p>点击编辑去商品编辑页面，如下：</p> <p><img src="/feblog/assets/img/1676012246205.a87c2528.png" alt="1676012246205"></p> <p>点击测试之，如下：</p> <p><img src="/feblog/assets/img/1676012268355.3119e351.png" alt="1676012268355"></p> <p>此时，商品新增和商品编辑共用同一个页面。</p> <p>在商品编辑页面中，获取到商品ID，如下：</p> <p><img src="/feblog/assets/img/1676012356614.54b5033c.png" alt="1676012356614"></p> <p>根据ID发送ajax请求，获取商品详情，实现数据回显如下：</p> <p><img src="/feblog/assets/img/1676012489407.f145f9e3.png" alt="1676012489407"></p> <p>浏览器中测试之，如下：</p> <p><img src="/feblog/assets/img/1676012502530.7f1c44d3.png" alt="1676012502530"></p> <p>然后实现编辑，如下：</p> <p><img src="/feblog/assets/img/1676012578419.ba350cdb.png" alt="1676012578419"></p> <p>测试如下：</p> <p><img src="/feblog/assets/img/1676012622878.1f69ac5a.png" alt="1676012622878"></p> <p><img src="/feblog/assets/img/1676012630942.1a8d7b32.png" alt="1676012630942"></p> <p>到此，商品编辑实现。</p> <h4 id="_5-优化"><a href="#_5-优化" class="header-anchor">#</a> 5）优化</h4> <p>指定表单页面是新增还是编辑，如下：</p> <p><img src="/feblog/assets/img/1676014617871.2f46f003.png" alt="1676014617871"></p> <p>指定提交按钮是新增还是编辑，如下：</p> <p><img src="/feblog/assets/img/1676014669700.7b4016d0.png" alt="1676014669700"></p> <p>测试如下：</p> <p><img src="/feblog/assets/img/1676014698170.761dad5a.png" alt="1676014698170"></p> <p>实现分页，如下：</p> <p><img src="/feblog/assets/img/1676015169037.3e2ebc8c.png" alt="1676015169037"></p> <p><img src="/feblog/assets/img/1676015180460.b78aa8c0.png" alt="1676015180460"></p> <p>实现搜索：</p> <p><img src="/feblog/assets/img/1676015849947.67bf09f5.png" alt="1676015849947"></p> <p><img src="/feblog/assets/img/1676015868316.a71476d9.png" alt="1676015868316"></p> <p>浏览器测试如下：</p> <p><img src="/feblog/assets/img/1676015882703.8c2d783a.png" alt="1676015882703"></p></div></section> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">7/24/2023, 8:24:40 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev"><a href="/feblog/Framework/react/12.html" class="prev">
            12-Hooks
          </a></span> <!----></p></div> <div class="comments-wrapper"><!----></div> <ul class="side-bar sub-sidebar-wrapper" style="width:12rem;" data-v-cb1513f6><li class="level-2" data-v-cb1513f6><a href="/feblog/Framework/react/13.html#一-项目实战" class="sidebar-link reco-side-一-项目实战" data-v-cb1513f6>一，项目实战</a></li><li class="level-3" data-v-cb1513f6><a href="/feblog/Framework/react/13.html#_1-路由的使用" class="sidebar-link reco-side-_1-路由的使用" data-v-cb1513f6>1，路由的使用</a></li><li class="level-3" data-v-cb1513f6><a href="/feblog/Framework/react/13.html#_2-antd的使用" class="sidebar-link reco-side-_2-antd的使用" data-v-cb1513f6>2，antd的使用</a></li><li class="level-3" data-v-cb1513f6><a href="/feblog/Framework/react/13.html#_3-搭建后台首页面" class="sidebar-link reco-side-_3-搭建后台首页面" data-v-cb1513f6>3，搭建后台首页面</a></li><li class="level-3" data-v-cb1513f6><a href="/feblog/Framework/react/13.html#_4-侧边栏菜单生成" class="sidebar-link reco-side-_4-侧边栏菜单生成" data-v-cb1513f6>4，侧边栏菜单生成</a></li><li class="level-3" data-v-cb1513f6><a href="/feblog/Framework/react/13.html#_5-实现面包屑导航" class="sidebar-link reco-side-_5-实现面包屑导航" data-v-cb1513f6>5，实现面包屑导航</a></li><li class="level-3" data-v-cb1513f6><a href="/feblog/Framework/react/13.html#_7-全屏与退出全屏" class="sidebar-link reco-side-_7-全屏与退出全屏" data-v-cb1513f6>7，全屏与退出全屏</a></li><li class="level-3" data-v-cb1513f6><a href="/feblog/Framework/react/13.html#_8-集成redux" class="sidebar-link reco-side-_8-集成redux" data-v-cb1513f6>8，集成Redux</a></li><li class="level-3" data-v-cb1513f6><a href="/feblog/Framework/react/13.html#_9-组件大小的全局切换" class="sidebar-link reco-side-_9-组件大小的全局切换" data-v-cb1513f6>9，组件大小的全局切换</a></li><li class="level-3" data-v-cb1513f6><a href="/feblog/Framework/react/13.html#_10-国际化" class="sidebar-link reco-side-_10-国际化" data-v-cb1513f6>10，国际化</a></li><li class="level-3" data-v-cb1513f6><a href="/feblog/Framework/react/13.html#_11-主题色切换" class="sidebar-link reco-side-_11-主题色切换" data-v-cb1513f6>11，主题色切换</a></li><li class="level-3" data-v-cb1513f6><a href="/feblog/Framework/react/13.html#_12-绘制商品表格页面-copy" class="sidebar-link reco-side-_12-绘制商品表格页面-copy" data-v-cb1513f6>12，绘制商品表格页面（copy）</a></li><li class="level-3" data-v-cb1513f6><a href="/feblog/Framework/react/13.html#_13-绘制商品表单页面-copy" class="sidebar-link reco-side-_13-绘制商品表单页面-copy" data-v-cb1513f6>13，绘制商品表单页面（copy）</a></li><li class="level-3" data-v-cb1513f6><a href="/feblog/Framework/react/13.html#_14-绘制登录页面和联调准备" class="sidebar-link reco-side-_14-绘制登录页面和联调准备" data-v-cb1513f6>14，绘制登录页面和联调准备</a></li><li class="level-3" data-v-cb1513f6><a href="/feblog/Framework/react/13.html#_15-联调登录接口-权限-难" class="sidebar-link reco-side-_15-联调登录接口-权限-难" data-v-cb1513f6>15，联调登录接口（权限/难）</a></li><li class="level-3" data-v-cb1513f6><a href="/feblog/Framework/react/13.html#_16-优化一下权限设计" class="sidebar-link reco-side-_16-优化一下权限设计" data-v-cb1513f6>16，优化一下权限设计</a></li><li class="level-3" data-v-cb1513f6><a href="/feblog/Framework/react/13.html#_17-echarts和bizcharts" class="sidebar-link reco-side-_17-echarts和bizcharts" data-v-cb1513f6>17，echarts和bizcharts</a></li><li class="level-3" data-v-cb1513f6><a href="/feblog/Framework/react/13.html#_18-联调商品模块的接口" class="sidebar-link reco-side-_18-联调商品模块的接口" data-v-cb1513f6>18，联调商品模块的接口</a></li></ul></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div></div></div>
    <script src="/feblog/assets/js/app.51e0e5f0.js" defer></script><script src="/feblog/assets/js/28.9ddac576.js" defer></script><script src="/feblog/assets/js/1.485e4e25.js" defer></script><script src="/feblog/assets/js/4.28e0859f.js" defer></script>
  </body>
</html>
